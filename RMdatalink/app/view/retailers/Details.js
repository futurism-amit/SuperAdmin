/*
 * File: app/view/retailers/Details.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('RMdatalink.view.retailers.Details', {
    extend: 'Ext.Container',
    alias: 'widget.retailerDetails',

    requires: [
        'RMdatalink.view.detailsHeader',
        'RMdatalink.view.common.searchView',
        'RMdatalink.view.BlueBookListContainer',
        'RMdatalink.view.listWithHeader',
        'RMdatalink.view.ResizableNote',
        'Ext.tab.Panel',
        'Ext.form.FieldSet',
        'Ext.Img',
        'Ext.field.File',
        'Ext.Label',
        'Ext.Button',
        'Ext.XTemplate',
        'Ext.form.Panel',
        'Ext.field.Email',
        'Ext.field.Url',
        'Ext.field.TextArea',
        'Ext.field.Select',
        'Ext.dataview.List',
        'Ext.field.Number',
        'Ext.field.Password',
        'Ext.field.Radio',
        'Ext.Spacer',
        'Ext.tab.Bar',
        'Ext.field.Search'
    ],

    config: {
        height: '100%',
        itemId: 'RDretailers_vendorsDetailViewContainer',
        width: '100%',
        layout: 'vbox',
        items: [
            {
                xtype: 'detailsHeader',
                itemId: 'retailerDetailsHeader',
                flex: 1
            },
            {
                xtype: 'container',
                flex: 15,
                layout: 'hbox',
                items: [
                    {
                        xtype: 'tabpanel',
                        flex: 2,
                        cls: 'x-rm-tabpanel',
                        itemId: 'retailerDetailsMainTabPanel',
                        ui: 'light',
                        items: [
                            {
                                xtype: 'container',
                                title: 'RETAILER',
                                itemId: 'RDStoresTab',
                                layout: 'vbox',
                                items: [
                                    {
                                        xtype: 'panel',
                                        cls: 'x-rm-rdstorelogoheader',
                                        height: '85px',
                                        hidden: true,
                                        itemId: 'logoHearderPanel',
                                        margin: '10 0',
                                        width: '90%',
                                        layout: {
                                            type: 'hbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'fieldset',
                                                cls: 'x-rm-rdformpanel',
                                                height: '90px',
                                                margin: '0 0 0 47',
                                                width: '100px',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'image',
                                                        cls: 'x-rm-rdthumbnail',
                                                        height: '100%',
                                                        hidden: false,
                                                        itemId: 'RDUsersStoreLogoImage',
                                                        style: '',
                                                        width: '100px',
                                                        src: 'resources//images//logos//default_User.jpg'
                                                    },
                                                    {
                                                        xtype: 'filefield',
                                                        cls: 'x-rm-selectFileFld',
                                                        height: '100%',
                                                        itemId: 'rm_selectFileForStore',
                                                        margin: '0 0 0 -100px',
                                                        width: '100px',
                                                        component: {
                                                            xtype: 'fileinput'
                                                        },
                                                        accept: 'image/*'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                height: '100%',
                                                itemId: 'retailerValuesLabels',
                                                margin: '0 0 0 20',
                                                width: '62%',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'Info',
                                                        itemId: 'storeNameOrderLabelItemID'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'scdscfds',
                                                        itemId: 'cityNameLabelItemID'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'asdascf',
                                                        itemId: 'lastLoginLabelItemID'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'sascsa',
                                                        itemId: 'lastExportLabelItemID'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'billingDtlLbl',
                                                        itemId: 'billingDtlLbl'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                height: '100%',
                                                hidden: true,
                                                itemId: 'storeValuesLabels',
                                                margin: '0 0 0 20',
                                                width: '62%',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'Info',
                                                        itemId: 'vendorNameLbl'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'Info',
                                                        itemId: 'vendorCollectionsLbl'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'scdscfds',
                                                        itemId: 'vendorRugImageLbl'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'asdascf',
                                                        itemId: 'vendorLastUpdateLbl'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'sascsa',
                                                        itemId: 'vendorPriceLbl'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                height: '100%',
                                                width: '22%',
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'end'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        cls: [
                                                            'x-rm-blueBtn',
                                                            'labelLineHeight'
                                                        ],
                                                        hidden: true,
                                                        itemId: 'RDStoreTabEditBtnItemID',
                                                        margin: '0 40 0 0',
                                                        ui: 'plain',
                                                        width: 80,
                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                        text: 'EDIT'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        cls: 'x-rm-blueBtn',
                                                        itemId: 'RDStoreTabResetPwdBtn',
                                                        margin: '10 40 0 0',
                                                        ui: 'plain',
                                                        width: 126,
                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                        text: 'Reset Password'
                                                    },
                                                    {
                                                        xtype: 'dataview',
                                                        cls: 'x-rm-rdstoreperf-list',
                                                        data: [
                                                            {
                                                                storeperf: 'Bad'
                                                            },
                                                            {
                                                                storeperf: 'Good'
                                                            },
                                                            {
                                                                storeperf: 'Great'
                                                            }
                                                        ],
                                                        height: '20px',
                                                        hidden: true,
                                                        itemId: 'RDStoreTabPerformance',
                                                        margin: '2 0',
                                                        width: '100%',
                                                        scrollable: false,
                                                        itemTpl: [
                                                            '<div class="pointerCursor">{storeperf}</div>'
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        cls: 'x-rm-rdstore-reseller-label',
                                                        html: 'Reseller:',
                                                        itemId: 'RDStoreTabReseller',
                                                        width: '100%'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'formpanel',
                                        action: 'setScrollBarVisible',
                                        flex: 1,
                                        cls: 'x-rm-rdformpanel',
                                        disabled: false,
                                        itemId: 'RDStoreTabFormPanel',
                                        width: '100%',
                                        scrollable: true,
                                        layout: {
                                            type: 'vbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'label',
                                                hidden: true,
                                                html: 'NEW RETAILERS',
                                                itemId: 'RDStoreLabel'
                                            },
                                            {
                                                xtype: 'panel',
                                                height: '50px',
                                                hidden: true,
                                                itemId: 'RDStoreLogoPanel',
                                                margin: '50 0 10 0',
                                                width: '90%',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'Store Logo',
                                                        itemId: 'RDStoreLogoLabel',
                                                        margin: '20 44 0 10',
                                                        style: 'font-family: OpenSans;font-weight: 500;font-size: 70%;color: #6E6E70;'
                                                    },
                                                    {
                                                        xtype: 'filefield',
                                                        cls: 'x-rm-rdNophoto',
                                                        height: '50px',
                                                        hidden: false,
                                                        itemId: 'RDStoreLogo',
                                                        width: '50px',
                                                        accept: 'image/*'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                itemId: 'rtDStrContactDtlFldSet',
                                                margin: '0 0 0 0',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'RDStoreName',
                                                        label: 'Store Name',
                                                        labelWidth: '110px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'RDAccountDetails',
                                                        label: 'Account #',
                                                        labelWidth: '110px'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                itemId: 'RDStoreOwner',
                                                label: 'Store Owner',
                                                labelWidth: '110px'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreAddress',
                                                        width: '78%',
                                                        label: 'Address',
                                                        labelWidth: '110px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDStoreSuite',
                                                        width: '22%',
                                                        label: 'Suite',
                                                        labelWidth: '47px'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreCity',
                                                        width: '58%',
                                                        label: 'City',
                                                        labelWidth: '110px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'autoSuggestionField',
                                                        itemId: 'RDStoreState',
                                                        margin: '0 1%',
                                                        width: '18%',
                                                        label: 'State',
                                                        labelWidth: '55%',
                                                        autoComplete: true
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDStoreZip',
                                                        width: '22%',
                                                        label: 'Zip',
                                                        maxLength: 5
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'emailfield',
                                                action: 'clearIconTap',
                                                itemId: 'RDStoreEmail',
                                                label: 'Email',
                                                labelWidth: '110px',
                                                placeHolder: 'email@example.com'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDStorePhone',
                                                        width: '50%',
                                                        label: 'Phone',
                                                        labelWidth: '110px',
                                                        maxLength: 16
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDStorePhoneExt',
                                                        width: '20%',
                                                        label: 'Ext.',
                                                        labelWidth: '40px',
                                                        maxLength: 4
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDStoreFax',
                                                        width: '30%',
                                                        label: 'Fax',
                                                        labelWidth: '40px',
                                                        maxLength: 16
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'urlfield',
                                                action: 'clearIconTap',
                                                itemId: 'RDStoreWebsite',
                                                label: 'Website',
                                                labelWidth: '110px',
                                                placeHolder: 'http://example.com'
                                            },
                                            {
                                                xtype: 'urlfield',
                                                action: 'clearIconTap',
                                                itemId: 'RDStoreWebsiteFbFld',
                                                label: 'Facebook',
                                                labelWidth: '110px',
                                                placeHolder: 'http://example.com'
                                            },
                                            {
                                                xtype: 'urlfield',
                                                action: 'clearIconTap',
                                                itemId: 'RDStoreWebsiteTwFld',
                                                label: 'Twitter',
                                                labelWidth: '110px',
                                                placeHolder: 'http://example.com'
                                            },
                                            {
                                                xtype: 'urlfield',
                                                action: 'clearIconTap',
                                                itemId: 'RDStoreWebsiteLnFld',
                                                label: 'Linked in',
                                                labelWidth: '110px',
                                                placeHolder: 'http://example.com'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreType',
                                                        width: '75%',
                                                        label: 'Store Type',
                                                        labelWidth: '110px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        actionChange: 'textChange',
                                                        itemId: 'RDStoreSize',
                                                        width: '25%',
                                                        label: 'Size sq/ft',
                                                        labelWidth: '60%',
                                                        maxLength: 6
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                itemId: 'RDStoreChallenges',
                                                label: 'Challenges',
                                                labelWidth: '110px'
                                            },
                                            {
                                                xtype: 'textfield',
                                                itemId: 'RDStoreCollections',
                                                label: 'Collections',
                                                labelWidth: '110px'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreDesign',
                                                        width: '60%',
                                                        label: 'Design',
                                                        labelWidth: '110px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreSKU',
                                                        width: '40%',
                                                        label: 'SKU',
                                                        labelWidth: '40%',
                                                        maxLength: 7
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreNoOfRugsImages',
                                                        width: '40%',
                                                        label: 'No of rugs images',
                                                        labelWidth: '112px'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDStoreNoOfAdditionalImages',
                                                        width: '70%',
                                                        label: 'No of additional images',
                                                        labelWidth: '145px',
                                                        maxLength: 7
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                cls: 'x-rm-rdnotes-sticky',
                                                height: '200px',
                                                itemId: 'RDVendorResourcesPad',
                                                width: '90%',
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        height: '25px',
                                                        html: '<div style="margin: 3px 0px 0px 10px !important;color: whitesmoke;">Resources</div>',
                                                        style: 'background-color:#3D3E3D;',
                                                        width: '100%'
                                                    },
                                                    {
                                                        xtype: 'formpanel',
                                                        cls: 'x-rm-rdformpanel',
                                                        height: '70%',
                                                        margin: '15 0 0 0',
                                                        width: '100%',
                                                        scrollable: false,
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'textareafield',
                                                                flex: 1,
                                                                disabled: false,
                                                                itemId: 'RDVendorResourceTxtArea',
                                                                clearIcon: false
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                actionChange: 'textChange',
                                                itemId: 'RDStoreLocations',
                                                label: 'Location(s)',
                                                labelWidth: '110px',
                                                maxLength: 2
                                            },
                                            {
                                                xtype: 'fieldset',
                                                itemId: 'retailerLocationsFldSet',
                                                title: 'Location(s)',
                                                items: [
                                                    {
                                                        xtype: 'fieldset',
                                                        docked: 'bottom',
                                                        items: [
                                                            {
                                                                xtype: 'button',
                                                                cls: ' x-rm-blueBtn',
                                                                docked: 'right',
                                                                height: '30px',
                                                                itemId: 'retailerLocationAddBtn',
                                                                style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                                width: '30px'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(component, eOpts) {
                                            var fileField = component.down('#rm_selectFileForStore');
                                            var fileSelect = fileField.element.dom.querySelector('input[type=file]');


                                            fileSelect.onchange = function() {
                                                Ext.Msg.alert('Alert.', 'Currently image uploading is not available.', Ext.emptyFn);
                                                return ;
                                                var file = this.files[0];
                                                var imageType = /image.*/;
                                                if (!file.type.match(imageType)) {
                                                    return;
                                                }

                                                var reader = new FileReader();
                                                reader.onload = function(event) {
                                                    var dataUri = event.target.result;

                                                    component.down('#RDUsersStoreLogoImage').setSrc(dataUri).setHidden(false);
                                                    component.down('#logoHearderPanel').setHidden(false);
                                                    //         component.down('#storeNameOrderLabelItemID').setHtml('');
                                                    //         component.down('#cityNameLabelItemID').setHtml('');
                                                    //         component.down('#lastLoginLabelItemID').setHtml('');
                                                    //         component.down('#lastExportLabelItemID').setHtml('');
                                                    //         component.down('#RDStoreLabel').setHidden(true);
                                                    //         component.down('#RDStoreLogoPanel').setHidden(true);

                                                };
                                                reader.onerror = function(event) {
                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                };
                                                reader.readAsDataURL(file);
                                            };

                                            var fileField1 = component.down('#RDStoreLogo');
                                            var fileSelect1 = fileField1.element.dom.querySelector('input[type=file]');


                                            fileSelect1.onchange = function() {
                                                Ext.Msg.alert('Alert.', 'Currently image uploading is not available.', Ext.emptyFn);
                                                return ;
                                                var file = this.files[0];
                                                var imageType = /image.*/;
                                                if (!file.type.match(imageType)) {
                                                    return;
                                                }

                                                var reader = new FileReader();
                                                reader.onload = function(event) {
                                                    var dataUri = event.target.result;

                                                    component.down('#RDUsersStoreLogoImage').setSrc(dataUri).setHidden(false);
                                                    component.down('#logoHearderPanel').setHidden(false);
                                                    component.down('#storeNameOrderLabelItemID').setHtml('');
                                                    component.down('#cityNameLabelItemID').setHtml('');
                                                    component.down('#lastLoginLabelItemID').setHtml('');
                                                    component.down('#lastExportLabelItemID').setHtml('');
                                                    component.down('#RDStoreLabel').setHidden(true);
                                                    component.down('#RDStoreLogoPanel').setHidden(true);

                                                };
                                                reader.onerror = function(event) {
                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                };
                                                reader.readAsDataURL(file);
                                            };




                                        },
                                        event: 'initialize'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'COMPANY CONTACT',
                                hidden: false,
                                itemId: 'CmpContactTab',
                                layout: {
                                    type: 'card',
                                    animation: 'flip'
                                },
                                items: [
                                    {
                                        xtype: 'panel',
                                        itemId: 'CmpContactMainListPanel',
                                        listeners: [
                                            {
                                                fn: function(component, eOpts) {

                                                    //  RepsMainListWithHeader = Ext.ComponentQuery.query('#RepsMainListWithHeader')[0];
                                                    // console.log("  **** %%%%%%  " ,RepsMainListWithHeader.down('#mainList') );
                                                    // RepsMainListWithHeader.down('#mainList').element.on("select",function(){

                                                    // console.log("*****************open detail");

                                                    // });


                                                    var headers = component.down("#headerList");
                                                    headers.setData([{}]);
                                                    headers.setItemTpl(
                                                    Ext.create('Ext.XTemplate',
                                                    '<div class="x-rm-listtpl-main">',
                                                    '    <div style="width: 8%;">',
                                                    '        <div style="width: 25px;" data-name="all"></div>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px;" data-name="companycontact_first_name">',
                                                    '        First Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px;" data-name="companycontact_last_name">',
                                                    '        Last Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 14%;" data-name="companycontact_phone">',
                                                    '        Phone&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="companycontact_email">',
                                                    '        Email&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="companycontact_position">',
                                                    '        Position&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="companycontact_city">',
                                                    '        City&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="companycontact_state">',
                                                    '        State&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '</div>'
                                                    )
                                                    );
                                                    headers.refresh();



                                                    var list = component.down('#mainList');

                                                    list.setOnItemDisclosure(true) ;
                                                    list.setPreventSelectionOnDisclose( true ) ;
                                                    list.setMode('SINGLE') ;
                                                    list.setAllowDeselect( false ) ;
                                                    list.addCls('x-rm-favList');

                                                    list.setStore('vendor.CompanyContactStore');
                                                    //list.setItemHeight('22');
                                                    //list.addCls('x-rm-rdnoteslist');  favMark-list

                                                    list.setItemTpl(
                                                    Ext.create('Ext.XTemplate',
                                                    '<div class="x-rm-listtpl-main pointerCursor">',
                                                    '    <div style="width: 4%;">',
                                                    '        <div style="width: 20px; height:20px;"class="fireListSelect"></div>',
                                                    '    </div>',

                                                    '    <div style="width: 4%;overflow:visible;">',
                                                    '        <div style="width: 25px; height:25px; background-image:url({companycontact_image_url})"></div>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px">{companycontact_firstname}</div>',
                                                    '    <div style="width: 12%;margin-left:5px">{companycontact_lastname}</div>',
                                                    '    <div style="width: 14%;margin-left:1px;overflow: visible;">{companycontact_phone_ext}  {companycontact_phone}<br> {companycontact_cellphone}</div>',
                                                    '    <div style="width: 12%;margin-left:0px">{companycontact_email}</div>',
                                                    '    <div style="width: 12%;margin-left:5px">{companycontact_position}</div>',
                                                    '    <div style="width: 12%;margin-left:5px;">{companycontact_city}</div>',
                                                    '    <div style="width: 12%;">{companycontact_state}</div>',
                                                    '</div>'
                                                    )
                                                    );


                                                    //******   NOW  OPEN REPS  DETAIL  VIEW  **********



                                                },
                                                event: 'initialize'
                                            }
                                        ],
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '7%',
                                                width: '96%',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center',
                                                    pack: 'end'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'CmpContactDelBtn',
                                                        margin: '0 1%',
                                                        style: 'background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'CmpContactAddBtn',
                                                        style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'searchView'
                                            },
                                            {
                                                xtype: 'bluebooklistcontainer',
                                                height: '98%',
                                                itemId: 'CmpContactMainListWithHeader',
                                                margin: '10 2%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'panel',
                                        height: '100%',
                                        itemId: 'CmpContactProfilePanel',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '100%',
                                                itemId: 'CmpContactProf',
                                                width: '96%',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: 'x-rm-rdformpanel',
                                                        disabled: false,
                                                        height: '99%',
                                                        itemId: 'CmpContactProfileForm',
                                                        width: '100%',
                                                        scrollable: true,
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                html: 'COMPANY CONTACT',
                                                                itemId: 'CmpContactProfileUserLabel'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                margin: '50 0 0 0',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'image',
                                                                        action: 'profileImage',
                                                                        cls: 'x-rm-rdthumbnail',
                                                                        height: '70px',
                                                                        hidden: false,
                                                                        itemId: 'CmpContactProfileImage',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        src: 'resources//images//logos//default_User.jpg'
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        action: 'changeImageFile',
                                                                        cls: 'x-rm-rdaddphoto',
                                                                        disabled: true,
                                                                        height: '70px',
                                                                        itemId: 'CmpContactProfileFileFieldForImage1',
                                                                        margin: '0 0 0 -70',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        accept: 'image/*'
                                                                    },
                                                                    {
                                                                        xtype: 'panel',
                                                                        width: '110%',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'fieldset',
                                                                                layout: 'hbox',
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        itemId: 'CmpContactProfilePosition',
                                                                                        width: '36%',
                                                                                        label: 'Position',
                                                                                        labelWidth: '80px'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        cls: 'x-rm-blueBtn',
                                                                                        height: 30,
                                                                                        hidden: true,
                                                                                        itemId: 'CmpContactProfileEditBtn',
                                                                                        margin: '0 0 0 2%',
                                                                                        width: '20%',
                                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                                        text: 'EDIT'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        cls: 'x-rm-card-actionbtn',
                                                                                        height: 30,
                                                                                        itemId: 'CmpContactProfileCancel',
                                                                                        margin: '0 0 0 2%',
                                                                                        width: '20%',
                                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                                        text: 'Back'
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'CmpContactProfileFirstName',
                                                                label: 'First Name',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'CmpContactProfileLastName',
                                                                label: 'Last Name',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'CmpContactProfilePhone',
                                                                        width: '73%',
                                                                        label: 'Direct Number',
                                                                        labelWidth: '95px',
                                                                        maxLength: 16
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'CmpContactProfileDirectExt',
                                                                        width: '27%',
                                                                        label: 'Ext.',
                                                                        labelWidth: '51px',
                                                                        maxLength: 4
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'CmpContactProfileCellPhone',
                                                                        width: '100%',
                                                                        label: 'Cell phone',
                                                                        labelWidth: '95px',
                                                                        maxLength: 16
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        hidden: true,
                                                                        itemId: 'CmpContactProfileCellExt',
                                                                        width: '27%',
                                                                        label: 'Ext.',
                                                                        labelWidth: '51px',
                                                                        maxLength: 4
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                itemId: 'CmpContactProfileEmail',
                                                                label: 'Email',
                                                                labelWidth: '95px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'selectfield',
                                                                action: 'selectLocation',
                                                                itemId: 'cmpContactsLocSelectFld',
                                                                label: 'Location',
                                                                labelWidth: '95px',
                                                                autoSelect: false,
                                                                displayField: 'location_name',
                                                                valueField: 'index'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'CmpContactProfileAddress',
                                                                        width: '73%',
                                                                        label: 'Address',
                                                                        labelWidth: '95px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'CmpContactProfileSuite',
                                                                        width: '27%',
                                                                        label: 'Suite',
                                                                        labelWidth: '51px'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        itemId: 'CmpContactProfileCity',
                                                                        minWidth: '40%',
                                                                        label: 'City',
                                                                        labelWidth: '95px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'autoSuggestionField',
                                                                        flex: 1,
                                                                        itemId: 'CmpContactProfileState',
                                                                        minWidth: '20%',
                                                                        width: '40%',
                                                                        label: 'State',
                                                                        labelWidth: '50px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        flex: 1,
                                                                        itemId: 'CmpContactProfileZip',
                                                                        minWidth: '20%',
                                                                        width: '20%',
                                                                        label: 'Zip',
                                                                        labelWidth: '49px',
                                                                        maxLength: 5
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'CmpContactProfileLinkedIn',
                                                                label: 'LinkedIn',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'CmpContactProfileFacebook',
                                                                label: 'Facebook',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'CmpContactProfileTwitter',
                                                                label: 'Twitter',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ],
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {
                                                                    var fileField = component.down('#CmpContactProfileFileFieldForImage1');
                                                                    var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                                    fileSelect.onchange = function() {
                                                                        Ext.Msg.alert('Alert.', 'Currently image uploading is not available.', Ext.emptyFn);
                                                                        return ;
                                                                        var file = this.files[0];
                                                                        var imageType = /image.*/;
                                                                        if (!file.type.match(imageType)) {
                                                                            return;
                                                                        }
                                                                        var reader = new FileReader();
                                                                        reader.onload = function(event) {
                                                                            var dataUri = event.target.result;
                                                                            component.down('#CmpContactProfileImage').setSrc(dataUri).setHidden(false);
                                                                            fileField.setHidden(true);
                                                                        };
                                                                        reader.onerror = function(event) {
                                                                            console.error("File could not be read! Code " + event.target.error.code);
                                                                        };
                                                                        reader.readAsDataURL(file);
                                                                    };
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    }
                                                ],
                                                listeners: [
                                                    {
                                                        fn: function(element, eOpts) {

                                                            var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                                                            var sideContainer = container.parent.down('#RDSideContainer');
                                                            var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                                                            var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                                                            var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                                                            var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                                                            var blueBookSideContainer = sideContainer.down('#RDBlueBookContainer');


                                                            sideContainer.setHidden(false);
                                                            storeSideContainer.setHidden(true);
                                                            managerSideContainer.setHidden(false);
                                                            crmNotesSideContainer.setHidden(true);
                                                            userProfileSideContainer.setHidden(true);
                                                            blueBookSideContainer.setHidden(true);
                                                        },
                                                        event: 'painted'
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'ACT MGR',
                                hidden: true,
                                itemId: 'RDManagerTab',
                                items: [
                                    {
                                        xtype: 'container',
                                        height: '100%',
                                        itemId: 'RDM',
                                        width: '96%',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'formpanel',
                                                action: 'setScrollBarVisible',
                                                cls: 'x-rm-rdformpanel',
                                                disabled: false,
                                                height: '71%',
                                                itemId: 'RDManagerFormPanel',
                                                width: '100%',
                                                scrollable: true,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'COMPANY CONTACT',
                                                        itemId: 'RDManagerAccManagerLabel'
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        margin: '50 0 0 0',
                                                        layout: 'hbox',
                                                        items: [
                                                            {
                                                                xtype: 'image',
                                                                action: 'profileImage',
                                                                cls: 'x-rm-rdthumbnail',
                                                                height: '70px',
                                                                hidden: false,
                                                                itemId: 'RDManagerAddPhotoImage',
                                                                style: 'margin-left: 11px;',
                                                                width: 70,
                                                                src: 'resources//images//logos//default_User.jpg'
                                                            },
                                                            {
                                                                xtype: 'filefield',
                                                                action: 'changeImageFile',
                                                                cls: 'x-rm-rdaddphoto',
                                                                height: '70px',
                                                                itemId: 'RDManagerAddPhoto',
                                                                margin: '0 0 0 -70',
                                                                style: 'margin-left: 11px;',
                                                                width: 70,
                                                                accept: 'image/*'
                                                            },
                                                            {
                                                                xtype: 'panel',
                                                                width: '89%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        hidden: true,
                                                                        width: '100%',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                itemId: 'RDManagerStoreName',
                                                                                width: '70%',
                                                                                label: 'Username',
                                                                                labelWidth: '80px'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMPositionId',
                                                                        width: '70%',
                                                                        label: 'Position',
                                                                        labelWidth: '80px'
                                                                    },
                                                                    {
                                                                        xtype: 'button',
                                                                        cls: 'x-rm-blueBtn',
                                                                        height: 25,
                                                                        itemId: 'RDManagerStoreEditBtn',
                                                                        margin: '0 0 0 2%',
                                                                        width: '20%',
                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                        text: 'EDIT'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                flex: 1,
                                                                cls: 'x-rm-blueBtn',
                                                                hidden: true,
                                                                margin: '0 0 0 1%',
                                                                ui: 'plain',
                                                                pressedCls: 'x-rm-blueBtn-pressing',
                                                                text: 'EDIT'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        layout: 'hbox',
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                flex: 1,
                                                                itemId: 'RDManagerFirstName',
                                                                label: 'First Name',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                flex: 1,
                                                                itemId: 'RDManagerLastName',
                                                                label: 'Last Name'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'emailfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDManagerEmail',
                                                        label: 'Email',
                                                        labelWidth: '95px',
                                                        placeHolder: 'email@example.com'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        actionChange: 'textChange',
                                                        hidden: true,
                                                        itemId: 'RDManagerTerritory',
                                                        label: 'Territory',
                                                        labelWidth: '90px'
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDManagerDirectPhone',
                                                                width: '73%',
                                                                label: 'Direct number',
                                                                labelWidth: '95px',
                                                                maxLength: 16
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDManagerDirectPhoneExt',
                                                                width: '27%',
                                                                label: 'Ext.',
                                                                labelWidth: '51px',
                                                                maxLength: 4
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDManagerPhone',
                                                                width: '100%',
                                                                label: 'Cell Phone',
                                                                labelWidth: '95px',
                                                                maxLength: 16
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                hidden: true,
                                                                itemId: 'RDManagerPhoneExt',
                                                                width: '27%',
                                                                label: 'Ext.',
                                                                labelWidth: '51px',
                                                                maxLength: 4
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'selectLocation',
                                                        itemId: 'actMgrLocSelectFld',
                                                        label: 'Location',
                                                        labelWidth: '95px',
                                                        autoSelect: false,
                                                        displayField: 'location_name',
                                                        valueField: 'index'
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDManagerAddress',
                                                                width: '73%',
                                                                label: 'Address',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDManagerSuite',
                                                                width: '27%',
                                                                label: 'Suite',
                                                                labelWidth: '51px'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        layout: 'hbox',
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                flex: 1,
                                                                itemId: 'ActMgrCity',
                                                                minWidth: '40%',
                                                                label: 'City',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'autoSuggestionField',
                                                                flex: 1,
                                                                itemId: 'ActMgrState',
                                                                minWidth: '20%',
                                                                width: '40%',
                                                                label: 'State',
                                                                labelWidth: '50px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                flex: 1,
                                                                itemId: 'ActMgrZip',
                                                                minWidth: '20%',
                                                                width: '20%',
                                                                label: 'Zip',
                                                                labelWidth: '50px',
                                                                maxLength: 5
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'urlfield',
                                                        itemId: 'RDManagerLinkedIn',
                                                        label: 'LinkedIn',
                                                        labelWidth: '95px',
                                                        placeHolder: 'http://example.com'
                                                    },
                                                    {
                                                        xtype: 'urlfield',
                                                        itemId: 'RDManagerFacebook',
                                                        label: 'Facebook',
                                                        labelWidth: '95px',
                                                        placeHolder: 'http://example.com'
                                                    },
                                                    {
                                                        xtype: 'urlfield',
                                                        itemId: 'RDManagerTwitter',
                                                        label: 'Twitter',
                                                        labelWidth: '95px',
                                                        placeHolder: 'http://example.com'
                                                    }
                                                ],
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            var fileField = component.down('#RDManagerAddPhoto');
                                                            var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                            fileSelect.onchange = function(me,value,startValue) {

                                                                Ext.Msg.alert('Alert.', 'Currently image uploading is not available.', Ext.emptyFn);
                                                                return ;
                                                                var file = this.files[0];
                                                                var imageType = /image.*/;
                                                                if (!file.type.match(imageType)) {
                                                                    return;
                                                                }
                                                                var reader = new FileReader();
                                                                reader.onload = function(event) {
                                                                    var dataUri = event.target.result;
                                                                    component.down('#RDManagerAddPhotoImage').setSrc(dataUri).setHidden(false);
                                                                    fileField.setHidden(true);
                                                                };
                                                                reader.onerror = function(event) {
                                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                                };
                                                                reader.readAsDataURL(file);
                                                            };
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'label',
                                                cls: 'x-rm-rdLabel',
                                                html: 'RECENT ACTIVITY',
                                                itemId: 'RDManagerActivityLabel'
                                            },
                                            {
                                                xtype: 'list',
                                                action: 'setScrollBarVisible',
                                                cls: [
                                                    'x-rm-list',
                                                    'x-rm-rdmanageractivitylist'
                                                ],
                                                height: '24%',
                                                itemId: 'RDManagerActivityList',
                                                margin: '7% 0 0 2%',
                                                width: '60%',
                                                disableSelection: true,
                                                deferEmptyText: false,
                                                emptyText: '<p class="x-rm-emptytext">No Recent Activity</p>',
                                                itemTpl: [
                                                    '<div class="x-rm-listtpl-main" style="color:#BDBEC1 !important;">',
                                                    '    <div style="width:15%;">{activity_date}</div>',
                                                    '    <div style="width:10%;height:100%;">',
                                                    '        <div style="width:100%;height:100%;"></div>',
                                                    '    </div>',
                                                    '    <div style="width:75%;">{activity_description}</div>',
                                                    '</div>'
                                                ],
                                                itemHeight: 22
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'REPS',
                                hidden: false,
                                itemId: 'RDUsersTab',
                                layout: {
                                    type: 'card',
                                    animation: 'flip'
                                },
                                items: [
                                    {
                                        xtype: 'panel',
                                        itemId: 'RepsMainListPanel',
                                        listeners: [
                                            {
                                                fn: function(component, eOpts) {

                                                    //  RepsMainListWithHeader = Ext.ComponentQuery.query('#RepsMainListWithHeader')[0];
                                                    // console.log("  **** %%%%%%  " ,RepsMainListWithHeader.down('#mainList') );
                                                    // RepsMainListWithHeader.down('#mainList').element.on("select",function(){

                                                    // console.log("*****************open detail");

                                                    // });


                                                    var headers = component.down("#headerList");
                                                    headers.setData([{}]);
                                                    headers.setItemTpl(
                                                    Ext.create('Ext.XTemplate',
                                                    '<div class="x-rm-listtpl-main">',
                                                    '    <div style="width: 4%;">',
                                                    '        <div style="width: 25px;" data-name="all"></div>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px;" data-name="tu_firstname">',
                                                    '        First Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px;" data-name="tu_lastname">',
                                                    '        Last Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 14%;" data-name="tu_phone">',
                                                    '        Phone&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="tu_email">',
                                                    '        Email&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="tu_territory">',
                                                    '        Territory&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="tu_city">',
                                                    '        City&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;" data-name="tu_state">',
                                                    '        State&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                                    '    </div>',
                                                    '</div>'
                                                    )
                                                    );
                                                    headers.refresh();



                                                    var list = component.down('#mainList');

                                                    list.setStore('vendor.REPsDetails');
                                                    //list.setItemHeight('22');
                                                    //list.addCls('x-rm-rdnoteslist');
                                                    list.setItemTpl(
                                                    Ext.create('Ext.XTemplate',
                                                    '<div class="x-rm-listtpl-main pointerCursor">',
                                                    '    <div style="width: 4%;overflow:visible;">',
                                                    '        <div style="width: 25px; height:25px; background-image:url({tu_image_url})"></div>',
                                                    '    </div>',
                                                    '    <div style="width: 12%;margin-left:5px">{tu_firstname}</div>',
                                                    '    <div style="width: 12%;margin-left:5px">{tu_lastname}</div>',
                                                    '    <div style="width: 14%;margin-left:1px;overflow: visible;">{tu_phone_ext}  {tu_phone}<br>{tu_cellphone}</div>',
                                                    '    <div style="width: 12%;margin-left:5px">{tu_email}</div>',
                                                    '    <div style="width: 12%;margin-left:5px">{tu_territory}</div>',
                                                    '    <div style="width: 12%;margin-left:5px;">{tu_city}</div>',
                                                    '    <div style="width: 12%;">{tu_state}</div>',
                                                    '</div>'
                                                    )
                                                    );


                                                    //******   NOW  OPEN REPS  DETAIL  VIEW  **********



                                                },
                                                event: 'initialize'
                                            }
                                        ],
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '7%',
                                                width: '96%',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center',
                                                    pack: 'end'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'REPSDelBtn',
                                                        margin: '0 1%',
                                                        style: 'background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'REPSAddBtn',
                                                        style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'bluebooklistcontainer',
                                                height: '98%',
                                                itemId: 'RepsMainListWithHeader',
                                                margin: '10 2%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'panel',
                                        height: '100%',
                                        itemId: 'RDUsersProfilePanel',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '100%',
                                                itemId: 'RDM1',
                                                width: '96%',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: 'x-rm-rdformpanel',
                                                        disabled: false,
                                                        height: '99%',
                                                        itemId: 'RDUserProfileForm',
                                                        width: '100%',
                                                        scrollable: true,
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                html: 'REPS PROFILE',
                                                                itemId: 'RDUSerProfileUserLabel'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                margin: '50 0 0 0',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'image',
                                                                        action: 'profileImage',
                                                                        cls: 'x-rm-rdthumbnail',
                                                                        height: '70px',
                                                                        hidden: false,
                                                                        itemId: 'RDUserProfileImage',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        src: 'resources//images//logos//default_User.jpg'
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        action: 'changeImageFile',
                                                                        cls: 'x-rm-rdaddphoto',
                                                                        disabled: true,
                                                                        height: '70px',
                                                                        itemId: 'RDUSerProfileFileFieldForImage1',
                                                                        margin: '0 0 0 -70',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        accept: 'image/*'
                                                                    },
                                                                    {
                                                                        xtype: 'panel',
                                                                        width: '110%',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'fieldset',
                                                                                layout: 'hbox',
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        itemId: 'RDUserProfileTerritory',
                                                                                        width: '36%',
                                                                                        label: 'Territory',
                                                                                        labelWidth: '80px'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        cls: 'x-rm-blueBtn',
                                                                                        height: 30,
                                                                                        itemId: 'RDUserProfileEditBtn',
                                                                                        margin: '0 0 0 2%',
                                                                                        width: '20%',
                                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                                        text: 'EDIT'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        cls: 'x-rm-card-actionbtn',
                                                                                        height: 30,
                                                                                        itemId: 'RDUserProfileCancel',
                                                                                        margin: '0 0 0 2%',
                                                                                        width: '20%',
                                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                                        text: 'CANCEL'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                hidden: true,
                                                                                width: '85%',
                                                                                label: 'First Name',
                                                                                labelWidth: '80px'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileFirstName',
                                                                label: 'First Name',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileLastName',
                                                                label: 'Last Name',
                                                                labelWidth: '95px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'RDUserProfilePhone',
                                                                        width: '73%',
                                                                        label: 'Direct Number',
                                                                        labelWidth: '95px',
                                                                        maxLength: 16
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'RDUserProfilePhoneExt',
                                                                        width: '27%',
                                                                        label: 'Ext.',
                                                                        labelWidth: '51px',
                                                                        maxLength: 4
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'RDUserProfileCellPhone',
                                                                        width: '100%',
                                                                        label: 'Cell phone',
                                                                        labelWidth: '95px',
                                                                        maxLength: 16
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        hidden: true,
                                                                        itemId: 'RDUserProfileCellPhoneExt',
                                                                        width: '27%',
                                                                        label: 'Ext.',
                                                                        labelWidth: '51px',
                                                                        maxLength: 4
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDUserProfileEmail',
                                                                label: 'Email',
                                                                labelWidth: '95px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                hidden: true,
                                                                itemId: 'RDUserProfilePosition',
                                                                label: 'Position',
                                                                labelWidth: '90px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: {
                                                                    type: 'hbox',
                                                                    align: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDTUserProfileAddress',
                                                                        width: '73%',
                                                                        label: 'Address',
                                                                        labelWidth: '95px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        itemId: 'RDTUserProfileSuite',
                                                                        width: '27%',
                                                                        label: 'Suite',
                                                                        labelWidth: '51px'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        itemId: 'RDUserProfileCity',
                                                                        minWidth: '40%',
                                                                        label: 'City',
                                                                        labelWidth: '95px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'autoSuggestionField',
                                                                        flex: 1,
                                                                        itemId: 'RDUserProfileState',
                                                                        minWidth: '20%',
                                                                        width: '40%',
                                                                        label: 'State',
                                                                        labelWidth: '50px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'clearIconTap',
                                                                        flex: 1,
                                                                        itemId: 'RDUserProfileZip',
                                                                        minWidth: '20%',
                                                                        width: '20%',
                                                                        label: 'Zip',
                                                                        labelWidth: '50px',
                                                                        maxLength: 5
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileLinkedIn',
                                                                label: 'LinkedIn',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileFacebook',
                                                                label: 'Facebook',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileTwitter',
                                                                label: 'Twitter',
                                                                labelWidth: '95px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ],
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {
                                                                    var fileField = component.down('#RDUSerProfileFileFieldForImage1');
                                                                    var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                                    fileSelect.onchange = function() {
                                                                        Ext.Msg.alert('Alert.', 'Currently image uploading is not available.', Ext.emptyFn);
                                                                        return ;
                                                                        var file = this.files[0];
                                                                        var imageType = /image.*/;
                                                                        if (!file.type.match(imageType)) {
                                                                            return;
                                                                        }
                                                                        var reader = new FileReader();
                                                                        reader.onload = function(event) {
                                                                            var dataUri = event.target.result;
                                                                            component.down('#RDUserProfileImage').setSrc(dataUri).setHidden(false);
                                                                            fileField.setHidden(true);
                                                                        };
                                                                        reader.onerror = function(event) {
                                                                            console.error("File could not be read! Code " + event.target.error.code);
                                                                        };
                                                                        reader.readAsDataURL(file);
                                                                    };
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'panel',
                                        height: '100%',
                                        itemId: 'RDUsersMainPanel',
                                        width: '100%',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'formpanel',
                                                flex: 1,
                                                cls: 'x-rm-rdformpanel',
                                                itemId: 'RDUsers1FormPanel',
                                                margin: '0 5% 0 0 ',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'TEAM USER ONE',
                                                        itemId: 'RDUsersLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'panel',
                                                        style: 'padding-left: 12px;',
                                                        width: '90%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'image',
                                                                cls: 'x-rm-rdthumbnail',
                                                                height: '50px',
                                                                hidden: true,
                                                                itemId: 'RDUsersAddPhotoImage',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                src: 'resources//images//logos//default_User.jpg'
                                                            },
                                                            {
                                                                xtype: 'filefield',
                                                                cls: 'x-rm-rdaddphoto',
                                                                height: '50px',
                                                                itemId: 'RDUsersAddPhoto',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                accept: 'image/*'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersName',
                                                        label: 'User Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersFirstName',
                                                        label: 'First Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersLastName',
                                                        label: 'Last Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'emailfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDUsersEmail',
                                                        label: 'Email',
                                                        labelWidth: '38%',
                                                        placeHolder: 'email@example.com'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        actionChange: 'textChange',
                                                        itemId: 'RDUsersPhone',
                                                        label: 'Phone',
                                                        labelWidth: '38%',
                                                        maxLength: 16
                                                    },
                                                    {
                                                        xtype: 'textareafield',
                                                        itemId: 'RDUsersComment',
                                                        clearIcon: false,
                                                        label: 'Comment',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        baseCls: 'nothing',
                                                        height: 10,
                                                        html: '<a href="javascript:RMdatalink.app.getController(\'RetailerDeatilsDataSet\').actionVisitProfile(0);" style="color: inherit; text-decoration: none;"><div class="visitProfile">VISIT PROFILE</div></a>',
                                                        itemId: 'RDVisitProfileLabel',
                                                        margin: '10 0 0 0',
                                                        style: 'font-size:10px;color:rgb(46, 193, 218);'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'USER RIGHTS',
                                                        itemId: 'RDUsersRightsLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'list',
                                                        action: 'setScrollBarVisible',
                                                        flex: 1,
                                                        cls: [
                                                            'x-rm-list',
                                                            'x-rm-rduser-rightslist'
                                                        ],
                                                        data: [
                                                            {
                                                                right_name: 'Access Data & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Rebranding',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Repricing & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Export',
                                                                right_status: false
                                                            }
                                                        ],
                                                        itemId: 'RDUsersRightsList',
                                                        margin: '60 0 0 0',
                                                        width: '80%',
                                                        disableSelection: true,
                                                        itemTpl: [
                                                            '<div class="x-rm-listtpl-main">',
                                                            '    <div style="width:70%">{right_name}</div>',
                                                            '    <input class="pointerCursor" type="checkbox" data-rights="{right_name}"',
                                                            '        <tpl if="right_status">',
                                                            '            checked',
                                                            '        </tpl>',
                                                            '    />',
                                                            '</div>'
                                                        ],
                                                        itemHeight: 28
                                                    }
                                                ],
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            var fileField = component.down('#RDUsersAddPhoto');
                                                            var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                            fileSelect.onchange = function() {

                                                                var file = this.files[0];
                                                                var imageType = /image.*/;
                                                                if (!file.type.match(imageType)) {
                                                                    return;
                                                                }

                                                                var reader = new FileReader();
                                                                reader.onload = function(event) {
                                                                    var dataUri = event.target.result;
                                                                    component.down('#RDUsersAddPhotoImage').setSrc(dataUri).setHidden(false);
                                                                    fileField.setHidden(true);
                                                                };
                                                                reader.onerror = function(event) {
                                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                                };
                                                                reader.readAsDataURL(file);
                                                            };


                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'formpanel',
                                                flex: 1,
                                                cls: 'x-rm-rdformpanel',
                                                itemId: 'RDUsers1FormPanel2',
                                                margin: '0 5% 0 0 ',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'TEAM USER TWO',
                                                        itemId: 'RDUsersLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'panel',
                                                        style: 'padding-left: 12px;',
                                                        width: '90%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'image',
                                                                cls: 'x-rm-rdthumbnail',
                                                                height: '50px',
                                                                hidden: true,
                                                                itemId: 'RDUsersAddPhotoImage',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                src: 'resources//images//logos//default_User.jpg'
                                                            },
                                                            {
                                                                xtype: 'filefield',
                                                                cls: 'x-rm-rdaddphoto',
                                                                height: '50px',
                                                                itemId: 'RDUsersAddPhoto',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                accept: 'image/*'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersName',
                                                        label: 'User Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersFirstName',
                                                        label: 'First Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersLastName',
                                                        label: 'Last Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'emailfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDUsersEmail',
                                                        label: 'Email',
                                                        labelWidth: '38%',
                                                        placeHolder: 'email@example.com'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        actionChange: 'textChange',
                                                        itemId: 'RDUsersPhone',
                                                        label: 'Phone',
                                                        labelWidth: '38%',
                                                        maxLength: 16
                                                    },
                                                    {
                                                        xtype: 'textareafield',
                                                        itemId: 'RDUsersComment',
                                                        clearIcon: false,
                                                        label: 'Comment',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        baseCls: 'nothing',
                                                        height: 10,
                                                        html: '<a href="javascript:RMdatalink.app.getController(\'RetailerDeatilsDataSet\').actionVisitProfile(1);" style="color: inherit; text-decoration: none;"><div class="visitProfile">VISIT PROFILE</div></a>',
                                                        itemId: 'RDVisitProfileLabel1',
                                                        margin: '10 0 0 0',
                                                        style: 'font-size:10px;color:rgb(46, 193, 218);'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'USER RIGHTS',
                                                        itemId: 'RDUsersRightsLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'list',
                                                        action: 'setScrollBarVisible',
                                                        flex: 1,
                                                        cls: [
                                                            'x-rm-list',
                                                            'x-rm-rduser-rightslist'
                                                        ],
                                                        data: [
                                                            {
                                                                right_name: 'Access Data & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Rebranding',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Repricing & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Export',
                                                                right_status: false
                                                            }
                                                        ],
                                                        itemId: 'RDUsersRightsList',
                                                        margin: '60 0 0 0',
                                                        width: '80%',
                                                        disableSelection: true,
                                                        itemTpl: [
                                                            '<div class="x-rm-listtpl-main">',
                                                            '    <div style="width:70%">{right_name}</div>',
                                                            '    <input class="pointerCursor" type="checkbox" data-rights="{right_name}"',
                                                            '        <tpl if="right_status">',
                                                            '            checked',
                                                            '        </tpl>',
                                                            '    />',
                                                            '</div>'
                                                        ],
                                                        itemHeight: 28
                                                    }
                                                ],
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            var fileField = component.down('#RDUsersAddPhoto');
                                                            var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                            fileSelect.onchange = function() {

                                                                var file = this.files[0];
                                                                var imageType = /image.*/;
                                                                if (!file.type.match(imageType)) {
                                                                    return;
                                                                }
                                                                var reader = new FileReader();
                                                                reader.onload = function(event) {
                                                                    var dataUri = event.target.result;
                                                                    component.down('#RDUsersAddPhotoImage').setSrc(dataUri).setHidden(false);
                                                                    fileField.setHidden(true);
                                                                };
                                                                reader.onerror = function(event) {
                                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                                };
                                                                reader.readAsDataURL(file);
                                                            };
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'formpanel',
                                                flex: 1,
                                                cls: 'x-rm-rdformpanel',
                                                itemId: 'RDUsers1FormPanel3',
                                                margin: '0 5% 0 0 ',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'TEAM USER THREE',
                                                        itemId: 'RDUsersLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'panel',
                                                        style: 'padding-left: 12px;',
                                                        width: '90%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'image',
                                                                cls: 'x-rm-rdthumbnail',
                                                                height: '50px',
                                                                hidden: true,
                                                                itemId: 'RDUsersAddPhotoImage',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                src: 'resources//images//logos//default_User.jpg'
                                                            },
                                                            {
                                                                xtype: 'filefield',
                                                                cls: 'x-rm-rdaddphoto',
                                                                height: '50px',
                                                                itemId: 'RDUsersAddPhoto',
                                                                margin: '60 0 10 0',
                                                                width: '54px',
                                                                accept: 'image/*'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersName',
                                                        label: 'User Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersFirstName',
                                                        label: 'First Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        itemId: 'RDUsersLastName',
                                                        label: 'Last Name',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'emailfield',
                                                        action: 'clearIconTap',
                                                        itemId: 'RDUsersEmail',
                                                        label: 'Email',
                                                        labelWidth: '38%',
                                                        placeHolder: 'email@example.com'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        action: 'clearIconTap',
                                                        actionChange: 'textChange',
                                                        itemId: 'RDUsersPhone',
                                                        label: 'Phone',
                                                        labelWidth: '38%',
                                                        maxLength: 16
                                                    },
                                                    {
                                                        xtype: 'textareafield',
                                                        itemId: 'RDUsersComment',
                                                        clearIcon: false,
                                                        label: 'Comment',
                                                        labelWidth: '38%'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        baseCls: 'nothing',
                                                        height: 10,
                                                        html: '<a href="javascript:RMdatalink.app.getController(\'RetailerDeatilsDataSet\').actionVisitProfile(2);" style="color: inherit; text-decoration: none;"><div class="visitProfile">VISIT PROFILE</div></a>',
                                                        itemId: 'RDVisitProfileLabel2',
                                                        margin: '10 0 0 0',
                                                        style: 'font-size:10px;color:#ccc;'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'USER RIGHTS',
                                                        itemId: 'RDUsersRightsLabel',
                                                        margin: '20 0 0 0',
                                                        width: '60%'
                                                    },
                                                    {
                                                        xtype: 'list',
                                                        action: 'setScrollBarVisible',
                                                        flex: 1,
                                                        cls: [
                                                            'x-rm-list',
                                                            'x-rm-rduser-rightslist'
                                                        ],
                                                        data: [
                                                            {
                                                                right_name: 'Access Data & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Rebranding',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Repricing & Images',
                                                                right_status: false
                                                            },
                                                            {
                                                                right_name: 'Export',
                                                                right_status: false
                                                            }
                                                        ],
                                                        itemId: 'RDUsersRightsList',
                                                        margin: '60 0 0 0',
                                                        width: '80%',
                                                        disableSelection: true,
                                                        itemTpl: [
                                                            '<div class="x-rm-listtpl-main">',
                                                            '    <div style="width:70%">{right_name}</div>',
                                                            '    <input class="pointerCursor" type="checkbox" data-rights="{right_name}"',
                                                            '        <tpl if="right_status">',
                                                            '            checked',
                                                            '        </tpl>',
                                                            '    />',
                                                            '</div>'
                                                        ],
                                                        itemHeight: 28
                                                    }
                                                ],
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            var fileField = component.down('#RDUsersAddPhoto');
                                                            var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                            fileSelect.onchange = function() {

                                                                var file = this.files[0];
                                                                var imageType = /image.*/;
                                                                if (!file.type.match(imageType)) {
                                                                    return;
                                                                }
                                                                var reader = new FileReader();
                                                                reader.onload = function(event) {
                                                                    var dataUri = event.target.result;
                                                                    component.down('#RDUsersAddPhotoImage').setSrc(dataUri).setHidden(false);
                                                                    fileField.setHidden(true);
                                                                };
                                                                reader.onerror = function(event) {
                                                                    console.error("File could not be read! Code " + event.target.error.code);
                                                                };
                                                                reader.readAsDataURL(file);
                                                            };
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'BLUEBOOK',
                                itemId: 'RDBlueBookTab',
                                layout: {
                                    type: 'card',
                                    animation: 'flip'
                                },
                                items: [
                                    {
                                        xtype: 'panel',
                                        itemId: 'blueBookPanel',
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '7%',
                                                width: '98%',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'center',
                                                    pack: 'end'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'blueBookDelBtn',
                                                        margin: '0 1%',
                                                        style: 'background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        height: '25px',
                                                        itemId: 'blueBookAddBtn',
                                                        style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                        ui: 'plain',
                                                        width: '29px',
                                                        iconAlign: 'center'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'bluebooklistcontainer',
                                                height: '92%',
                                                itemId: 'blueBookListWithHeader',
                                                margin: '0 2%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'panel',
                                        height: '100%',
                                        itemId: 'RDBlueBookProfilePanel',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '100%',
                                                itemId: 'RDM1',
                                                width: '96%',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: 'x-rm-rdformpanel',
                                                        disabled: false,
                                                        height: '65%',
                                                        itemId: 'RDUserProfileForm',
                                                        width: '100%',
                                                        scrollable: true,
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                html: 'TEAM USER',
                                                                itemId: 'RDUSerProfileUserLabel'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                margin: '50 0 0 0',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'image',
                                                                        cls: 'x-rm-rdthumbnail',
                                                                        height: '70px',
                                                                        hidden: false,
                                                                        itemId: 'RDUserProfileImage',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        src: 'resources//images//logos//default_User.jpg'
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        cls: 'x-rm-rdaddphoto',
                                                                        height: '70px',
                                                                        itemId: 'RDUSerProfileFileFieldForImage',
                                                                        margin: '0 0 0 -70',
                                                                        style: 'margin-left: 11px;',
                                                                        width: 70,
                                                                        accept: 'image/*'
                                                                    },
                                                                    {
                                                                        xtype: 'panel',
                                                                        width: '89%',
                                                                        layout: 'vbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'fieldset',
                                                                                layout: 'hbox',
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        width: '70%',
                                                                                        label: 'Username',
                                                                                        labelWidth: '80px'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        cls: 'x-rm-blueBtn',
                                                                                        height: 25,
                                                                                        itemId: 'RDBlueBookUserProfileEditBtn',
                                                                                        margin: '0 0 0 2%',
                                                                                        width: '20%',
                                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                                        text: 'EDIT'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                label: 'Position',
                                                                                labelWidth: '80px'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 3,
                                                                        hidden: true,
                                                                        itemId: 'RDUserProfileStoreName',
                                                                        margin: '0 0 0 30'
                                                                    },
                                                                    {
                                                                        xtype: 'button',
                                                                        flex: 1,
                                                                        cls: 'x-rm-blueBtn',
                                                                        hidden: true,
                                                                        margin: '0 0 0 1%',
                                                                        ui: 'plain',
                                                                        pressedCls: 'x-rm-blueBtn-pressing',
                                                                        text: 'EDIT'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'selectfield',
                                                                itemId: 'RDUserProfileLocation',
                                                                label: 'Location',
                                                                labelWidth: '90px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        itemId: 'RDUserProfileFirstName',
                                                                        label: 'First Name',
                                                                        labelWidth: '90px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        itemId: 'RDUserProfileLastName',
                                                                        label: 'Last Name'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                itemId: 'RDUserProfileEmail',
                                                                label: 'Email',
                                                                labelWidth: '90px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfilePhone',
                                                                label: 'Phone',
                                                                labelWidth: '90px'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileLinkedIn',
                                                                label: 'LinkedIn',
                                                                labelWidth: '90px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileFacebook',
                                                                label: 'Facebook',
                                                                labelWidth: '90px',
                                                                placeHolder: 'http://example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileTwitter',
                                                                label: 'Twitter',
                                                                labelWidth: '90px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ],
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {
                                                                    var fileField = component.down('#RDUSerProfileFileFieldForImage');
                                                                    var fileSelect = fileField.element.dom.querySelector('input[type=file]');

                                                                    fileSelect.onchange = function() {

                                                                        var file = this.files[0];
                                                                        var imageType = /image.*/;
                                                                        if (!file.type.match(imageType)) {
                                                                            return;
                                                                        }
                                                                        var reader = new FileReader();
                                                                        reader.onload = function(event) {
                                                                            var dataUri = event.target.result;
                                                                            component.down('#RDUserProfileImage').setSrc(dataUri).setHidden(false);
                                                                            fileField.setHidden(true);
                                                                        };
                                                                        reader.onerror = function(event) {
                                                                            console.error("File could not be read! Code " + event.target.error.code);
                                                                        };
                                                                        reader.readAsDataURL(file);
                                                                    };
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        cls: 'x-rm-rdLabel',
                                                        html: 'RECENT ACTIVITY',
                                                        itemId: 'RDUserProfileActivityLabel'
                                                    },
                                                    {
                                                        xtype: 'list',
                                                        action: 'setScrollBarVisible',
                                                        cls: [
                                                            'x-rm-list',
                                                            'x-rm-rdmanageractivitylist'
                                                        ],
                                                        height: '30%',
                                                        itemId: 'RDUserProfileActivityList',
                                                        margin: '8% 0 0 2%',
                                                        width: '60%',
                                                        disableSelection: true,
                                                        deferEmptyText: false,
                                                        emptyText: '<p class="x-rm-emptytext">No Recent Activity</p>',
                                                        itemTpl: [
                                                            '<div class="x-rm-listtpl-main" style="color:#BDBEC1 !important;">',
                                                            '    <div style="width:15%;">{activity_date}</div>',
                                                            '    <div style="width:10%;height:100%;">',
                                                            '        <div style="width:100%;height:100%;"></div>',
                                                            '    </div>',
                                                            '    <div style="width:75%;">{activity_description}</div>',
                                                            '</div>'
                                                        ],
                                                        itemHeight: 22
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(component, eOpts) {

                                            var headers = component.down("#headerList");
                                            headers.setData([{}]);
                                            headers.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 22%;margin-left:5px;" data-name="name">',
                                            '        NAME&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 22%;margin-left:5px;" data-name="position">',
                                            '        POSITION&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 24%;" data-name="email">',
                                            '        EMAIL&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 20%;" data-name="location">',
                                            '        LOCATION&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 12%;" data-name="details">',
                                            '    </div>',
                                            '</div>'
                                            )
                                            );
                                            headers.refresh();



                                            var list = component.down('#mainList');
                                            list.setItemHeight('50');
                                            //list.addCls('x-rm-rdnoteslist');
                                            list.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main pointerCursor">',
                                            '    <div style="width: 22%;margin-left:5px">{tu_username}</div>',
                                            '    <div style="width: 22%;margin-left:5px;">position</div>',
                                            '    <div style="width: 24%;">{tu_email}</div>',
                                            '    <div style="width: 20%;">location</div>',
                                            '    <div style="width: 12%;"><img src="resources/images/retailerDetail/bluebook_highlighted.png"/></div>',
                                            '</div>'
                                            )
                                            );



                                            //  ********   ADD  NEW   ROW/PANEL  *********

                                            //var containerPanel = Ext.ComponentQuery.query('#blueBookParentPanel')[0];
                                            var blueBookListWithHeader = Ext.ComponentQuery.query('#blueBookListWithHeader')[0];

                                            var containerPanel = blueBookListWithHeader.down('#mainList');
                                            var newChildpanel = new Ext.form.Panel( {

                                                action: 'setScrollBarVisible',
                                                cls: 'x-rm-rdformpanel x-rm-bluebook-formpanel',
                                                height: 60,
                                                itemId:'newChildpanelBlueBookList',
                                                width: "100%",
                                                margin: '',
                                                top:0,
                                                style:'border-bottom :1px solid #E7E7E8;border-top :1px solid #E7E7E8;box-shadow: none;padding:0px',
                                                layout: {
                                                    align: 'center',
                                                    type: 'hbox'
                                                },
                                                scrollable: true,
                                                items: [
                                                {
                                                    xtype: 'textfield',
                                                    margin: '15 1% 0',
                                                    width: '20%',
                                                    placeHolder: 'Enter Name'
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    action: 'clearIconTap',
                                                    margin: '15 1% 0',
                                                    width: '20%',
                                                    labelWidth: '110px',
                                                    placeHolder: 'Enter Position'
                                                },
                                                {
                                                    xtype: 'emailfield',
                                                    margin: '15 1% 0',
                                                    width:'21.5%',
                                                    labelWidth: '110px',
                                                    placeHolder: 'Enter Email'
                                                },
                                                {
                                                    xtype: 'textfield',
                                                    margin: '15 1% 0',
                                                    width: '19%',
                                                    labelWidth: '110px',
                                                    placeHolder: 'Enter Location'
                                                },
                                                {
                                                    xtype: 'image',
                                                    height: 25,
                                                    width: 21,
                                                    src: 'resources/images/retailerDetail/bluebook_normal.png',
                                                    margin: '0 0 0 5px'
                                                }
                                                ],

                                                initialize : function() {
                                                    this.element.addListener({
                                                        scope:this,
                                                        tap: function()
                                                        {
                                                            //console.log(" JAYA TAPPED ");
                                                        }
                                                    });
                                                }

                                            });





                                            containerPanel.add(newChildpanel);







                                        },
                                        event: 'initialize'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                action: 'setScrollBarVisible',
                                title: 'TECH SUPPORT LOG',
                                itemId: 'RDCRMTab',
                                scrollable: true,
                                layout: {
                                    type: 'vbox',
                                    align: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'container',
                                        height: '25px',
                                        margin: '5 0 0 0',
                                        width: '100%',
                                        layout: {
                                            type: 'hbox',
                                            align: 'center',
                                            pack: 'end'
                                        },
                                        items: [
                                            {
                                                xtype: 'button',
                                                height: '25px',
                                                itemId: 'RDTechSupportDelBtn',
                                                margin: '0 1% 0 0',
                                                style: 'background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                ui: 'plain',
                                                width: '29px',
                                                iconAlign: 'center'
                                            },
                                            {
                                                xtype: 'button',
                                                height: '25px',
                                                itemId: 'RDTechSupportAddBtn',
                                                margin: '0 1% 0 0',
                                                style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                ui: 'plain',
                                                width: '29px',
                                                iconAlign: 'center'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'label',
                                        cls: 'x-rm-rdLabel',
                                        hidden: true,
                                        html: 'NEW RETAILER',
                                        itemId: 'RDCRMLabel'
                                    },
                                    {
                                        xtype: 'panel',
                                        itemId: 'vendorTechLogSearchContentPanel',
                                        width: '95%',
                                        items: [
                                            {
                                                xtype: 'searchView',
                                                margin: '5 0 0 0',
                                                width: '95%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'RDCRMList',
                                        margin: '10 0 0 0',
                                        minHeight: '220px',
                                        width: '95%',
                                        flex: 1
                                    },
                                    {
                                        xtype: 'formpanel',
                                        cls: 'x-rm-rdformpanel',
                                        height: '30px',
                                        width: '85%',
                                        scrollable: false,
                                        layout: {
                                            type: 'hbox',
                                            pack: 'end'
                                        },
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                disabled: true,
                                                height: '25px',
                                                itemId: 'RDTechSupportLogsStatusSelectFld',
                                                maxHeight: '25px',
                                                width: '320px',
                                                label: 'Status',
                                                placeHolder: 'Select Status',
                                                autoSelect: false,
                                                options: [
                                                    {
                                                        text: 'Pending',
                                                        value: '1'
                                                    },
                                                    {
                                                        text: 'In Progress',
                                                        value: '2'
                                                    },
                                                    {
                                                        text: 'Completed',
                                                        value: '3'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'button',
                                                height: '25px',
                                                hidden: true,
                                                itemId: 'RDTechSupportSaveBtn',
                                                margin: '0 0 0 10',
                                                style: 'background-image: url(resources/images/retailerDetail/save_button.png);background-repeat: no-repeat;background-position: center;',
                                                ui: 'plain',
                                                width: '29px',
                                                iconAlign: 'center'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        height: '25px',
                                        html: '<div style="margin:4px 0 0 5px;color: whitesmoke;">Problem</div>',
                                        margin: '0 5 0 5',
                                        style: 'background-color:#3D3E3D;font-size:90%;',
                                        width: '100%'
                                    },
                                    {
                                        xtype: 'resizablenote',
                                        itemId: 'rtVdrResizableTLogProbFld',
                                        margin: '0 5 0 5',
                                        width: '100%'
                                    },
                                    {
                                        xtype: 'container',
                                        height: '25px',
                                        html: '<div style="margin:4px 0 0 5px;color: whitesmoke;">Solution</div>',
                                        margin: '0 5 0 5',
                                        style: 'background-color:#3D3E3D;font-size:90%;',
                                        width: '100%'
                                    },
                                    {
                                        xtype: 'resizablenote',
                                        itemId: 'rtVdrResizableTLogSolnFld',
                                        margin: '0 5 0 5',
                                        width: '100%'
                                    },
                                    {
                                        xtype: 'container',
                                        cls: 'x-rm-rdnotes-sticky',
                                        height: '120px',
                                        hidden: true,
                                        itemId: 'RDNotepadProblem',
                                        maxHeight: '400px',
                                        minHeight: '120px',
                                        width: '85%',
                                        layout: {
                                            type: 'vbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '25px',
                                                html: '<div style="margin:4px 0 0 5px;color: whitesmoke;">Problem</div>',
                                                style: 'background-color:#3D3E3D;font-size:90%;',
                                                width: '100%'
                                            },
                                            {
                                                xtype: 'formpanel',
                                                cls: 'x-rm-rdformpanel',
                                                height: 'auto',
                                                margin: '15 0 0 0',
                                                minHeight: '60%',
                                                width: '100%',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textareafield',
                                                        flex: 1,
                                                        disabled: true,
                                                        itemId: 'RDNotepadNoteProblem',
                                                        clearIcon: false
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                width: '95%',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        selected: false,
                                                        cls: 'x-rm-rdnotesadminbtn-unselected',
                                                        hidden: true,
                                                        itemId: 'RDNotepadAdminBtn',
                                                        ui: 'plain',
                                                        pressedCls: 'x-rm-rdnotesadminbtn-pressing',
                                                        text: '<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        cls: 'x-rm-rdnotesnamelabel',
                                                        docked: 'right',
                                                        itemId: 'RDNotesNameLabel'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        cls: 'x-rm-rdnotes-sticky',
                                        height: '120px',
                                        hidden: true,
                                        itemId: 'RDNotepadSolution',
                                        margin: '20 0 0 0',
                                        maxHeight: '400px',
                                        minHeight: '120px',
                                        width: '85%',
                                        layout: {
                                            type: 'vbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '25px',
                                                html: '<div style="margin:4px 0 0 5px;color: whitesmoke;">Solution</div>',
                                                style: 'background-color:#3D3E3D;font-size:90%;',
                                                width: '100%'
                                            },
                                            {
                                                xtype: 'formpanel',
                                                cls: 'x-rm-rdformpanel',
                                                height: '60%',
                                                margin: '15 0 0 0',
                                                width: '100%',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textareafield',
                                                        flex: 1,
                                                        disabled: true,
                                                        itemId: 'RDNotepadNoteSolution',
                                                        clearIcon: false
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                width: '95%',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        selected: false,
                                                        cls: 'x-rm-rdnotesadminbtn-unselected',
                                                        hidden: true,
                                                        itemId: 'RDNotepadAdminBtn',
                                                        ui: 'plain',
                                                        pressedCls: 'x-rm-rdnotesadminbtn-pressing',
                                                        text: '<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        cls: 'x-rm-rdnotesnamelabel',
                                                        docked: 'right',
                                                        itemId: 'RDNotesNameLabel'
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(component, eOpts) {
                                            var headers = component.down("#headerList");
                                            headers.setData([{}]);
                                            headers.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 6%;">',
                                            '        <div style="width: 25px;" data-name="all"></div>',
                                            '    </div>',
                                            '    <div style="width: 12%;" data-name="crm_user">',
                                            '        CRM User&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 20%;" data-name="time_start">',
                                            '        Date/Time&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 10%;" data-name="total_time">',
                                            '        Length&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',

                                            '    <div style="width: 12%;" data-name="product_name">',
                                            '        Product&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 20%;" data-name="problem">',
                                            '        Description&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 12%;" data-name="status">',
                                            '        Status&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '</div>'
                                            )
                                            );//
                                            headers.refresh();
                                            var list = component.down('#mainList');
                                            list.setStore('CompanySpecificTechSupportStore');
                                            list.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div class="pointerCursor" style="width: 6%;overflow:visible;">',
                                            '        <div style="width: 25px; height:25px; background-image:url({company_logo})"></div>',
                                            '    </div>',
                                            '    <div class="pointerCursor" style="width: 12%;" >{crm_user}</div>',
                                            '    <div class="pointerCursor" style="width: 20%;"  >{time_start}</div>',
                                            '    <div class="pointerCursor" style="width: 10%;" >{total_time.hours}:{total_time.minutes}:{total_time.seconds}</div>',

                                            '    <div class="pointerCursor" style="width: 12%;" >{product_name}</div>',
                                            '    <div class="pointerCursor" style="width: 20%;" >{problem}</div>',
                                            '    <div class="pointerCursor" style="width: 12%;" >{status}</div>',
                                            '</div>'
                                            )
                                            );
                                            list.onStoreClear();


                                            list.on("select",function(){

                                                RMdatalink.app.getController('TechSupportLog').onTechSupportLogSelect(arguments);

                                            });


                                            /*
                                            var headers = component.down("#headerList");
                                            headers.setData([{}]);
                                            headers.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 8%;">',
                                            '        <div style="width: 25px;" data-name="all"></div>',
                                            '    </div>',
                                            '    <div style="width: 18%;" data-name="crmuser">',
                                            '        CRM User&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 10%;" data-name="date">',
                                            '        Date&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 10%;" data-name="date">',
                                            '        Time&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 10%;" data-name="length">',
                                            '        Length&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 14%;" data-name="caller">',
                                            '        Caller&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 30%;" data-name="comments">',
                                            '        Comment&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '</div>'
                                            )
                                            );
                                            headers.refresh();

                                            var list = component.down('#mainList');
                                            list.setStore('RDCRM');
                                            list.setDeferEmptyText(false);
                                            list.setEmptyText('<p class="x-rm-emptytext">Sorry.You don\'t have any Customers</p>');
                                            list.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 8%;overflow:visible;">',
                                            '        <div style="width: 25px; height:25px; background-image:url({photo_url})"></div>',
                                            '    </div>',
                                            '    <div style="width: 18%;">{crm_user}</div>',
                                            '    <div style="width: 10%;">{date}</div>',
                                            '    <div style="width: 10%;">{date}</div>',
                                            '    <div style="width: 10%;">{length}</div>',
                                            '    <div style="width: 14%;">{caller}</div>',
                                            '    <input type="text" style="width: 30% !important;"class="x-rm-rdinlinecmt" data-id="{id}" value="{comments}" maxlength="24"',
                                            '        onchange="RMdatalink.app.getController(\'Main\').saveComment(this);"/>',
                                            '</div>'
                                            )
                                            );
                                            //list.onStoreClear();*/
                                        },
                                        event: 'initialize'
                                    },
                                    {
                                        fn: function(element, eOpts) {
                                            //RMdatalink.app.getController('TechSupportLog').refreshTempTechLogs();
                                        },
                                        event: 'painted'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'NOTES',
                                itemId: 'RDNotesTab',
                                layout: {
                                    type: 'vbox',
                                    align: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'container',
                                        height: '35px',
                                        margin: '5 0 0 0',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'searchView',
                                                height: '100%',
                                                itemId: 'RDNotesSearchViewItemID',
                                                width: '100%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        height: '40%',
                                        itemId: 'rtDtlNotesLsPanel',
                                        width: '85%'
                                    },
                                    {
                                        xtype: 'container',
                                        height: '7%',
                                        width: '85%',
                                        layout: {
                                            type: 'hbox',
                                            align: 'center',
                                            pack: 'end'
                                        },
                                        items: [
                                            {
                                                xtype: 'button',
                                                height: '25px',
                                                itemId: 'RDNotesDelBtn',
                                                margin: '0 1%',
                                                style: 'background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                ui: 'plain',
                                                width: '29px',
                                                iconAlign: 'center'
                                            },
                                            {
                                                xtype: 'button',
                                                height: '25px',
                                                itemId: 'RDNotesAddBtn',
                                                style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                ui: 'plain',
                                                width: '29px',
                                                iconAlign: 'center'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        cls: 'x-rm-rdnotes-sticky',
                                        height: '40%',
                                        itemId: 'RDNotepad',
                                        width: '85%',
                                        layout: {
                                            type: 'vbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'container',
                                                height: '8%',
                                                style: 'background-color:#3D3E3D;',
                                                width: '100%'
                                            },
                                            {
                                                xtype: 'formpanel',
                                                cls: 'x-rm-rdformpanel',
                                                height: '70%',
                                                margin: '15 0 0 0',
                                                width: '100%',
                                                scrollable: false,
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'textareafield',
                                                        flex: 1,
                                                        disabled: false,
                                                        itemId: 'RDNotepadNote',
                                                        clearIcon: false
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                width: '95%',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        selected: false,
                                                        cls: 'x-rm-rdnotesadminbtn-unselected',
                                                        itemId: 'RDNotepadAdminBtn',
                                                        ui: 'plain',
                                                        pressedCls: 'x-rm-rdnotesadminbtn-pressing',
                                                        text: '<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        cls: 'x-rm-rdnotesnamelabel',
                                                        docked: 'right',
                                                        itemId: 'RDNotesNameLabel'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'label',
                                        html: '<div class="retailerNoteBottomLabel">Note: Darken &nbsp&nbsp<span  style=" line-height: 8px; background-size: 8px 8px;background-image:   url(\'resources/images/retailerDetail/dot1.png\');background-repeat: no-repeat;background-position: center;">&nbsp  </span> <span style=" color:black">&nbspAdmin Only</span>&nbsp&nbsp when selected, allowing only "Admins" ability to view</div>',
                                        margin: '5 0 15 0',
                                        width: '85%'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(component, eOpts) {

                                            var headers = component.down("#headerList");
                                            headers.setData([{}]);
                                            headers.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 47%;" data-name="subject">',
                                            '        Subject&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 20%;" data-name="date">',
                                            '        Date&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '    <div style="width: 33%;" data-name="crmuser">',
                                            '        CRM User&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                            '    </div>',
                                            '</div>'
                                            )
                                            );
                                            headers.refresh();

                                            var list = component.down('#mainList');
                                            list.setStore('retailersDetailsNotes');
                                            list.setDeferEmptyText(false);
                                            list.setEmptyText('<p class="x-rm-emptytext">No saved notes to show</p>');
                                            list.setItemHeight('22');
                                            list.addCls('x-rm-rdnoteslist');
                                            list.setItemTpl(
                                            Ext.create('Ext.XTemplate',
                                            '<div class="x-rm-listtpl-main">',
                                            '    <div style="width: 47%;">{subject}</div>',
                                            '    <div style="width: 20%;">{[this.getFormattedDate(values)]}</div>',
                                            '    <div style="width: 33%;">{crmuser}</div>',
                                            '</div>',
                                            {
                                                getFormattedDate: function(values) {
                                                    return Ext.Date.format(new Date(values.date), 'Y/m/d');
                                                }
                                            }
                                            )
                                            );
                                            //list.onStoreClear();

                                            component.down('#RDNotesNameLabel').setHtml('by Me on '+Ext.Date.format(new Date(), 'Y/m/d'));
                                        },
                                        event: 'initialize'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                title: 'VIP',
                                itemId: 'RDEcommerce',
                                scrollable: false,
                                layout: {
                                    type: 'vbox',
                                    align: 'start'
                                },
                                items: [
                                    {
                                        xtype: 'formpanel',
                                        action: 'setScrollBarVisible',
                                        flex: 1,
                                        cls: [
                                            'x-rm-rdformpanel',
                                            'textFormInputECommereRetailer'
                                        ],
                                        disabled: false,
                                        itemId: 'retailerEcommerceForm',
                                        width: '100%',
                                        scrollable: true,
                                        layout: {
                                            type: 'vbox',
                                            align: 'center'
                                        },
                                        items: [
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Registeration Info.<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel68',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        action: 'shrinker',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eVipVendor',
                                                                        label: 'Vendor Partner:',
                                                                        labelCls: 'marginClsForLabels',
                                                                        labelWidth: '130px',
                                                                        name: 'vip_vendor',
                                                                        autoComplete: false
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eAccountNo',
                                                                        label: 'Account No.:',
                                                                        labelCls: 'marginClsForLabels',
                                                                        labelWidth: '130px',
                                                                        name: 'account_no'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eStoreName',
                                                                        label: 'Store Name:',
                                                                        labelWidth: '130px',
                                                                        name: 'store_name'
                                                                    },
                                                                    {
                                                                        xtype: 'emailfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eEmailId',
                                                                        label: 'Email :',
                                                                        labelWidth: '130px',
                                                                        name: 'email_id',
                                                                        placeHolder: 'email@example.com'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eContactName',
                                                                        label: 'Contact Name:',
                                                                        labelWidth: '130px',
                                                                        name: 'contact_name'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'ePhoneNo',
                                                                        label: 'Phone No. :',
                                                                        labelWidth: '130px',
                                                                        name: 'phone_no'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'ePromoCode',
                                                                        width: '50%',
                                                                        label: 'Promo Code:',
                                                                        labelWidth: '130px',
                                                                        name: 'promo_code'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        hidden: true,
                                                                        itemId: 'eContactName1',
                                                                        label: 'Store Zip Code:',
                                                                        labelWidth: '130px',
                                                                        name: 'store_zip_code'
                                                                    },
                                                                    {
                                                                        xtype: 'passwordfield',
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        hidden: false,
                                                                        itemId: 'passwordId',
                                                                        maxWidth: '50%',
                                                                        width: '50%',
                                                                        label: 'Password :',
                                                                        labelWidth: '130px',
                                                                        name: 'password'
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Template/Domain Name<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel69',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 1,
                                                                        cls: [
                                                                            'toggleElement',
                                                                            'EcommerceRegFieldSet'
                                                                        ],
                                                                        height: '',
                                                                        hidden: true,
                                                                        itemId: 'eShoppingCart',
                                                                        minHeight: '35px',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                html: '<div style = "padding-top:7px;padding-left:7px;font-family: \'OpenSans\'; font-size: 70% !important; color: #555555 !important; font-weight: bold;">Shopping  Cart:</div>',
                                                                                style: '',
                                                                                width: '130px'
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'Yes',
                                                                                labelWidth: '50px',
                                                                                name: 'shopping_cart',
                                                                                value: 'yes',
                                                                                checked: true
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'No',
                                                                                labelWidth: '50px',
                                                                                name: 'shopping_cart',
                                                                                value: 'no',
                                                                                checked: true
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        itemId: 'eDomainName',
                                                                        maxWidth: '50%',
                                                                        width: '50%',
                                                                        label: 'Domain Name:',
                                                                        labelWidth: '130px',
                                                                        name: 'domain_name'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 1,
                                                                        cls: 'toggleElement',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                html: '<div style = "padding-top:7px;padding-left:7px;font-family: \'OpenSans\'; font-size: 70% !important; color: #555555 !important; font-weight: bold;">Template Color:</div>',
                                                                                itemId: 'eTemplateColor',
                                                                                style: '',
                                                                                width: '130px'
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'Red',
                                                                                labelWidth: '45px',
                                                                                name: 'template_color',
                                                                                value: 'red'
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'Black',
                                                                                labelWidth: '55px',
                                                                                name: 'template_color',
                                                                                value: 'black'
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'Blue',
                                                                                labelWidth: '48px',
                                                                                name: 'template_color',
                                                                                value: 'blue'
                                                                            },
                                                                            {
                                                                                xtype: 'radiofield',
                                                                                cls: 'noBorderClass',
                                                                                label: 'Grey',
                                                                                labelWidth: '48px',
                                                                                name: 'template_color',
                                                                                value: 'grey'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Social Media<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel74',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                margin: '20px 0px  0px 0px',
                                                                title: '',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eFacebook',
                                                                                label: 'FaceBook:',
                                                                                labelWidth: '130px',
                                                                                name: 'facebook'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eTwitter',
                                                                                label: 'Twitter:',
                                                                                labelWidth: '130px',
                                                                                name: 'twitter'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eGoogle',
                                                                                label: 'Google +:',
                                                                                labelWidth: '130px',
                                                                                name: 'google_plus'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eYouTube',
                                                                                label: 'You Tube:',
                                                                                labelWidth: '130px',
                                                                                name: 'youtube'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eLinkedLn',
                                                                                width: '50%',
                                                                                label: 'LinkedIn:',
                                                                                labelWidth: '130px',
                                                                                name: 'linkedln'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eLinkedLn1',
                                                                                width: '50%',
                                                                                label: 'Pinterest:',
                                                                                labelWidth: '130px',
                                                                                name: 'pinterest'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eLinkedLn',
                                                                                width: '50%',
                                                                                label: 'Tumblr:',
                                                                                labelWidth: '130px',
                                                                                name: 'tumblr'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                cls: 'EcommerceRegFieldSet',
                                                hidden: true,
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        hidden: true,
                                                        label: 'Template Color:',
                                                        labelWidth: '130px'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Contact Us<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel73',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                margin: '20px 0px 20px 0px',
                                                                title: '',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactUsStoreName',
                                                                                label: 'Store Name:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_store_name'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactName',
                                                                                label: 'Contact Name:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_name'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactAddress1',
                                                                                label: 'Addr. Line 1:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_address'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactAddress2',
                                                                                label: 'Addr. Line 2:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_address_line_2'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactCity',
                                                                                label: 'City:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_city'
                                                                            },
                                                                            {
                                                                                xtype: 'fieldset',
                                                                                flex: 1,
                                                                                layout: 'hbox',
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        flex: 3,
                                                                                        cls: 'textFieldInputECommereRetailer',
                                                                                        itemId: 'eContactState',
                                                                                        label: 'State:',
                                                                                        labelWidth: '130px',
                                                                                        name: 'contactus_state'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        flex: 2,
                                                                                        cls: 'textFieldInputECommereRetailer',
                                                                                        itemId: 'eContactZip',
                                                                                        label: 'Zip:',
                                                                                        labelWidth: '60px',
                                                                                        name: 'contactus_zip'
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactCountry',
                                                                                label: 'Country:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_store_country'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactPhone',
                                                                                label: 'Phone:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_store_phone'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactMail',
                                                                                width: '50%',
                                                                                label: 'EMail:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_store_email'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                hidden: true,
                                                                                itemId: 'eContactAddress',
                                                                                label: 'Address:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_address'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                cls: 'EcommerceRegFieldSet',
                                                hidden: true,
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        label: 'Web Addres:',
                                                        labelWidth: '130px',
                                                        name: 'web_addres'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        label: 'Website Name ',
                                                        labelWidth: '130px',
                                                        name: 'website_name'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Billing Info<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel72',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                margin: '20px 0px 20px 0px',
                                                                title: '',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                label: 'Addr. Line 1:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_address'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                label: 'Addr Line 2:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_address2'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                label: 'City:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_city'
                                                                            },
                                                                            {
                                                                                xtype: 'fieldset',
                                                                                flex: 1,
                                                                                layout: 'hbox',
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        flex: 3,
                                                                                        cls: 'textFieldInputECommereRetailer',
                                                                                        label: 'State:',
                                                                                        labelWidth: '130px',
                                                                                        name: 'billing_state'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'textfield',
                                                                                        flex: 2,
                                                                                        cls: 'textFieldInputECommereRetailer',
                                                                                        label: 'Zip:',
                                                                                        labelWidth: '60px',
                                                                                        name: 'billing_zip'
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                label: 'Country:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_country'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                label: 'Phone:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_phone'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'textfield',
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                itemId: 'eContactMail',
                                                                                width: '50%',
                                                                                label: 'EMail:',
                                                                                labelWidth: '130px',
                                                                                name: 'billing_email'
                                                                            },
                                                                            {
                                                                                xtype: 'textfield',
                                                                                flex: 1,
                                                                                cls: 'textFieldInputECommereRetailer',
                                                                                hidden: true,
                                                                                itemId: 'eContactAddress',
                                                                                label: 'Address:',
                                                                                labelWidth: '130px',
                                                                                name: 'contactus_address'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Vendors/Features<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel71',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                height: '300px',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 1,
                                                                        hidden: true,
                                                                        layout: 'vbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'selectfield',
                                                                                itemId: 'vipVendorSelectFieldInEcomm',
                                                                                label: 'Addl. Vendors',
                                                                                labelWidth: '130px',
                                                                                autoSelect: false,
                                                                                displayField: 'vendor_name',
                                                                                store: 'vendors.Master',
                                                                                valueField: '_id',
                                                                                listeners: [
                                                                                    {
                                                                                        fn: function(element, eOpts) {
                                                                                            console.log("PAINTERD");
                                                                                            return;
                                                                                            // var component  = Ext.ComponentQuery.query("#discountVipTab")[0];
                                                                                            // var list = component.down('#discountList');
                                                                                            var component  = Ext.ComponentQuery.query("#discountVipTab")[0];
                                                                                            var list = component.down('#discountList');
                                                                                            var store = list.getStore();
                                                                                            if(store){

                                                                                            }else{
                                                                                                return;
                                                                                            }
                                                                                            var data = getArrayFromStore(store);

                                                                                            var dataToPush = [];

                                                                                            var keyOfRetailer = 'promo_code_info';
                                                                                            var flagofRetailer = 'is_promo_code_active';

                                                                                            for(var i=0;i<data.length;i++){

                                                                                                if(  data[i][keyOfRetailer]  &&  data[i][flagofRetailer] ){

                                                                                                    dataToPush.push(data[i]);

                                                                                                }

                                                                                            }

                                                                                            console.log(dataToPush);
                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];
                                                                                            vipVendorSelectFieldInEcomm.setOptions(dataToPush);

                                                                                            //list.setData(dataToPush);
                                                                                        },
                                                                                        event: 'painted'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'container',
                                                                                hidden: false,
                                                                                margin: '10 0 0 80',
                                                                                padding: '0 0 0 0',
                                                                                layout: {
                                                                                    type: 'hbox',
                                                                                    align: 'end',
                                                                                    pack: 'end'
                                                                                },
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').deleteSkuImgs();


                                                                                            console.log("ADD VENODER 1");


                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];
                                                                                            var vendorId =    vipVendorSelectFieldInEcomm.getValue();
                                                                                            if(vendorId){

                                                                                                console.log("ADD VENODER 2");
                                                                                            }else{

                                                                                                console.log("ADD VENODER 3");
                                                                                                return;
                                                                                            }



                                                                                            //is_promo_code_active
                                                                                            var keyOfFilter = 'prevent_be_ecommerceVendor';
                                                                                            var keyOfFilter = 'is_promo_code_active';


                                                                                            var vendor = findVendorBy_id(vendorId);
                                                                                            if(   isVendorPreventedForVip(vendorId  ) /*isVendorPreventedForVip(vendorId , keyOfFilter )  */){

                                                                                                console.log("ADD VENODER 4");

                                                                                                //    alert("THIS VENDOR CAANOT BE ADDED");
                                                                                                Ext.Msg.confirm('Warning', 'This Vender has been disabled from VIP program.Are you sure you want to add these vendor ?', function(btn){
                                                                                                    if(btn === 'yes'){
                                                                                                        //some code
                                                                                                        addVendor();
                                                                                                    }
                                                                                                    else{
                                                                                                        //some code
                                                                                                    }
                                                                                                });
                                                                                                return;
                                                                                            }
                                                                                            console.log("ADD VENODER 5");
                                                                                            addVendor();
                                                                                            function addVendor(){
                                                                                                var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorListInEComm")[0];

                                                                                                var store = vipVendorListInEComm.getStore();

                                                                                                console.log(vendor);

                                                                                                console.log(vendor);
                                                                                                var objectToAdd = {

                                                                                                    vendor_name : vendor.data.vendor_name,
                                                                                                    account_no: " "


                                                                                                };

                                                                                                if(store){

                                                                                                    console.log("ADD VENODER 6");

                                                                                                    store.addData(objectToAdd);
                                                                                                }else{

                                                                                                    console.log("ADD VENODER 7");
                                                                                                    vipVendorListInEComm.setData([objectToAdd]);
                                                                                                }
                                                                                            }


                                                                                            return;





                                                                                            function findVendorBy_name(v_name){

                                                                                                var vendors = vendorMaster.data.all ;
                                                                                                var venRec = null ;
                                                                                                for(var j=0;j<vendors.length ; j++){

                                                                                                    if(v_name == vendors[j].data.vendor_name){

                                                                                                        venRec = vendors[j] ;
                                                                                                        break;
                                                                                                    }
                                                                                                }

                                                                                                return venRec;

                                                                                            }








                                                                                            // }
                                                                                        },
                                                                                        action: 'addNew',
                                                                                        cls: 'x-rm-blueBtn',
                                                                                        height: '20px',
                                                                                        itemId: 'addUpdate',
                                                                                        width: '80px',
                                                                                        text: 'Add'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').deleteVendorBundle();/

                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];
                                                                                            var vendorId =    vipVendorSelectFieldInEcomm.getValue();
                                                                                            if(vendorId){

                                                                                                console.log("ADD VENODER 2");
                                                                                            }else{

                                                                                                console.log("ADD VENODER 3");
                                                                                                return;
                                                                                            }

                                                                                            var vendor = findVendorBy_id(vendorId);

                                                                                            var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorListInEComm")[0];

                                                                                            var store = vipVendorListInEComm.getStore();

                                                                                            console.log(vendor);
                                                                                            if(store){

                                                                                                console.log("ADD VENODER 6");
                                                                                                var vendor_name =  vendor.data.vendor_name;
                                                                                                var recordIndex = store.find  ("vendor_name" ,vendor_name );
                                                                                                console.log("RECORSD INDEX" , recordIndex);
                                                                                                var record = store.getAt(recordIndex);
                                                                                                console.log(record);
                                                                                                store.remove(record);
                                                                                                vipVendorSelectFieldInEcomm.setValue(null);
                                                                                            }else{

                                                                                                console.log("ADD VENODER 7");

                                                                                                //vipVendorListInEComm.setData([vendor.raw]);
                                                                                            }

                                                                                            return;





















                                                                                            function findVendorBy_name(v_name){

                                                                                                var vendors = vendorMaster.data.all ;
                                                                                                var venRec = null ;
                                                                                                for(var j=0;j<vendors.length ; j++){

                                                                                                    if(v_name == vendors[j].data.vendor_name){

                                                                                                        venRec = vendors[j] ;
                                                                                                        break;
                                                                                                    }
                                                                                                }

                                                                                                return venRec;

                                                                                            }


                                                                                        },
                                                                                        cls: 'newGrayBtn',
                                                                                        height: '20px',
                                                                                        itemId: 'delete',
                                                                                        margin: '0 5 0 5',
                                                                                        minHeight: '24px',
                                                                                        width: '80px',
                                                                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                                                                        text: 'Delete'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').clearVendorBundle();

                                                                                            //vipVendorListInEComm
                                                                                            //vipVendorSelectFieldInEcomm

                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];
                                                                                            vipVendorSelectFieldInEcomm.setValue(null);


                                                                                            var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorListInEComm")[0];
                                                                                            vipVendorListInEComm.deselectAll();


                                                                                            return;

                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];
                                                                                            deletedVendorFromVIPlist.select(0);
                                                                                            var ecomVipVendorsRemove = Ext.ComponentQuery.query("#ecomVipVendorsRemove")[0];
                                                                                            ecomVipVendorsRemove.setValue(null);

                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];




                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];

                                                                                            var vendor = Ext.getStore('vendors.Master');

                                                                                            var data = getArrayFromStore(vendor);
                                                                                            var arrayToPush = [];

                                                                                            for(var i = 0;i < data.length; i++){

                                                                                                if(data[i].prevent_be_vip){
                                                                                                    arrayToPush.push(data[i]);
                                                                                                }
                                                                                            }




                                                                                            var store = deletedVendorFromVIPlist.getStore();
                                                                                            if(store){
                                                                                                //    store.setData(arrayToPush);
                                                                                            }else{
                                                                                                //  deletedVendorFromVIPlist.setData(arrayToPush);
                                                                                            }
                                                                                            deletedVendorFromVIPlist.deselectAll();
                                                                                        },
                                                                                        cls: [
                                                                                            'x-rm-blueBtn',
                                                                                            'x-rm-rdopenbtns',
                                                                                            'x-rm-smalliconbtns'
                                                                                        ],
                                                                                        height: '20px',
                                                                                        itemId: 'clear',
                                                                                        margin: '0 4 0 0',
                                                                                        style: '',
                                                                                        width: '80px',
                                                                                        badgeText: '',
                                                                                        iconAlign: 'center',
                                                                                        text: 'Clear'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'list',
                                                                                flex: 1,
                                                                                itemId: 'vipVendorListInEComm',
                                                                                style: 'background-color:white;margin-left:130px;margin-right:2px;border: 1px solid #E7E7E8;margin-top:12px;',
                                                                                itemCls: 'vipVendorListEcomm ',
                                                                                itemTpl: [
                                                                                    '',
                                                                                    '<div class="x-rm-listtpl-main">',
                                                                                    '    <div class="pointerCursor " style="width:250px;">{vendor_name}</div>',
                                                                                    '    <div class="pointerCursor " style="width:140px;">{account_no}</div>',
                                                                                    '</div>',
                                                                                    ''
                                                                                ],
                                                                                itemHeight: 25
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 1,
                                                                        disabled: true,
                                                                        layout: 'vbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'selectfield',
                                                                                itemId: 'vipVendorFeatureSelectField',
                                                                                label: 'Features:	',
                                                                                labelWidth: '130px',
                                                                                autoSelect: false,
                                                                                displayField: 'module_name',
                                                                                store: 'products.ecomMain',
                                                                                valueField: '_id',
                                                                                listeners: [
                                                                                    {
                                                                                        fn: function(element, eOpts) {
                                                                                            console.log("PAINTERD");
                                                                                            return;

                                                                                            //products.ecomMain

                                                                                            var component  = Ext.ComponentQuery.query("#discountVipTab")[0];
                                                                                            var list = component.down('#discountList');
                                                                                            var store = list.getStore();
                                                                                            if(store){

                                                                                            }else{
                                                                                                return;
                                                                                            }
                                                                                            var data = getArrayFromStore(store);

                                                                                            var dataToPush = [];

                                                                                            var keyOfRetailer = 'promo_code_info';
                                                                                            var flagofRetailer = 'is_promo_code_active';

                                                                                            for(var i=0;i<data.length;i++){

                                                                                                if(  data[i][keyOfRetailer]  &&  data[i][flagofRetailer] ){

                                                                                                    dataToPush.push(data[i]);

                                                                                                }

                                                                                            }

                                                                                            console.log(dataToPush);
                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];
                                                                                            vipVendorSelectFieldInEcomm.setOptions(dataToPush);

                                                                                            //list.setData(dataToPush);
                                                                                        },
                                                                                        event: 'painted'
                                                                                    },
                                                                                    {
                                                                                        fn: function(component, eOpts) {
                                                                                            return;
                                                                                            component.addListener("painted" , function(){



                                                                                                var store = Ext.getStore("products.ecomMain");
                                                                                                var dataToPush = [];




                                                                                            });
                                                                                        },
                                                                                        event: 'initialize'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'container',
                                                                                hidden: false,
                                                                                margin: '10 0 0 80',
                                                                                padding: '0 0 0 0',
                                                                                layout: {
                                                                                    type: 'hbox',
                                                                                    align: 'end',
                                                                                    pack: 'end'
                                                                                },
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').deleteSkuImgs();


                                                                                            console.log("ADD VENODER 1");


                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorFeatureSelectField")[0];
                                                                                            var vendorId =    vipVendorSelectFieldInEcomm.getValue();
                                                                                            if(vendorId){

                                                                                                console.log("ADD VENODER 2");
                                                                                            }else{

                                                                                                console.log("ADD VENODER 3");
                                                                                                return;
                                                                                            }



                                                                                            //is_promo_code_active
                                                                                            var keyOfFilter = 'prevent_be_ecommerceVendor';
                                                                                            var keyOfFilter = 'is_promo_code_active';


                                                                                            var vendor = findProgramBy_id(vendorId);

                                                                                            console.log("ADD VENODER 5");
                                                                                            addVendor();
                                                                                            function addVendor(){

                                                                                                var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorProgramListInEComm")[0];

                                                                                                var store = vipVendorListInEComm.getStore();

                                                                                                var objectToAdd = {

                                                                                                    module_name:vendor.data.module_name,
                                                                                                    module_price: vendor.data.module_standard_price   || vendor.data. module_promotional_price
                                                                                                };

                                                                                                var module_name = vendor.data.module_name;
                                                                                                var recordIndex = store.find  ("module_name" ,module_name );
                                                                                                if( recordIndex >= 0){
                                                                                                    return;
                                                                                                }
                                                                                                console.log(vendor);
                                                                                                if(store){

                                                                                                    console.log("ADD VENODER 6");
                                                                                                    store.addData(objectToAdd);
                                                                                                }else{

                                                                                                    console.log("ADD VENODER 7");
                                                                                                    vipVendorListInEComm.setData([objectToAdd]);
                                                                                                }

                                                                                            }

                                                                                            return;


                                                                                            var ecomVipVendorsRemove = Ext.ComponentQuery.query("#ecomVipVendorsRemove")[0];
                                                                                            if(ecomVipVendorsRemove){

                                                                                                var vendorId = ecomVipVendorsRemove .getValue();
                                                                                                if(vendorId){


                                                                                                    var vendor_id = vendorId ;
                                                                                                    var keyOfRetailer = 'prevent_be_vip';
                                                                                                    var vendorMaster = Ext.getStore('vendors.Master') ;
                                                                                                    var record ;
                                                                                                    if(vendor_id)
                                                                                                    {
                                                                                                        record = findVendorBy_id(vendor_id) ;
                                                                                                    }
                                                                                                    if(!record){

                                                                                                        return ;
                                                                                                    }

                                                                                                    var noVipRadio = Ext.ComponentQuery.query("#noVipRadio")[0];
                                                                                                    var valueofFlage = true;
                                                                                                    var rtlrs = valueofFlage;
                                                                                                    updateVendor();
                                                                                                }}







                                                                                                //     updateVendor() ;





                                                                                                function updateVendor(){


                                                                                                    var dataToupdate = {


                                                                                                    };
                                                                                                    record.set(keyOfRetailer, rtlrs);
                                                                                                    dataToupdate[keyOfRetailer] = rtlrs;
                                                                                                    console.error(dataToupdate);
                                                                                                    //return;
                                                                                                    RMdatalink.iwa.rdl.doUpdateCollection(vendorMaster, dataToupdate , record.get('_id'), updateSuccess, updateError );
                                                                                                    handleListOfDEletedVipVendor();

                                                                                                }



                                                                                                function updateSuccess(){

                                                                                                    record.set(keyOfRetailer, rtlrs);
                                                                                                    Ext.Viewport.setMasked(false);
                                                                                                    console.log("vendor updated successfully");
                                                                                                }



                                                                                                function updateError(){

                                                                                                    Ext.Viewport.setMasked(false);
                                                                                                    console.log("error in updating vendor");

                                                                                                }


                                                                                                function findVendorBy_name(v_name){

                                                                                                    var vendors = vendorMaster.data.all ;
                                                                                                    var venRec = null ;
                                                                                                    for(var j=0;j<vendors.length ; j++){

                                                                                                        if(v_name == vendors[j].data.vendor_name){

                                                                                                            venRec = vendors[j] ;
                                                                                                            break;
                                                                                                        }
                                                                                                    }

                                                                                                    return venRec;

                                                                                                }








                                                                                                // }
                                                                                        },
                                                                                        action: 'addNew',
                                                                                        cls: 'x-rm-blueBtn',
                                                                                        height: '20px',
                                                                                        itemId: 'addUpdate',
                                                                                        width: '80px',
                                                                                        text: 'Add'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').deleteVendorBundle();/

                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorFeatureSelectField")[0];
                                                                                            var vendorId =    vipVendorSelectFieldInEcomm.getValue();
                                                                                            if(vendorId){

                                                                                                console.log("ADD VENODER 2");
                                                                                            }else{

                                                                                                console.log("ADD VENODER 3");
                                                                                                return;
                                                                                            }

                                                                                            var vendor = findProgramBy_id(vendorId);
                                                                                            var module_name = vendor.data.module_name;
                                                                                            var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorProgramListInEComm")[0];

                                                                                            var store = vipVendorListInEComm.getStore();

                                                                                            console.log(vendor);
                                                                                            if(store){

                                                                                                console.log("ADD VENODER 6");
                                                                                                vipVendorSelectFieldInEcomm.setValue(null);
                                                                                                var recordIndex = store.find  ("module_name" ,module_name );
                                                                                                if( recordIndex == -1){
                                                                                                    return;
                                                                                                }
                                                                                                console.log("RECORSD INDEX" , recordIndex);
                                                                                                var record = store.getAt(recordIndex);
                                                                                                console.log(record);
                                                                                                store.remove(record);

                                                                                            }else{

                                                                                                console.log("ADD VENODER 7");
                                                                                                vipVendorSelectFieldInEcomm.setValue(null);
                                                                                                //vipVendorListInEComm.setData([vendor.raw]);
                                                                                            }

                                                                                            return;

                                                                                            var ecomVipVendorsRemove = Ext.ComponentQuery.query("#ecomVipVendorsRemove")[0];
                                                                                            if(ecomVipVendorsRemove){

                                                                                                var vendorId = ecomVipVendorsRemove .getValue();
                                                                                                if(vendorId){


                                                                                                    var vendor_id = vendorId ;
                                                                                                    var keyOfRetailer = 'prevent_be_vip';
                                                                                                    var vendorMaster = Ext.getStore('vendors.Master') ;
                                                                                                    var record ;
                                                                                                    if(vendor_id)
                                                                                                    {
                                                                                                        record = findVendorBy_id(vendor_id) ;
                                                                                                    }
                                                                                                    if(!record){

                                                                                                        return ;
                                                                                                    }

                                                                                                    var noVipRadio = Ext.ComponentQuery.query("#noVipRadio")[0];
                                                                                                    var valueofFlage = false;
                                                                                                    var rtlrs = valueofFlage;
                                                                                                    updateVendor();
                                                                                                }}







                                                                                                //     updateVendor() ;





                                                                                                function updateVendor(){


                                                                                                    var dataToupdate = {


                                                                                                    };
                                                                                                    record.set(keyOfRetailer, rtlrs);
                                                                                                    dataToupdate[keyOfRetailer] = rtlrs;
                                                                                                    console.error(dataToupdate);
                                                                                                    //return;
                                                                                                    RMdatalink.iwa.rdl.doUpdateCollection(vendorMaster, dataToupdate , record.get('_id'), updateSuccess, updateError );
                                                                                                    handleListOfDEletedVipVendor();

                                                                                                }



                                                                                                function updateSuccess(){

                                                                                                    record.set(keyOfRetailer, rtlrs);
                                                                                                    Ext.Viewport.setMasked(false);
                                                                                                    console.log("vendor updated successfully");
                                                                                                }



                                                                                                function updateError(){

                                                                                                    Ext.Viewport.setMasked(false);
                                                                                                    console.log("error in updating vendor");

                                                                                                }



                                                                                                function findVendorBy_name(v_name){

                                                                                                    var vendors = vendorMaster.data.all ;
                                                                                                    var venRec = null ;
                                                                                                    for(var j=0;j<vendors.length ; j++){

                                                                                                        if(v_name == vendors[j].data.vendor_name){

                                                                                                            venRec = vendors[j] ;
                                                                                                            break;
                                                                                                        }
                                                                                                    }

                                                                                                    return venRec;

                                                                                                }


                                                                                        },
                                                                                        cls: 'newGrayBtn',
                                                                                        height: '20px',
                                                                                        itemId: 'delete',
                                                                                        margin: '0 5 0 5',
                                                                                        minHeight: '24px',
                                                                                        width: '80px',
                                                                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                                                                        text: 'Delete'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'button',
                                                                                        handler: function(button, e) {
                                                                                            //RMdatalink.app.getController('ecomPricingController').clearVendorBundle();

                                                                                            //vipVendorListInEComm
                                                                                            //vipVendorSelectFieldInEcomm
                                                                                            //return;
                                                                                            var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorFeatureSelectField")[0];
                                                                                            vipVendorSelectFieldInEcomm.setValue(null);


                                                                                            var vipVendorListInEComm = Ext.ComponentQuery.query("#vipVendorProgramListInEComm")[0];
                                                                                            vipVendorListInEComm.deselectAll();


                                                                                            return;

                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];
                                                                                            deletedVendorFromVIPlist.select(0);
                                                                                            var ecomVipVendorsRemove = Ext.ComponentQuery.query("#ecomVipVendorsRemove")[0];
                                                                                            ecomVipVendorsRemove.setValue(null);

                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];




                                                                                            var deletedVendorFromVIPlist = Ext.ComponentQuery.query("#deletedVendorFromVIPlist")[0];

                                                                                            var vendor = Ext.getStore('vendors.Master');

                                                                                            var data = getArrayFromStore(vendor);
                                                                                            var arrayToPush = [];

                                                                                            for(var i = 0;i < data.length; i++){

                                                                                                if(data[i].prevent_be_vip){
                                                                                                    arrayToPush.push(data[i]);
                                                                                                }
                                                                                            }




                                                                                            var store = deletedVendorFromVIPlist.getStore();
                                                                                            if(store){
                                                                                                //    store.setData(arrayToPush);
                                                                                            }else{
                                                                                                //  deletedVendorFromVIPlist.setData(arrayToPush);
                                                                                            }
                                                                                            deletedVendorFromVIPlist.deselectAll();
                                                                                        },
                                                                                        cls: [
                                                                                            'x-rm-blueBtn',
                                                                                            'x-rm-rdopenbtns',
                                                                                            'x-rm-smalliconbtns'
                                                                                        ],
                                                                                        height: '20px',
                                                                                        itemId: 'clear',
                                                                                        margin: '0 4 0 0',
                                                                                        style: '',
                                                                                        width: '80px',
                                                                                        badgeText: '',
                                                                                        iconAlign: 'center',
                                                                                        text: 'Clear'
                                                                                    }
                                                                                ]
                                                                            },
                                                                            {
                                                                                xtype: 'list',
                                                                                flex: 1,
                                                                                itemId: 'vipVendorProgramListInEComm',
                                                                                style: 'background-color:white;margin-left:130px;margin-right:2px;border: 1px solid #E7E7E8;margin-top:12px;',
                                                                                itemCls: 'vipVendorListEcomm ',
                                                                                itemTpl: [
                                                                                    '',
                                                                                    '<div class="x-rm-listtpl-main">',
                                                                                    '    <div class="pointerCursor " style="width:250px;">{module_name}</div>',
                                                                                    '    <div class="pointerCursor " style="width:140px;">{module_price}</div>',
                                                                                    '</div>',
                                                                                    ''
                                                                                ],
                                                                                itemHeight: 25
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 1,
                                                                        hidden: true
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'General Info<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel70',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                style: 'margin-bottom:25px;',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textareafield',
                                                                        flex: 1,
                                                                        cls: [
                                                                            'aboutYouClass',
                                                                            'heightofEcommerceTextArea'
                                                                        ],
                                                                        itemId: 'eAboutUs',
                                                                        clearIcon: false,
                                                                        label: 'About Us:',
                                                                        labelWidth: '130px',
                                                                        name: 'about_you',
                                                                        autoCorrect: true
                                                                    },
                                                                    {
                                                                        xtype: 'textareafield',
                                                                        flex: 1,
                                                                        cls: 'heightofEcommerceTextArea',
                                                                        hidden: true,
                                                                        clearIcon: false,
                                                                        label: 'MS Email Addrs.:',
                                                                        labelWidth: '130px',
                                                                        name: 'ms_email_addresses'
                                                                    },
                                                                    {
                                                                        xtype: 'textareafield',
                                                                        flex: 1,
                                                                        cls: 'heightofEcommerceTextArea',
                                                                        hidden: true,
                                                                        clearIcon: false,
                                                                        label: 'Add. Notes:',
                                                                        labelWidth: '130px',
                                                                        name: 'additional_notes'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'EcommerceRegFieldSet',
                                                                height: '250px',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        flex: 1,
                                                                        itemId: 'backGround_Logo_Container',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                cls: 'labelClassForLogo',
                                                                                html: 'Logo',
                                                                                style: 'color: #aaa;',
                                                                                width: '130px'
                                                                            },
                                                                            {
                                                                                xtype: 'panel',
                                                                                flex: 1,
                                                                                items: [
                                                                                    {
                                                                                        xtype: 'image',
                                                                                        height: 201,
                                                                                        itemId: 'backGround_Logo_Image',
                                                                                        mode: 'image'
                                                                                    },
                                                                                    {
                                                                                        xtype: 'container',
                                                                                        hidden: false,
                                                                                        margin: '10 0 0 80',
                                                                                        padding: '0 0 0 0',
                                                                                        layout: {
                                                                                            type: 'hbox',
                                                                                            align: 'center',
                                                                                            pack: 'center'
                                                                                        },
                                                                                        items: [
                                                                                            {
                                                                                                xtype: 'filefield',
                                                                                                hidden: false,
                                                                                                itemId: 'eLogo',
                                                                                                width: '120px',
                                                                                                label: 'Choose File',
                                                                                                labelWidth: '120px',
                                                                                                listeners: [
                                                                                                    {
                                                                                                        fn: function(component, eOpts) {
                                                                                                            function handleFiles(files) {
                                                                                                                for (var i = 0; i < files.length; i++) {
                                                                                                                    var file = files[i];
                                                                                                                    var imageType = /image.*/;

                                                                                                                    if (!file.type.match(imageType)) {
                                                                                                                        continue;
                                                                                                                    }



                                                                                                                    var backGround_Logo_Image = Ext.ComponentQuery.query("#backGround_Logo_Image")[0];
                                                                                                                    var dom = backGround_Logo_Image.element.dom;
                                                                                                                    var img = dom.childNodes[0];
                                                                                                                    //img.classList.add("obj");
                                                                                                                    img.file = file;

                                                                                                                    //    preview.appendChild(img); // Assuming that "preview" is a the div output where the content will be displayed.

                                                                                                                    var reader = new FileReader();
                                                                                                                    reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);
                                                                                                                    reader.readAsDataURL(file);
                                                                                                                }
                                                                                                            }

                                                                                                            var eLogo = component;
                                                                                                            var input = eLogo.element.query("input")[0];


                                                                                                            input.addEventListener("change" , function(e){
                                                                                                                console.log("CHAGEN");
                                                                                                                console.log(arguments);
                                                                                                                var file = e.target.files;
                                                                                                                handleFiles(file);
                                                                                                            },false);
                                                                                                        },
                                                                                                        event: 'initialize'
                                                                                                    }
                                                                                                ]
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Hold Harmless Agreement<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel71',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'shrinker',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                title: '',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        label: 'Signed By:',
                                                                        labelWidth: '130px',
                                                                        name: 'agreement_accepted'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        action: 'inputByDatePicker',
                                                                        flex: 1,
                                                                        cls: 'textFieldInputECommereRetailer',
                                                                        label: 'Date:',
                                                                        labelWidth: '130px',
                                                                        name: 'agreement_date'
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'panel',
                                                cls: 'onePixTopBottomMargin',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        cls: [
                                                            'pointerCursor',
                                                            'fieldLbl'
                                                        ],
                                                        html: 'Payment Details<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                        itemId: 'mylabel71',
                                                        listeners: [
                                                            {
                                                                fn: function(component, eOpts) {

                                                                    component.element.on('tap',function(){

                                                                        var cmp = component.getParent();
                                                                        var containerSibling = cmp.down("#shrinker");
                                                                        console.log("COPONENT CLICKED");
                                                                        console.log(cmp.getHeight());
                                                                        if(  containerSibling.getHidden() ){


                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                            containerSibling.setHidden(false);

                                                                        }else{


                                                                            containerSibling.setHidden(true);
                                                                            component.getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                        }

                                                                    });
                                                                },
                                                                event: 'initialize'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        height: '120px',
                                                        itemId: 'shrinker',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'printInvoicePaymentsPanel1',
                                                                width: '100%',
                                                                layout: 'vbox',
                                                                title: '',
                                                                items: [
                                                                    {
                                                                        xtype: 'listwithheader',
                                                                        cls: 'borderedDiv',
                                                                        height: '100px'
                                                                    }
                                                                ],
                                                                listeners: [
                                                                    {
                                                                        fn: function(component, eOpts) {
                                                                            /*

                                                                            proccessed_by: ""
                                                                            pay_date: "06/17/2014"
                                                                            payment_method_detail: ""
                                                                            paid_by: "cash"

                                                                            ammount_paying: "400"
                                                                            cc_approval: ""
                                                                            date: "06/17/2014"

                                                                            */
                                                                            var headers = component.down("#headerList");
                                                                            headers.setData([{}]);
                                                                            headers.setItemTpl(
                                                                            Ext.create('Ext.XTemplate',
                                                                            '<div style="font-size: 1.0em;font-weight: bold;  background-color: gainsboro;" class="x-rm-listtpl-main onlyBottomBorderDiv">',

                                                                            '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="pay_date">',
                                                                            '        Date&nbsp;',
                                                                            '    </div>',
                                                                            '    <div class="rightBorderDiv" style="width: 15%;text-align: center;" data-name="paid_by">',
                                                                            '        Method&nbsp;',
                                                                            '    </div>',
                                                                            '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="payment_method_detail">',
                                                                            '        Number&nbsp;',
                                                                            '    </div>',
                                                                            '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="cc_approval">',
                                                                            '       Approval&nbsp;',
                                                                            '    </div>',
                                                                            '    <div style="width: 20%;text-align: center;" data-name="ammount_paying">',
                                                                            '        Amount&nbsp;',
                                                                            '    </div>',

                                                                            '</div>'
                                                                            )
                                                                            );
                                                                            headers.refresh();
                                                                            var list = component.down('#mainList');
                                                                            list.setStore(Ext.getStore('InvoicePaymentsStore'));
                                                                            list.setItemTpl(
                                                                            Ext.create('Ext.XTemplate',
                                                                            '<div style="font-size: 1.0em;" class="x-rm-listtpl-main pointerCursor">',
                                                                            '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{pay_date}</div>',
                                                                            '<div class="rightBorderDiv" style="width: 15%;text-align: center;">{paid_by}</div>',
                                                                            '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{payment_method_detail}</div>',
                                                                            '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{cc_approval}</div>',
                                                                            '<div style="width: 20%;text-align:right;padding-right:2%;">$ {[formatNum(values.ammount_paying)]}</div>',
                                                                            '</div>'
                                                                            )
                                                                            );

                                                                            ///////////////////
                                                                            // list.setMode("SINGLE");
                                                                            //     list.on("select",function(rmProlist, record, eOpts){
                                                                            //         RMdatalink.app.getController('RMProController').onProductRMProListSelect(rmProlist, record, eOpts);
                                                                            // });

                                                                            list.setItemHeight(20);


                                                                            list.addCls('x-rm-rdvendorslist');


                                                                        },
                                                                        event: 'initialize'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'panel',
                                                                cls: 'fieldLbl',
                                                                height: '30px',
                                                                hidden: true,
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        flex: 1,
                                                                        html: '<center>Date</center>'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        flex: 2,
                                                                        html: '<center>Method</center>'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        flex: 2,
                                                                        html: '<center>Number</center>'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        flex: 2,
                                                                        html: '<center>Approval</center>'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        flex: 2,
                                                                        html: '<center>Amount</center>'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                flex: 1,
                                                                hidden: true,
                                                                itemCls: 'vipVendorListEcomm ',
                                                                itemTpl: [
                                                                    '<div>List Item {string}</div>'
                                                                ],
                                                                itemHeight: 25
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'spacer',
                                                height: '30px',
                                                style: 'margin-top:20px;'
                                            },
                                            {
                                                xtype: 'spacer',
                                                height: '50px',
                                                style: 'margin-top:20px;'
                                            }
                                        ]
                                    }
                                ]
                            }
                        ],
                        tabBar: {
                            docked: 'top'
                        },
                        listeners: [
                            {
                                fn: function(component, eOpts) {
                                    // *****  ON TAPPING  OF "REPS" IT SHOWS LIST VIEW  *************
                                    component.getTabBar().getAt(3).element.on("tap",function(){

                                        component.down("#RDUsersTab").setActiveItem(0);
                                        RMdatalink.app.getController('RetailerDeatilsDataSet').hideSideContainerForREPs();

                                    });

                                    component.getTabBar().getAt(1).element.on("tap",function(){

                                        if(Ext.ComponentQuery.query('#CmpContactTab')[0].getActiveItem().getItemId() == 'CmpContactProfilePanel')
                                        {
                                            Ext.Msg.confirm("Confirm","Do you want to save company contact first?.",onMessageAns ,this);
                                        }


                                        function onMessageAns(action,opt,confirmBox){


                                            if(action == "yes"){
                                                var svBtn =  Ext.ComponentQuery.query('#CmpContactProfileEditBtn')[0] ;
                                                svBtn.fireEvent('tap',svBtn) ;

                                            }else{

                                                RMdatalink.app.getController('RetailerDeatilsDataSet').config.isCmpContactProfile = false ;
                                                goBack() ;
                                            }


                                        }

                                        function goBack(){
                                            Ext.ComponentQuery.query('#CmpContactProfileEditBtn')[0].setText("EDIT");

                                            Ext.ComponentQuery.query('#CmpContactTab')[0].setActiveItem(0);
                                            var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                                            var sideContainer = container.parent.down('#RDSideContainer');
                                            var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                                            var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                                            var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                                            var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                                            sideContainer.setHidden(true);
                                            storeSideContainer.setHidden(true);
                                            managerSideContainer.setHidden(true);
                                            crmNotesSideContainer.setHidden(true);
                                            userProfileSideContainer.setHidden(true);

                                            RMdatalink.app.getController('RetailerDeatilsDataSet').removeErrorClsForContactCompany();
                                        }
                                    });
                                },
                                event: 'initialize'
                            }
                        ]
                    },
                    {
                        xtype: 'container',
                        flex: 1,
                        itemId: 'RDSideContainer',
                        margin: '8 23 0 10',
                        layout: 'fit',
                        items: [
                            {
                                xtype: 'container',
                                itemId: 'RDStoreSideContainer',
                                layout: 'vbox',
                                items: [
                                    {
                                        xtype: 'container',
                                        cls: 'x-rm-details-asideproducts',
                                        height: '185px',
                                        itemId: 'RDSideProductsItemID',
                                        margin: '8 0 0 0',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'list',
                                                scrollable: 'false',
                                                flex: 3,
                                                cls: [
                                                    'x-rm-list',
                                                    ' x-rm-rdstorelists'
                                                ],
                                                itemId: 'RDStoreProductsList',
                                                margin: '4% 2% 4% 2%',
                                                itemTpl: [
                                                    '<div class="x-rm-listtpl-main pointerCursor"style="margin-bottom: 0px;height:20px !important">',
                                                    '    <div style="width:20%">',
                                                    '        <div style="width: 15px; height: 15px; background-image:url({ProductImage})"></div></div>',
                                                    '    <div style="width:65%">{ProductName}</div>',
                                                    '    <div style="color:red;font-size: medium;">{product_expiry}</div>',
                                                    '    ',
                                                    '     <div class= "productSetup">Product Setup</div>',
                                                    '    ',
                                                    '</div>',
                                                    ''
                                                ],
                                                itemHeight: 20
                                            },
                                            {
                                                xtype: 'panel',
                                                flex: 2,
                                                hidden: true,
                                                margin: '4% 2% 1% 2%',
                                                layout: 'vbox',
                                                scrollable: false,
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        flex: 1,
                                                        cls: 'x-rm-blueBtn',
                                                        margin: '2px 1px 2px 1px',
                                                        text: 'Product Setup'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        flex: 1,
                                                        cls: 'x-rm-blueBtn',
                                                        margin: '2px 1px 2px 1px',
                                                        text: 'Product Setup'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        flex: 1,
                                                        cls: 'x-rm-blueBtn',
                                                        margin: '2px 1px 2px 1px',
                                                        text: 'Product Setup'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        flex: 1,
                                                        cls: 'x-rm-blueBtn',
                                                        margin: '2px 1px 2px 1px',
                                                        text: 'Product Setup'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        flex: 1,
                                                        cls: 'x-rm-blueBtn',
                                                        margin: '2px 1px 2px 1px',
                                                        text: 'Product Setup'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'formpanel',
                                                flex: 2,
                                                cls: 'x-rm-rdformpanel',
                                                itemId: 'rtDtlProductStatusForm',
                                                margin: '4% 2% 1% 2%',
                                                items: [
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtDatalinkStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtEcatalogStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtECommerceStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtRM_proStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtirugzStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        action: 'productStatusChange',
                                                        itemId: 'rtVipStatusSelFld',
                                                        margin: '1px 0 1px 0',
                                                        autoSelect: false,
                                                        options: [
                                                            {
                                                                text: 'ACTIVE',
                                                                value: 'ACTIVE'
                                                            },
                                                            {
                                                                text: 'INACTIVE',
                                                                value: 'INACTIVE'
                                                            },
                                                            {
                                                                text: 'PROSPECT',
                                                                value: 'PROSPECT'
                                                            },
                                                            {
                                                                text: 'HOT PROSPECT',
                                                                value: 'HOT_PROSPECT'
                                                            },
                                                            {
                                                                text: 'PENDING',
                                                                value: 'PENDING'
                                                            }
                                                        ]/*ACTIVEINACTIVEPROSPECTPENDING*/
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        cls: 'x-rm-blueBtn',
                                                        itemId: 'rtDetlViewSubscriptionsBtn',
                                                        margin: '1px 0 1px 0',
                                                        maxWidth: '175px',
                                                        text: 'View Subscriptions'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'list',
                                                scrollable: 'false',
                                                flex: 1,
                                                cls: [
                                                    'x-rm-list',
                                                    'x-rm-rdstatuslist'
                                                ],
                                                data: [
                                                    {
                                                        StatusName: 'ACTIVE'
                                                    },
                                                    {
                                                        StatusName: 'INACTIVE'
                                                    },
                                                    {
                                                        StatusName: 'PROSPECTS'
                                                    },
                                                    {
                                                        StatusName: 'PENDING'
                                                    },
                                                    {
                                                        StatusName: 'HOT_PROSPECTS'
                                                    }
                                                ],
                                                disabled: false,
                                                hidden: true,
                                                itemId: 'RDStoreStatusList',
                                                margin: '3% 5% 1% 2%',
                                                itemTpl: [
                                                    '<div class="pointerCursor">{StatusName}</div>'
                                                ],
                                                itemHeight: 25
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        flex: 1,
                                        itemId: 'pospectActiveListContainer',
                                        layout: 'card',
                                        items: [
                                            {
                                                xtype: 'tabpanel',
                                                cls: [
                                                    'x-rm-tabpanel',
                                                    'x-rm-tabpanelWidth33'
                                                ],
                                                itemId: 'RDStoreSideTabPanel',
                                                ui: 'light',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        title: 'ACTIVE',
                                                        itemId: 'RDInStoreVendorsTab',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                height: '30px',
                                                                itemId: 'vendorsActiveRetailersSearchFldSet',
                                                                layout: 'hbox',
                                                                listeners: [
                                                                    {
                                                                        fn: function(component, eOpts) {



                                                                        },
                                                                        event: 'initialize'
                                                                    }
                                                                ],
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 2,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        itemId: 'retailersActiveSearchFieldSet',
                                                                        margin: 0,
                                                                        style: 'border: none;',
                                                                        width: '98%',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'searchfield',
                                                                                action: 'searchActiveRetailers',
                                                                                flex: 1,
                                                                                cls: 'x-field-techLogsearch',
                                                                                itemId: 'rtVdrsSearchFld',
                                                                                style: 'border: none;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                action: 'searchActiveRetailersBtn',
                                                                                cls: 'x-rm-blueBtn',
                                                                                height: '25px',
                                                                                itemId: 'retailersVendorsSerchBtn',
                                                                                width: '90px',
                                                                                text: 'Search'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        action: 'importRetailers',
                                                                        cls: 'x-rm-selectFileFldImportXL',
                                                                        docked: 'right',
                                                                        hidden: false,
                                                                        itemId: 'csvImportFileField',
                                                                        width: '60px',
                                                                        clearIcon: true,
                                                                        accept: '\.csv'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'searchView',
                                                                itemId: 'vendorsCommonSearchViewForRetailer'
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                itemId: 'RDInStoreVendorList',
                                                                flex: 2
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                itemId: 'rtlrVdrAssociationTotalFldSet',
                                                                margin: 0,
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count : 0',
                                                                        itemId: 'inStoreVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '42%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrCollectionTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrDesignTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrSKUTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        height: '25px',
                                                                        itemId: 'retailersPagignationControlPanel',
                                                                        margin: '0 5px 0 5px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'left',
                                                                                itemId: 'retailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'right',
                                                                                itemId: 'retailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'label',
                                                                                html: '1',
                                                                                itemId: 'retailerAtVendorPNoLbl',
                                                                                minWidth: '20px',
                                                                                style: 'text-align: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'PROSPECTS',
                                                        itemId: 'RDOnlineVendorsTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                itemId: 'retailersProspectSearchFieldSet',
                                                                style: 'border: none;',
                                                                width: '98%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'searchfield',
                                                                        action: 'searchRetailers',
                                                                        flex: 1,
                                                                        cls: 'x-field-techLogsearch',
                                                                        itemId: 'rtVdrsSearchFld',
                                                                        style: 'border: none;'
                                                                    },
                                                                    {
                                                                        xtype: 'button',
                                                                        action: 'searchRetailersBtn',
                                                                        cls: 'x-rm-blueBtn',
                                                                        height: '25px',
                                                                        itemId: 'retailersVendorsSerchBtn',
                                                                        width: '90px',
                                                                        text: 'Search'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                height: '100%',
                                                                itemId: 'RDOnlineVendorList',
                                                                width: '100%',
                                                                flex: 2
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                margin: 0,
                                                                width: '99%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count :',
                                                                        itemId: 'onlineVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        itemId: 'retailersProspectsPagignationControlPanel',
                                                                        margin: '0 5px 0 0px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'Additional Info',
                                                        itemId: 'retailerAdditionalInfoTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'formpanel',
                                                                action: 'setScrollBarVisible',
                                                                flex: 2,
                                                                cls: 'x-rm-rdformpanel',
                                                                itemId: 'rtAdditionalInfoForm',
                                                                width: '100%',
                                                                scrollable: true,
                                                                layout: {
                                                                    type: 'vbox',
                                                                    align: 'start'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreInventoryTool',
                                                                        margin: '10px 0 0 0',
                                                                        label: 'Inventory Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAccountingTool',
                                                                        label: 'Accounting Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAltBusiness',
                                                                        label: 'Alt Business',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreYrsInBusiness',
                                                                        label: 'Years in business',
                                                                        labelWidth: '110px',
                                                                        maxLength: 3
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreEmployees',
                                                                        label: 'Employees',
                                                                        labelWidth: '110px',
                                                                        maxLength: 5
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAdvertising',
                                                                        label: 'Advertising',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreMoBudget',
                                                                        label: 'Ad Budget',
                                                                        labelWidth: '110px',
                                                                        maxLength: 7
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercProg',
                                                                        label: '% Program',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercKind',
                                                                        label: '% One of a Kind',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'rtAdditionalInfoChallenges',
                                                                        label: 'Challenges',
                                                                        labelWidth: '110px'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                handler: function(button, e) {
                                                                    if(Ext.getCmp("addNewField"))
                                                                    {
                                                                        Ext.getCmp("addNewField").destroy();
                                                                    }


                                                                    RMdatalink.app.getController('RetailerDeatilsDataSet').config.isAdditionalInfoMoreFldsTap = true ;



                                                                    var popup = Ext.widget('addNewField');

                                                                    popup.showBy(button);
                                                                },
                                                                cls: 'x-rm-blueBtn',
                                                                itemId: 'rtDtlStrAddInfoAddBtn',
                                                                text: 'Add New Fields'
                                                            }
                                                        ]
                                                    }
                                                ],
                                                tabBar: {
                                                    docked: 'top'
                                                }
                                            },
                                            {
                                                xtype: 'tabpanel',
                                                cls: [
                                                    'x-rm-tabpanel',
                                                    'x-rm-tabpanelWidth33'
                                                ],
                                                itemId: 'RDForECommerce',
                                                ui: 'light',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        title: 'ACTIVE',
                                                        itemId: 'RDInStoreVendorsTab',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                height: '30px',
                                                                hidden: true,
                                                                itemId: 'vendorsActiveRetailersSearchFldSet',
                                                                layout: 'hbox',
                                                                listeners: [
                                                                    {
                                                                        fn: function(component, eOpts) {



                                                                        },
                                                                        event: 'initialize'
                                                                    }
                                                                ],
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 2,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        hidden: true,
                                                                        itemId: 'retailersActiveSearchFieldSet',
                                                                        margin: 0,
                                                                        style: 'border: none;',
                                                                        width: '98%',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'searchfield',
                                                                                action: 'searchActiveRetailers',
                                                                                flex: 1,
                                                                                cls: 'x-field-techLogsearch',
                                                                                itemId: 'rtVdrsSearchFld',
                                                                                style: 'border: none;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                action: 'searchActiveRetailersBtn',
                                                                                cls: 'x-rm-blueBtn',
                                                                                height: '25px',
                                                                                itemId: 'retailersVendorsSerchBtn',
                                                                                width: '90px',
                                                                                text: 'Search'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        action: 'importRetailers',
                                                                        cls: 'x-rm-selectFileFldImportXL',
                                                                        docked: 'right',
                                                                        hidden: true,
                                                                        itemId: 'csvImportFileField',
                                                                        width: '60px',
                                                                        clearIcon: true,
                                                                        accept: '\.csv'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'searchView',
                                                                itemId: 'vendorsCommonSearchViewForRetailer'
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                itemId: 'RDInStoreVendorList',
                                                                flex: 2
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                itemId: 'rtlrVdrAssociationTotalFldSet',
                                                                margin: 0,
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count : 0',
                                                                        itemId: 'inStoreVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '42%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrCollectionTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrDesignTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrSKUTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        height: '25px',
                                                                        hidden: true,
                                                                        itemId: 'retailersPagignationControlPanel',
                                                                        margin: '0 5px 0 5px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'left',
                                                                                itemId: 'retailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'right',
                                                                                itemId: 'retailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'label',
                                                                                html: '1',
                                                                                itemId: 'retailerAtVendorPNoLbl',
                                                                                minWidth: '20px',
                                                                                style: 'text-align: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'PROSPECTS',
                                                        itemId: 'RDOnlineVendorsTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                itemId: 'retailersProspectSearchFieldSet',
                                                                margin: 0,
                                                                style: 'border: none;',
                                                                width: '98%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'searchfield',
                                                                        action: 'searchRetailers',
                                                                        flex: 1,
                                                                        cls: 'x-field-techLogsearch',
                                                                        itemId: 'rtVdrsSearchFld',
                                                                        style: 'border: none;'
                                                                    },
                                                                    {
                                                                        xtype: 'button',
                                                                        action: 'searchRetailersBtn',
                                                                        cls: 'x-rm-blueBtn',
                                                                        height: '25px',
                                                                        itemId: 'retailersVendorsSerchBtn',
                                                                        width: '90px',
                                                                        text: 'Search'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                itemId: 'RDOnlineVendorList',
                                                                width: '100%',
                                                                flex: 1
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                margin: 0,
                                                                width: '99%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count :',
                                                                        itemId: 'onlineVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        hidden: true,
                                                                        itemId: 'retailersProspectsPagignationControlPanel',
                                                                        margin: '0 5px 0 0px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'Additional Info',
                                                        itemId: 'retailerAdditionalInfoTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'formpanel',
                                                                action: 'setScrollBarVisible',
                                                                flex: 2,
                                                                cls: 'x-rm-rdformpanel',
                                                                itemId: 'rtAdditionalInfoForm',
                                                                width: '100%',
                                                                scrollable: true,
                                                                layout: {
                                                                    type: 'vbox',
                                                                    align: 'start'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreInventoryTool',
                                                                        margin: '10px 0 0 0',
                                                                        label: 'Inventory Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAccountingTool',
                                                                        label: 'Accounting Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAltBusiness',
                                                                        label: 'Alt Business',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreYrsInBusiness',
                                                                        label: 'Years in business',
                                                                        labelWidth: '110px',
                                                                        maxLength: 3
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreEmployees',
                                                                        label: 'Employees',
                                                                        labelWidth: '110px',
                                                                        maxLength: 5
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAdvertising',
                                                                        label: 'Advertising',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreMoBudget',
                                                                        label: 'Ad Budget',
                                                                        labelWidth: '110px',
                                                                        maxLength: 7
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercProg',
                                                                        label: '% Program',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercKind',
                                                                        label: '% One of a Kind',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'rtAdditionalInfoChallenges',
                                                                        label: 'Challenges',
                                                                        labelWidth: '110px'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                handler: function(button, e) {
                                                                    if(Ext.getCmp("addNewField"))
                                                                    {
                                                                        Ext.getCmp("addNewField").destroy();
                                                                    }


                                                                    RMdatalink.app.getController('RetailerDeatilsDataSet').config.isAdditionalInfoMoreFldsTap = true ;



                                                                    var popup = Ext.widget('addNewField');

                                                                    popup.showBy(button);
                                                                },
                                                                cls: 'x-rm-blueBtn',
                                                                itemId: 'rtDtlStrAddInfoAddBtn',
                                                                text: 'Add New Fields'
                                                            }
                                                        ]
                                                    }
                                                ],
                                                tabBar: {
                                                    docked: 'top'
                                                }
                                            },
                                            {
                                                xtype: 'tabpanel',
                                                cls: [
                                                    'x-rm-tabpanel',
                                                    'x-rm-tabpanelWidth33'
                                                ],
                                                itemId: 'RDForVIP',
                                                ui: 'light',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        title: 'ACTIVE',
                                                        itemId: 'RDInStoreVendorsTab',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                height: '30px',
                                                                hidden: true,
                                                                itemId: 'vendorsActiveRetailersSearchFldSet',
                                                                layout: 'hbox',
                                                                listeners: [
                                                                    {
                                                                        fn: function(component, eOpts) {



                                                                        },
                                                                        event: 'initialize'
                                                                    }
                                                                ],
                                                                items: [
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        flex: 2,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        hidden: true,
                                                                        itemId: 'retailersActiveSearchFieldSet',
                                                                        margin: 0,
                                                                        style: 'border: none;',
                                                                        width: '98%',
                                                                        layout: 'hbox',
                                                                        items: [
                                                                            {
                                                                                xtype: 'searchfield',
                                                                                action: 'searchActiveRetailers',
                                                                                flex: 1,
                                                                                cls: 'x-field-techLogsearch',
                                                                                itemId: 'rtVdrsSearchFld',
                                                                                style: 'border: none;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                action: 'searchActiveRetailersBtn',
                                                                                cls: 'x-rm-blueBtn',
                                                                                height: '25px',
                                                                                itemId: 'retailersVendorsSerchBtn',
                                                                                width: '90px',
                                                                                text: 'Search'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'filefield',
                                                                        action: 'importRetailers',
                                                                        cls: 'x-rm-selectFileFldImportXL',
                                                                        docked: 'right',
                                                                        hidden: true,
                                                                        itemId: 'csvImportFileField',
                                                                        width: '60px',
                                                                        clearIcon: true,
                                                                        accept: '\.csv'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'searchView',
                                                                itemId: 'vendorsCommonSearchViewForRetailer'
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                itemId: 'RDInStoreVendorList',
                                                                flex: 2
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                itemId: 'rtlrVdrAssociationTotalFldSet',
                                                                margin: 0,
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count : 0',
                                                                        itemId: 'inStoreVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '42%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrCollectionTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrDesignTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'label',
                                                                        html: '0',
                                                                        itemId: 'rtDtlVdrSKUTotalLbl',
                                                                        style: 'font-size:80%;',
                                                                        width: '20%'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        height: '25px',
                                                                        hidden: true,
                                                                        itemId: 'retailersPagignationControlPanel',
                                                                        margin: '0 5px 0 5px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'left',
                                                                                itemId: 'retailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                docked: 'right',
                                                                                itemId: 'retailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'label',
                                                                                html: '1',
                                                                                itemId: 'retailerAtVendorPNoLbl',
                                                                                minWidth: '20px',
                                                                                style: 'text-align: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'PROSPECTS',
                                                        itemId: 'RDOnlineVendorsTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: [
                                                                    'x-rm-rdformpanel',
                                                                    'noBorderFldSet'
                                                                ],
                                                                itemId: 'retailersProspectSearchFieldSet',
                                                                margin: 0,
                                                                style: 'border: none;',
                                                                width: '98%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'searchfield',
                                                                        action: 'searchRetailers',
                                                                        flex: 1,
                                                                        cls: 'x-field-techLogsearch',
                                                                        itemId: 'rtVdrsSearchFld',
                                                                        style: 'border: none;'
                                                                    },
                                                                    {
                                                                        xtype: 'button',
                                                                        action: 'searchRetailersBtn',
                                                                        cls: 'x-rm-blueBtn',
                                                                        height: '25px',
                                                                        itemId: 'retailersVendorsSerchBtn',
                                                                        width: '90px',
                                                                        text: 'Search'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'listwithheader',
                                                                itemId: 'RDOnlineVendorList',
                                                                width: '100%',
                                                                flex: 1
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                cls: 'noBorderFldSet',
                                                                margin: 0,
                                                                width: '99%',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        html: 'Total Count :',
                                                                        itemId: 'onlineVendorsRetailersCLbl',
                                                                        style: 'font-size:80%;'
                                                                    },
                                                                    {
                                                                        xtype: 'fieldset',
                                                                        baseCls: 'noCls',
                                                                        docked: 'right',
                                                                        hidden: true,
                                                                        itemId: 'retailersProspectsPagignationControlPanel',
                                                                        margin: '0 5px 0 0px',
                                                                        padding: 0,
                                                                        layout: {
                                                                            type: 'hbox',
                                                                            align: 'center',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageLeftBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_left.png);background-repeat: no-repeat;background-position: center;'
                                                                            },
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'prospectsretailersOfVendorsPageRightBtn',
                                                                                style: 'background-image: url(resources/images/CardHeaderPanel/arrow_right.png);background-repeat: no-repeat;background-position: center;'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        title: 'Additional Info',
                                                        itemId: 'retailerAdditionalInfoTab',
                                                        layout: {
                                                            type: 'vbox',
                                                            align: 'center'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'formpanel',
                                                                action: 'setScrollBarVisible',
                                                                flex: 2,
                                                                cls: 'x-rm-rdformpanel',
                                                                itemId: 'rtAdditionalInfoForm',
                                                                width: '100%',
                                                                scrollable: true,
                                                                layout: {
                                                                    type: 'vbox',
                                                                    align: 'start'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreInventoryTool',
                                                                        margin: '10px 0 0 0',
                                                                        label: 'Inventory Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAccountingTool',
                                                                        label: 'Accounting Tool',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAltBusiness',
                                                                        label: 'Alt Business',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreYrsInBusiness',
                                                                        label: 'Years in business',
                                                                        labelWidth: '110px',
                                                                        maxLength: 3
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStoreEmployees',
                                                                        label: 'Employees',
                                                                        labelWidth: '110px',
                                                                        maxLength: 5
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreAdvertising',
                                                                        label: 'Advertising',
                                                                        labelWidth: '110px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDStoreMoBudget',
                                                                        label: 'Ad Budget',
                                                                        labelWidth: '110px',
                                                                        maxLength: 7
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercProg',
                                                                        label: '% Program',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDStorePercKind',
                                                                        label: '% One of a Kind',
                                                                        labelWidth: '110px',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'rtAdditionalInfoChallenges',
                                                                        label: 'Challenges',
                                                                        labelWidth: '110px'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                handler: function(button, e) {
                                                                    if(Ext.getCmp("addNewField"))
                                                                    {
                                                                        Ext.getCmp("addNewField").destroy();
                                                                    }


                                                                    RMdatalink.app.getController('RetailerDeatilsDataSet').config.isAdditionalInfoMoreFldsTap = true ;



                                                                    var popup = Ext.widget('addNewField');

                                                                    popup.showBy(button);
                                                                },
                                                                cls: 'x-rm-blueBtn',
                                                                itemId: 'rtDtlStrAddInfoAddBtn',
                                                                text: 'Add New Fields'
                                                            }
                                                        ]
                                                    }
                                                ],
                                                tabBar: {
                                                    docked: 'top'
                                                }
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'RDBlueBookContainer',
                                layout: 'vbox',
                                items: [
                                    {
                                        xtype: 'tabpanel',
                                        flex: 1,
                                        cls: [
                                            'x-rm-tabpanel',
                                            'x-rm-tabpanelWidth50'
                                        ],
                                        itemId: 'RDBlueBookSideLocationTabPanel',
                                        ui: 'light',
                                        items: [
                                            {
                                                xtype: 'container',
                                                title: 'LOCATIONS',
                                                itemId: 'RDBlueBookLocationTab',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        height: '7%',
                                                        width: '96%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center',
                                                            pack: 'end'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'button',
                                                                height: '25px',
                                                                itemId: 'blueBookLocationAddBtn',
                                                                style: 'background-image: url(resources/images/retailerDetail/add_btn.png);background-repeat: no-repeat;background-position: center;',
                                                                ui: 'plain',
                                                                width: '29px',
                                                                iconAlign: 'center'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'panel',
                                                        action: 'setScrollBarVisible',
                                                        height: '92%',
                                                        itemId: 'locationAddNewContainerItemID',
                                                        scrollable: true
                                                    }
                                                ]
                                            }
                                        ],
                                        tabBar: {
                                            docked: 'top'
                                        }
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'RDManagerSideContainer',
                                layout: 'fit',
                                items: [
                                    {
                                        xtype: 'tabpanel',
                                        cls: [
                                            'x-rm-tabpanel',
                                            'x-rm-tabpanelWidth50'
                                        ],
                                        itemId: 'RDManagerSideTabPanel',
                                        ui: 'light',
                                        items: [
                                            {
                                                xtype: 'container',
                                                title: 'TIPS',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        margin: '4%',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#2EC1DA;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'WHAT\'S NEW',
                                                                        itemId: 'RDManagerWhatsNewLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDManagerWhatsNewList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">{notification}</li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsNew',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'DO\'S & DONT\'S',
                                                                        itemId: 'RDManagerDosDontLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDManagerDosDontList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'managerDoDonts\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notifications.managerTipsdodonts',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'FOLLOW UP\'S',
                                                                        itemId: 'RDManagerFollowUpsLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDManagerFollowUpsLists',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'managerFollowUps\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notifications.managerTipsfollowsup',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                cls: [
                                                                    'x-rm-rdnotes-sticky',
                                                                    'x-rm-rdbluenotessticky'
                                                                ],
                                                                height: '25%',
                                                                layout: 'vbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        height: '15%',
                                                                        style: 'background-color:#3D3E3D;',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                cls: 'x-rm-rdtipslabel',
                                                                                html: 'BLUE NOTES',
                                                                                itemId: 'RDManagerBlueStickyLabel'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'formpanel',
                                                                        flex: 1,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        itemId: 'RDManagerBlueSticky',
                                                                        margin: '2%',
                                                                        scrollable: false,
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            align: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'textareafield',
                                                                                itemId: 'RDManagerBlueStickyTextArea',
                                                                                clearIcon: false,
                                                                                placeHolder: 'Add any extremely important reminders here...'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                title: 'RELATIONSHIP DETAILS',
                                                itemId: 'ActRDManagerRelDetailsTab',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: [
                                                            'x-rm-rdformpanel',
                                                            'x-rm-rdmanagerform'
                                                        ],
                                                        itemId: 'RDManagerRelationDetailsForm',
                                                        margin: '2%',
                                                        scrollable: true,
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                actionChange: 'textChange',
                                                                itemId: 'RDMRDYrsAtStore',
                                                                label: 'Years At Company',
                                                                labelWidth: '100px',
                                                                maxLength: 2
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDWife',
                                                                label: 'Spouse',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'RDMRDAniversary',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDMRDAniversaryMonth',
                                                                        width: '90%',
                                                                        label: 'Aniversary',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDAniversaryDay',
                                                                        margin: '0 1%',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDAniversaryYear',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDRelatives',
                                                                label: 'Relatives',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'RDMRDChild1',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDMRDChild1Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDMRDChild1Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDMRDChild2Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDMRDChild2Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDMRDChild3Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'RDMRDChild3Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDMRDDOBMonth',
                                                                        width: '90%',
                                                                        label: 'DOB',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDDOBDay',
                                                                        margin: '0 1%',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDDOBYear',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDPartner1',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDPartner2',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDHobbies',
                                                                label: 'Hobbies',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDMRDCarOfChoice',
                                                                label: 'Car of Choice',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDMRDAltPhone',
                                                                label: 'Alt Phone',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDMRDAltEmail',
                                                                label: 'Alt Email',
                                                                labelWidth: '100px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDMRDWebsite',
                                                                label: 'Website',
                                                                labelWidth: '100px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        tabBar: {
                                            docked: 'top'
                                        }
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'RDCRMNotesSideContainer',
                                layout: 'fit',
                                items: [
                                    {
                                        xtype: 'tabpanel',
                                        cls: [
                                            'x-rm-tabpanel',
                                            'x-rm-tabpanelWidth33'
                                        ],
                                        itemId: 'RDCRMNotesSideTabPanel',
                                        ui: 'light',
                                        items: [
                                            {
                                                xtype: 'container',
                                                title: 'TIPS',
                                                itemId: 'vendorTisSidePanel',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'notesTipsPanel',
                                                        margin: '4%',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#2EC1DA;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'WHAT\'S NEW',
                                                                        itemId: 'RDCRMNotesWhatsNewLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDCRMNotesWhatsNewList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">{notification}</li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsNew',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'DO\'S & DONT\'S',
                                                                        itemId: 'RDCRMNotesDosDontLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDCRMNotesDosDontList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'doDonts\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsTipsDoDonts',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'FOLLOW UP\'S',
                                                                        itemId: 'RDCRMNotesFollowUpsLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDCRMNotesFollowUpsLists',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'followUps\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsTipsFollowsup',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                cls: [
                                                                    'x-rm-rdnotes-sticky',
                                                                    'x-rm-rdbluenotessticky'
                                                                ],
                                                                height: '25%',
                                                                style: 'background-color:#D9F1F7;',
                                                                layout: 'vbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        height: '15%',
                                                                        style: 'background-color:#3D3E3D;',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                cls: 'x-rm-rdtipslabel',
                                                                                html: 'BLUE NOTES',
                                                                                itemId: 'RDCRMNotesBlueStickyLabel'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'formpanel',
                                                                        flex: 1,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        itemId: 'RDManagerBlueSticky1',
                                                                        margin: '2%',
                                                                        scrollable: false,
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            align: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'textareafield',
                                                                                itemId: 'RDCRMNotesBlueStickyTextArea',
                                                                                clearIcon: false,
                                                                                placeHolder: 'Add any extremely important reminders here...'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                title: 'PHOTOS',
                                                disabled: true,
                                                itemId: 'vendorNotesPhotosSideTab',
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'dataview',
                                                        action: 'setScrollBarVisible',
                                                        cls: 'x-rm-rdphotosview',
                                                        height: '85%',
                                                        itemId: 'RDCRMNotesPhotosView',
                                                        margin: '5% 0',
                                                        width: '80%',
                                                        deferEmptyText: false,
                                                        emptyText: '<p class="x-rm-emptytext">No Photos</p>',
                                                        itemTpl: [
                                                            '<img class="x-rm-rdphoto" src="{image}" data-imagename="{imagename}"/>'
                                                        ],
                                                        store: 'retailersDetailsPhotos'
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        height: '5%',
                                                        itemId: 'vendorsPhotosBtnsPanel',
                                                        width: '90%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center',
                                                            pack: 'end'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'button',
                                                                height: '25px',
                                                                itemId: 'RDCRMNotesPhotosDeleteBtn',
                                                                margin: '0 2%',
                                                                style: ' background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                                ui: 'plain',
                                                                width: '29px'
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                height: '25px',
                                                                itemId: 'RDCRMNotesPhotosAddBtn',
                                                                style: 'background-image: url(resources/images/retailerDetail/add_image.png);background-repeat: no-repeat;background-position: center;',
                                                                ui: 'plain',
                                                                width: '29px'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                title: 'ATTACHMENTS',
                                                disabled: true,
                                                itemId: 'vendorNotesAttachmentTab',
                                                layout: {
                                                    type: 'vbox',
                                                    align: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'list',
                                                        action: 'setScrollBarVisible',
                                                        cls: [
                                                            'x-rm-list',
                                                            'x-rm-rdattachmentslist'
                                                        ],
                                                        height: '35%',
                                                        itemId: 'RDCRMNotesAttList',
                                                        margin: '5% 0',
                                                        width: '90%',
                                                        deferEmptyText: false,
                                                        emptyText: '<p class="x-rm-emptytext">No attachments</p>',
                                                        itemTpl: [
                                                            '<div class="x-rm-listtpl-main">',
                                                            '    <div style="width:5%; height:100%">',
                                                            '        <div style="width:8px; height:17px; background-image:url(\'resources/images/retailerDetail/attachment_icon.png\')"></div>',
                                                            '    </div>',
                                                            '    <div style="margin-left:5%;width:90%">{filename}</div>',
                                                            '</div>'
                                                        ],
                                                        store: 'retailersDetailsAttachments',
                                                        itemHeight: 22
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        height: '35%',
                                                        margin: '5% 0',
                                                        width: '90%',
                                                        items: [
                                                            {
                                                                xtype: 'dataview',
                                                                cls: 'x-rm-rdattach-header',
                                                                data: [
                                                                    {
                                                                        
                                                                    }
                                                                ],
                                                                height: '10%',
                                                                itemId: 'RDCRMNotesAttRetailerHeader',
                                                                scrollable: false,
                                                                itemTpl: [
                                                                    '<div class="x-rm-listtpl-main">',
                                                                    '    <div style="width:75%">ATTACHMENTS SENT TO RETAILER</div>',
                                                                    '    <div style="width:25%">DATE</div>',
                                                                    '</div>'
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-rdattachmentslist'
                                                                ],
                                                                height: '90%',
                                                                itemId: 'RDCRMNotesAttRetailerList',
                                                                width: '100%',
                                                                deferEmptyText: false,
                                                                emptyText: '<p class="x-rm-emptytext">No attachments sent</p>',
                                                                itemTpl: [
                                                                    '<div class="x-rm-listtpl-main">',
                                                                    '    <div style="width:5%; height:100%">',
                                                                    '        <div style="width:8px; height:17px; background-image:url(\'resources/images/retailerDetail/attachment_icon.png\')"></div>',
                                                                    '    </div>',
                                                                    '    <div style="margin-left:5%;width:65%">{filename}</div>',
                                                                    '    <div style="width:25%">{date}</div>',
                                                                    '</div>'
                                                                ],
                                                                store: 'retailersDetailsAttachments',
                                                                itemHeight: 22
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        height: '5%',
                                                        margin: '10% 0 0 0',
                                                        width: '90%',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'center',
                                                            pack: 'end'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'button',
                                                                height: '25px',
                                                                itemId: 'RDCRMNotesAttDeleteBtn',
                                                                margin: '0 2%',
                                                                style: ' background-image: url(resources/images/retailerDetail/delete_btn.png);background-repeat: no-repeat;background-position: center;',
                                                                ui: 'plain',
                                                                width: '29px'
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                height: '25px',
                                                                itemId: 'RDCRMNotesAttAddBtn',
                                                                style: 'background-image: url(resources/images/retailerDetail/attachment.png);background-repeat: no-repeat;background-position: center;',
                                                                ui: 'plain',
                                                                width: '29px'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        tabBar: {
                                            docked: 'top'
                                        }
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'RDUserProfileSideContainer',
                                layout: 'fit',
                                items: [
                                    {
                                        xtype: 'tabpanel',
                                        cls: [
                                            'x-rm-tabpanel',
                                            'x-rm-tabpanelWidth50'
                                        ],
                                        itemId: 'RDUserProfileSideTabPanel',
                                        ui: 'light',
                                        items: [
                                            {
                                                xtype: 'container',
                                                title: 'TIPS',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        margin: '4%',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#2EC1DA;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'WHAT\'S NEW',
                                                                        itemId: 'RDUserProfileWhatsNewLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDUserProfileWhatsNewList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">{notification}</li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsNew',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'DO\'S & DONT\'S',
                                                                        itemId: 'RDUserProfileDosDontLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDUserProfileDosDontList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'repsDoDonts\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notifications.repsTipsdodonts',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'FOLLOW UP\'S',
                                                                        itemId: 'RDManagerFollowUpsLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'RDUserProfileFollowUpsLists',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'repsFollowUps\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notifications.repsTipsfollowsup',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                cls: [
                                                                    'x-rm-rdnotes-sticky',
                                                                    'x-rm-rdbluenotessticky'
                                                                ],
                                                                height: '25%',
                                                                layout: 'vbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        height: '15%',
                                                                        style: 'background-color:#3D3E3D;',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                cls: 'x-rm-rdtipslabel',
                                                                                html: 'BLUE NOTES',
                                                                                itemId: 'RDUserProfileBlueStickyLabel'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'formpanel',
                                                                        flex: 1,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        itemId: 'RDUserProfileBlueSticky',
                                                                        margin: '2%',
                                                                        scrollable: false,
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            align: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'textareafield',
                                                                                itemId: 'RDUserProfileBlueStickyTextArea',
                                                                                clearIcon: false,
                                                                                placeHolder: 'Add any extremely important reminders here...'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                title: 'RELATIONSHIP DETAILS',
                                                itemId: 'RDUserProfileRelDetailsTab',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: [
                                                            'x-rm-rdformpanel',
                                                            'x-rm-rdmanagerform'
                                                        ],
                                                        itemId: 'RDUserProfileRelationDetailsForm',
                                                        margin: '2%',
                                                        scrollable: true,
                                                        items: [
                                                            {
                                                                xtype: 'numberfield',
                                                                itemId: 'RDUserProfileDYrsAtStore',
                                                                label: 'Years At Company',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileWife',
                                                                label: 'Wife',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'RDUserProfileniversary',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        hidden: false,
                                                                        itemId: 'RDMRDUserAniversaryMonth',
                                                                        width: '90%',
                                                                        label: 'Aniversary',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDAniversaryDay',
                                                                        margin: '0 1%',
                                                                        width: '15%'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        hidden: true,
                                                                        itemId: 'RDMRDAniversaryYear',
                                                                        width: '15%'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileRelatives',
                                                                label: 'Relatives',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'RDUserProfileChild1',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDUserProfileChild1Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        itemId: 'RDUserProfileChild1Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDUserProfileChild2Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        itemId: 'RDUserProfileChild2Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDUserProfileChild3Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        itemId: 'RDUserProfileChild3Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'RDUserProfileDOBMonth',
                                                                        width: '90%',
                                                                        label: 'DOB',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        hidden: true,
                                                                        itemId: 'RDUserProfileDOBDay',
                                                                        margin: '0 1%',
                                                                        width: '15%'
                                                                    },
                                                                    {
                                                                        xtype: 'numberfield',
                                                                        hidden: true,
                                                                        itemId: 'RDUserProfileDOBYear',
                                                                        width: '15%'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfilePartner1',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfilePartner2',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileHobbies',
                                                                label: 'Hobbies',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'RDUserProfileCarOfChoice',
                                                                label: 'Car of Choice',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'RDUserProfileAltPhone',
                                                                label: 'Alt Phone',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                itemId: 'RDUserProfileAltEmail',
                                                                label: 'Alt Email',
                                                                labelWidth: '100px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                itemId: 'RDUserProfileWebsite',
                                                                label: 'Website',
                                                                labelWidth: '100px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        tabBar: {
                                            docked: 'top'
                                        }
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'ManagerProfileSideContainer',
                                layout: 'fit',
                                items: [
                                    {
                                        xtype: 'tabpanel',
                                        cls: [
                                            'x-rm-tabpanel',
                                            'x-rm-tabpanelWidth50'
                                        ],
                                        itemId: 'ManagerProfileSideTabPanel',
                                        ui: 'light',
                                        items: [
                                            {
                                                xtype: 'container',
                                                title: 'TIPS',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        margin: '4%',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#2EC1DA;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'WHAT\'S NEW',
                                                                        itemId: 'RDManagerWhatsNewLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'ActRDManagerWhatsNewList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">{notification}</li>',
                                                                    '</ul>'
                                                                ],
                                                                store: 'notificationsNew',
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'DO\'S & DONT\'S',
                                                                        itemId: 'RDManagerDosDontLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'ActRDManagerDosDontList',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'actmanagerDoDonts\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                minHeight: '4%',
                                                                style: 'background-color:#3D3E3D;',
                                                                layout: {
                                                                    type: 'vbox',
                                                                    pack: 'center'
                                                                },
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        cls: 'x-rm-rdtipslabel',
                                                                        html: 'FOLLOW UP\'S',
                                                                        itemId: 'RDManagerFollowUpsLabel'
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'list',
                                                                action: 'setScrollBarVisible',
                                                                cls: [
                                                                    'x-rm-list',
                                                                    'x-rm-tipslist'
                                                                ],
                                                                height: '5.0em',
                                                                itemId: 'ActRDManagerFollowUpsLists',
                                                                margin: '2%',
                                                                itemTpl: [
                                                                    '<ul class="x-rm-tipslist-tpl">',
                                                                    '    <li style = "list-style-position: inside;list-style-type: disc;">',
                                                                    '        <input type="text" class="rtDtllsinputFlds x-rm-rdinlinecmt" data-id="{id}" value="{notification}"',
                                                                    '          onchange="RMdatalink.app.getController(\'Main\').saveTips(this,\'actmanagerFollowUps\');"/>',
                                                                    '    </li>',
                                                                    '</ul>'
                                                                ],
                                                                itemHeight: 20
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                cls: [
                                                                    'x-rm-rdnotes-sticky',
                                                                    'x-rm-rdbluenotessticky'
                                                                ],
                                                                height: '25%',
                                                                layout: 'vbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        height: '15%',
                                                                        style: 'background-color:#3D3E3D;',
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            pack: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'label',
                                                                                cls: 'x-rm-rdtipslabel',
                                                                                html: 'BLUE NOTES',
                                                                                itemId: 'RDManagerBlueStickyLabel'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'formpanel',
                                                                        flex: 1,
                                                                        cls: 'x-rm-rdformpanel',
                                                                        itemId: 'ActRDManagerBlueSticky',
                                                                        margin: '2%',
                                                                        scrollable: false,
                                                                        layout: {
                                                                            type: 'vbox',
                                                                            align: 'center'
                                                                        },
                                                                        items: [
                                                                            {
                                                                                xtype: 'textareafield',
                                                                                itemId: 'ActRDManagerBlueStickyTextArea',
                                                                                clearIcon: false,
                                                                                placeHolder: 'Add any extremely important reminders here...'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                title: 'RELATIONSHIP DETAILS',
                                                itemId: 'ActRDManagerRelDetailsTab',
                                                layout: 'fit',
                                                items: [
                                                    {
                                                        xtype: 'formpanel',
                                                        action: 'setScrollBarVisible',
                                                        cls: [
                                                            'x-rm-rdformpanel',
                                                            'x-rm-rdmanagerform'
                                                        ],
                                                        itemId: 'ActRDManagerRelationDetailsForm',
                                                        margin: '2%',
                                                        scrollable: true,
                                                        items: [
                                                            {
                                                                xtype: 'textfield',
                                                                actionChange: 'textChange',
                                                                itemId: 'ActRDMRDYrsAtStore',
                                                                label: 'Years At Company',
                                                                labelWidth: '100px',
                                                                maxLength: 2
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDWife',
                                                                label: 'Spouse',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'ActRDMRDAniversary',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMRDAniversaryMonth',
                                                                        width: '80%',
                                                                        label: 'Aniversary',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'ActRDMRDAniversaryDay',
                                                                        margin: '0 1%',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'ActRDMRDAniversaryYear',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDRelatives',
                                                                label: 'Relatives',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                itemId: 'ActRDMRDChild1',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMRDChild1Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'ActRDMRDChild1Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMRDChild2Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'ActRDMRDChild2Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMRDChild3Name',
                                                                        width: '70%',
                                                                        label: 'Child',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        itemId: 'ActRDMRDChild3Age',
                                                                        width: '30%',
                                                                        label: 'Age',
                                                                        labelWidth: '60%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'fieldset',
                                                                layout: 'hbox',
                                                                items: [
                                                                    {
                                                                        xtype: 'textfield',
                                                                        itemId: 'ActRDMRDDOBMonth',
                                                                        width: '90%',
                                                                        label: 'DOB',
                                                                        labelWidth: '100px'
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'ActRDMRDDOBDay',
                                                                        margin: '0 1%',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    },
                                                                    {
                                                                        xtype: 'textfield',
                                                                        actionChange: 'textChange',
                                                                        hidden: true,
                                                                        itemId: 'ActRDMRDDOBYear',
                                                                        width: '15%',
                                                                        maxLength: 2
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDPartner1',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDPartner2',
                                                                label: 'Partner',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDHobbies',
                                                                label: 'Hobbies',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                itemId: 'ActRDMRDCarOfChoice',
                                                                label: 'Car of Choice',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'ActRDMRDAltPhone',
                                                                label: 'Alt Phone',
                                                                labelWidth: '100px'
                                                            },
                                                            {
                                                                xtype: 'emailfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'ActRDMRDAltEmail',
                                                                label: 'Alt Email',
                                                                labelWidth: '100px',
                                                                placeHolder: 'email@example.com'
                                                            },
                                                            {
                                                                xtype: 'urlfield',
                                                                action: 'clearIconTap',
                                                                itemId: 'ActRDMRDWebsite',
                                                                label: 'Website',
                                                                labelWidth: '100px',
                                                                placeHolder: 'http://example.com'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            }
                                        ],
                                        tabBar: {
                                            docked: 'top'
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        listeners: [
            {
                fn: 'onRDStoreTabEditBtnTap',
                event: 'tap',
                delegate: '#RDStoreTabEditBtnItemID'
            },
            {
                fn: 'onCmpConDelBtnTap',
                event: 'tap',
                delegate: '#CmpContactDelBtn'
            },
            {
                fn: 'onCmpConAddBtnTap',
                event: 'tap',
                delegate: '#CmpContactAddBtn'
            },
            {
                fn: 'RDUserProfileEditBtnTap2',
                event: 'tap',
                delegate: '#CmpContactProfileEditBtn'
            },
            {
                fn: 'RDUserProfileEditBtnTap11',
                event: 'tap',
                delegate: '#CmpContactProfileCancel'
            },
            {
                fn: 'onRDUsersTabActiveItemChange1',
                event: 'activeitemchange',
                delegate: '#CmpContactTab'
            },
            {
                fn: 'onRDManagerStoreEditBtnTap2',
                event: 'tap',
                delegate: '#RDManagerStoreEditBtn'
            },
            {
                fn: 'onREPSDelBtnTap',
                event: 'tap',
                delegate: '#REPSDelBtn'
            },
            {
                fn: 'onREPSAddBtnTap',
                event: 'tap',
                delegate: '#REPSAddBtn'
            },
            {
                fn: 'RDUserProfileEditBtnTap',
                event: 'tap',
                delegate: '#RDUserProfileEditBtn'
            },
            {
                fn: 'RDUserProfileEditBtnTap1',
                event: 'tap',
                delegate: '#RDUserProfileCancel'
            },
            {
                fn: 'onBlueBookDelBtnTap',
                event: 'tap',
                delegate: '#blueBookDelBtn'
            },
            {
                fn: 'onBlueBookAddBtnTap',
                event: 'tap',
                delegate: '#blueBookAddBtn'
            },
            {
                fn: 'onMybutton24Tap1',
                event: 'tap',
                delegate: '#RDBlueBookUserProfileEditBtn'
            },
            {
                fn: 'onRDNotesDelBtnTap1',
                event: 'tap',
                delegate: '#RDTechSupportDelBtn'
            },
            {
                fn: 'onRDNotepadAdminBtnTap1',
                event: 'tap',
                delegate: '#RDNotepadAdminBtn'
            },
            {
                fn: 'onRDNotepadAdminBtnTap11',
                event: 'tap',
                delegate: '#RDNotepadAdminBtn'
            },
            {
                fn: 'onNotesListDeselect',
                event: 'deselect',
                delegate: '#rtDtlNotesLsPanel #mainList'
            },
            {
                fn: 'onNotesListSelect',
                event: 'select',
                delegate: '#rtDtlNotesLsPanel #mainList'
            },
            {
                fn: 'onRDNotesDelBtnTap',
                event: 'tap',
                delegate: '#RDNotesDelBtn'
            },
            {
                fn: 'onRDNotesAddBtnTap',
                event: 'tap',
                delegate: '#RDNotesAddBtn'
            },
            {
                fn: 'onRDNotepadAdminBtnTap',
                event: 'tap',
                delegate: '#RDNotepadAdminBtn'
            },
            {
                fn: 'onEEmailIdChange',
                event: 'change',
                delegate: '#passwordId'
            },
            {
                fn: 'onVipVendorListInECommItemTap',
                event: 'itemtap',
                delegate: '#vipVendorListInEComm'
            },
            {
                fn: 'onVipVendorListInECommItemTap1',
                event: 'itemtap',
                delegate: '#vipVendorProgramListInEComm'
            },
            {
                fn: 'onBackGround_Logo_ImageTap',
                event: 'tap',
                delegate: '#backGround_Logo_Image'
            },
            {
                fn: 'onRDTabPanelActiveItemChange',
                event: 'activeitemchange',
                delegate: '#retailerDetailsMainTabPanel'
            },
            {
                fn: 'onRDInStoreVendorListItemTap',
                event: 'itemtap',
                delegate: '#RDInStoreVendorList #mainList'
            },
            {
                fn: 'onRDOnlineStoreVendorListItemTap',
                event: 'itemtap',
                delegate: '#RDOnlineVendorList #mainList'
            },
            {
                fn: 'onRDInStoreVendorListItemTapEcomm',
                event: 'itemtap',
                delegate: '#RDInStoreVendorList #mainList'
            },
            {
                fn: 'onRDOnlineStoreVendorListItemTapEcomm',
                event: 'itemtap',
                delegate: '#RDOnlineVendorList #mainList'
            },
            {
                fn: 'onRDInStoreVendorListItemTapEcomm',
                event: 'itemtap',
                delegate: '#RDInStoreVendorList #mainList'
            },
            {
                fn: 'onRDOnlineStoreVendorListItemTapEcomm',
                event: 'itemtap',
                delegate: '#RDOnlineVendorList #mainList'
            },
            {
                fn: 'onRDNotesAddBtnTap11',
                event: 'tap',
                delegate: '#blueBookLocationAddBtn'
            },
            {
                fn: 'onRDStoreSideTabPanelActiveItemChange1',
                event: 'activeitemchange',
                delegate: '#RDBlueBookSideLocationTabPanel'
            },
            {
                fn: 'onRDManagerBlueStickyTextAreaBlur',
                event: 'blur',
                delegate: '#RDManagerBlueStickyTextArea'
            },
            {
                fn: 'onRDCRMNotesBlueStickyTextAreaBlur',
                event: 'blur',
                delegate: '#RDCRMNotesBlueStickyTextArea'
            },
            {
                fn: 'onRDCRMNotesPhotosViewItemTap',
                event: 'itemtap',
                delegate: '#RDCRMNotesPhotosView'
            },
            {
                fn: 'onRDCRMNotesPhotosDeleteBtnTap',
                event: 'tap',
                delegate: '#RDCRMNotesPhotosDeleteBtn'
            },
            {
                fn: 'onRDCRMNotesPhotosAddBtnTap',
                event: 'tap',
                delegate: '#RDCRMNotesPhotosAddBtn'
            },
            {
                fn: 'onRDCRMNotesAttDeleteBtnTap',
                event: 'tap',
                delegate: '#RDCRMNotesAttDeleteBtn'
            },
            {
                fn: 'onRDCRMNotesAttAddBtnTap',
                event: 'tap',
                delegate: '#RDCRMNotesAttAddBtn'
            },
            {
                fn: 'onRDManagerBlueStickyTextAreaBlur1',
                event: 'blur',
                delegate: '#RDUserProfileBlueStickyTextArea'
            },
            {
                fn: 'onRDManagerBlueStickyTextAreaBlur2',
                event: 'blur',
                delegate: '#ActRDManagerBlueStickyTextArea'
            },
            {
                fn: 'onContainerInitialize',
                event: 'initialize'
            },
            {
                fn: 'onRDretailers_vendorsDetailViewContainerPainted',
                event: 'painted'
            }
        ]
    },

    onRDStoreTabEditBtnTap: function(button, e, eOpts) {
                Ext.ComponentQuery.query('#RDStoreTabFormPanel')[0].setDisabled(false);


                var component = Ext.ComponentQuery.query('#RDStoresTab')[0];
        Ext.ComponentQuery.query('#rm_selectFileForStore')[0].setDisabled(false);
              //  var fileField = component.down('#rm_selectFileForStore');


        //   fileField.setHidden(false);
              //  component.down('#RDStoreLabel').setHidden(false);
             // component.down('#RDStoreLogoPanel').setHidden(false);

    },

    onCmpConDelBtnTap: function(button, e, eOpts) {
        var list = Ext.ComponentQuery.query('#CmpContactMainListWithHeader')[0].down("#mainList");

        var store = list.getStore();
        var selectedRecords = list.getSelection();

        if(Ext.isEmpty(selectedRecords)) {
            Ext.Msg.alert('Warning', 'Please select a record to delete', Ext.emptyFn);
            return;
        }
        else
        {
            store.remove(selectedRecords);
            store.sync();
            list.refresh();
        }

        console.log(selectedRecords);
    },

    onCmpConAddBtnTap: function(button, e, eOpts) {
        var list = Ext.ComponentQuery.query('#CmpContactMainListWithHeader')[0].down("#mainList");

        var index = Ext.getStore('vendor.CompanyContactStore').getCount();

        console.log(index , " index ");

        RMdatalink.app.getController('RetailerDeatilsDataSet').actionVisitCompanyProfile(index);

        //Ext.ComponentQuery.query('#CmpContactTab')[0].setActiveItem(1);
    },

    RDUserProfileEditBtnTap2: function(button, e, eOpts) {
        var haveToAdd = 0 ;

        var vendorREPsDetails = Ext.getStore('vendor.CompanyContactStore');

        switch(button.getText()){

            case "EDIT":

                Ext.ComponentQuery.query('#CmpContactProfileFileFieldForImage1')[0].setDisabled(false);
                var mangerForm = Ext.ComponentQuery.query('#CmpContactProfileForm')[0];
                mangerForm.setDisabled(false) ;
                Ext.ComponentQuery.query('#RDManagerRelationDetailsForm')[0].setDisabled(false);
                button.setText("DONE");

                break;

            case "DONE":
                if(!validateRepsProfile()){

                    Ext.Msg.alert('Error', 'Marked Fields Are Mandatory/Invalid', Ext.emptyFn);
                    return ;
                }
                else if(!RMdatalink.app.getController('RetailerDeatilsDataSet').validationForComContactInputFields())
                {
                    Ext.Msg.alert('Error', 'Invalid Inputs For Marked Fields.', Ext.emptyFn);
                    return ;
                }
             //   button.setText("EDIT");
                saveUserProfile();


                Ext.ComponentQuery.query('#CmpContactTab')[0].setActiveItem(0);


                var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                var sideContainer = container.parent.down('#RDSideContainer');
                var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                sideContainer.setHidden(true);
                storeSideContainer.setHidden(true);
                managerSideContainer.setHidden(true);
                crmNotesSideContainer.setHidden(true);
                userProfileSideContainer.setHidden(true);

                break;
        }

        function validateRepsProfile(){
            var validationResult = true ;

            RMdatalink.app.getController('RetailerDeatilsDataSet').removeErrorClsForContactCompany();

            var rfName = Ext.ComponentQuery.query('#CmpContactProfileFirstName')[0];
            var rlName = Ext.ComponentQuery.query('#CmpContactProfileLastName')[0];
            var remail = Ext.ComponentQuery.query('#CmpContactProfileEmail')[0];

            if( remail.length !== 0 && !Ext.data.Validations.email(remail, remail.getValue()))
            {
                remail.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                validationResult = false ;

            }

            if( rfName.getValue().length == 0 )
            {
                rfName.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                validationResult = false ;

            }

            if( rlName.getValue().length == 0 )
            {
                rlName.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                validationResult = false ;
            }


            return validationResult ;
        }


        function saveUserProfile(){

            var activeIndex = RMdatalink.app.getController('RetailerDeatilsDataSet').config.CmpContactactiveIndex ;

            var managerUSers ;

            if(vendorREPsDetails.getCount() === activeIndex)
            {
                haveToAdd = 1 ;
                managerUSers = {
                    companycontact_relationsheep_details :{

                    }
                };
            }
            else
            {
                haveToAdd = 0;
                console.log(vendorREPsDetails.getAt(activeIndex));
                managerUSers = vendorREPsDetails.getAt(activeIndex).data ;
            }

            fillUserRelationData(managerUSers);
            fillUserProfile(managerUSers);
            saveTipsSideCont(managerUSers);

            console.log("companyContacts  ",managerUSers);
            fillListAndStore(activeIndex , managerUSers );
        }

        function fillUserProfile(managerUSers){

            var profilePicView = Ext.ComponentQuery.query('#CmpContactProfileImage')[0];
            managerUSers.companycontact_image_url =  profilePicView.getSrc();
            managerUSers.companycontact_firstname =  Ext.ComponentQuery.query('#CmpContactProfileFirstName')[0].getValue();
            managerUSers.companycontact_lastname =  Ext.ComponentQuery.query('#CmpContactProfileLastName')[0].getValue();
            managerUSers.companycontact_email =  Ext.ComponentQuery.query('#CmpContactProfileEmail')[0].getValue();
            managerUSers.companycontact_phone =   Ext.ComponentQuery.query('#CmpContactProfilePhone')[0].getValue();
            managerUSers.companycontact_phone_ext =   Ext.ComponentQuery.query('#CmpContactProfileDirectExt')[0].getValue();
            managerUSers.companycontact_address = Ext.ComponentQuery.query('#CmpContactProfileAddress')[0].getValue();
            managerUSers.companycontact_address_suite = Ext.ComponentQuery.query('#CmpContactProfileSuite')[0].getValue();
            managerUSers.companycontact_zip = Ext.ComponentQuery.query('#CmpContactProfileZip')[0].getValue();

             managerUSers.companycontact_city = Ext.ComponentQuery.query('#CmpContactProfileCity')[0].getValue();

             managerUSers.companycontact_state = Ext.ComponentQuery.query('#CmpContactProfileState')[0].getValue();


            managerUSers.companycontact_position =  Ext.ComponentQuery.query('#CmpContactProfilePosition')[0].getValue();
            managerUSers.companycontact_cellphone =  Ext.ComponentQuery.query('#CmpContactProfileCellPhone')[0].getValue();
            managerUSers.companycontact_cellphone_ext =  Ext.ComponentQuery.query('#CmpContactProfileCellExt')[0].getValue();

            managerUSers.companycontact_linkedIn = Ext.ComponentQuery.query('#CmpContactProfileLinkedIn')[0].getValue();
            managerUSers.companycontact_facebook = Ext.ComponentQuery.query('#CmpContactProfileFacebook')[0].getValue();
            managerUSers.companycontact_twitter = Ext.ComponentQuery.query('#CmpContactProfileTwitter')[0].getValue();

        }

        /*
        fillRelData(){

            "manager_rd_aniversary": getDate('RDMRDAniversaryMonth','RDMRDAniversaryDay','RDMRDAniversaryYear'),
            "manager_rd_relatives": rdManagerDetailsTab.down('#RDMRDRelatives').getValue(),
            "manager_rd_dob": getDate('RDMRDDOBMonth','RDMRDDOBDay','RDMRDDOBYear'),
            "manager_rd_hobbies": rdManagerDetailsTab.down('#RDMRDHobbies').getValue(),
            "manager_rd_car_of_choice": rdManagerDetailsTab.down('#RDMRDCarOfChoice').getValue(),
            "manager_rd_alt_phone": rdManagerDetailsTab.down('#RDMRDAltPhone').getValue()?rdManagerDetailsTab.down('#RDMRDAltPhone').getValue():"",
            "manager_rd_alt_email": rdManagerDetailsTab.down('#RDMRDAltEmail').getValue(),
            "manager_rd_website": rdManagerDetailsTab.down('#RDMRDWebsite').getValue(),
            "manager_recent_activity": rdManagerTab.down('#RDManagerActivityList').getData(),
            "manager_rd_childs": [
                {
                    "child_name": rdManagerDetailsTab.down('#RDMRDChild1Name').getValue(),
                    "child_age": rdManagerDetailsTab.down('#RDMRDChild1Age').getValue()?rdManagerDetailsTab.down('#RDMRDChild1Age').getValue():""
                },
                {
                    "child_name": rdManagerDetailsTab.down('#RDMRDChild2Name').getValue(),
                    "child_age": rdManagerDetailsTab.down('#RDMRDChild2Age').getValue()?rdManagerDetailsTab.down('#RDMRDChild2Age').getValue():""
                },
                {
                    "child_name": rdManagerDetailsTab.down('#RDMRDChild3Name').getValue(),
                    "child_age": rdManagerDetailsTab.down('#RDMRDChild3Age').getValue()?rdManagerDetailsTab.down('#RDMRDChild3Age').getValue():""
                }
            ],
            "manager_rd_partner": [
                {
                    "partner_name": rdManagerDetailsTab.down('#RDMRDPartner1').getValue()
                },
                {
                    "partner_name": rdManagerDetailsTab.down('#RDMRDPartner2').getValue()
                }
            ],

        }

        */
        function fillUserRelationData(managerUSers){


            try{
                if(! managerUSers.companycontact_relationsheep_details){
                    managerUSers.companycontact_relationsheep_details = new Object();
                }

                managerUSers.companycontact_relationsheep_details.manager_rd_years_at_store = Ext.ComponentQuery.query('#RDMRDYrsAtStore')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_wife=    Ext.ComponentQuery.query('#RDMRDWife')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_relatives=    Ext.ComponentQuery.query('#RDMRDRelatives')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_hobbies  =  Ext.ComponentQuery.query('#RDMRDHobbies')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_car_of_choice=  Ext.ComponentQuery.query('#RDMRDCarOfChoice')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_alt_phone= Ext.ComponentQuery.query('#RDMRDAltPhone')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_alt_email=  Ext.ComponentQuery.query('#RDMRDAltEmail')[0].getValue();
                managerUSers.companycontact_relationsheep_details.manager_rd_website = Ext.ComponentQuery.query('#RDMRDWebsite')[0].getValue();


                managerUSers.companycontact_relationsheep_details.manager_rd_aniversary = Ext.ComponentQuery.query('#RDMRDAniversaryMonth')[0].getValue() ;// getDate('RDMRDAniversaryMonth','RDMRDAniversaryDay','RDMRDAniversaryYear');
                managerUSers.companycontact_relationsheep_details.manager_rd_dob = Ext.ComponentQuery.query('#RDMRDDOBMonth')[0].getValue();
                //***  CHILDS ****
                managerUSers.companycontact_relationsheep_details.manager_rd_childs =  new Array();
                var rd_childs = {
                    child_name : Ext.ComponentQuery.query('#RDMRDChild1Name')[0].getValue(),
                    child_age : Ext.ComponentQuery.query('#RDMRDChild1Age')[0].getValue()
                };

                managerUSers.companycontact_relationsheep_details.manager_rd_childs.push(rd_childs);

                rd_childs = {
                    child_name : Ext.ComponentQuery.query('#RDMRDChild2Name')[0].getValue(),
                    child_age : Ext.ComponentQuery.query('#RDMRDChild2Age')[0].getValue()
                };

                managerUSers.companycontact_relationsheep_details.manager_rd_childs.push(rd_childs);

                rd_childs = {
                    child_name : Ext.ComponentQuery.query('#RDMRDChild3Name')[0].getValue(),
                    child_age : Ext.ComponentQuery.query('#RDMRDChild3Age')[0].getValue()
                };

                managerUSers.companycontact_relationsheep_details.manager_rd_childs.push(rd_childs);

                //***  PARENTS ****
                managerUSers.companycontact_relationsheep_details.manager_rd_partner = new Array();
                var rd_partner= {
                    partner_name : Ext.ComponentQuery.query('#RDMRDPartner1')[0].getValue()
                };

                managerUSers.companycontact_relationsheep_details.manager_rd_partner.push(rd_partner);

                rd_partner= {
                    partner_name : Ext.ComponentQuery.query('#RDMRDPartner2')[0].getValue()
                };

                managerUSers.companycontact_relationsheep_details.manager_rd_partner.push(rd_partner);
            }
            catch(ex){
                console.error(ex);
            }
            //     managerUSers.companycontact_relationsheep_details.linkedin =   Ext.ComponentQuery.query('#CmpContactProfileLinkedIn')[0].getValue();
            //     managerUSers.companycontact_relationsheep_details.facebook =   Ext.ComponentQuery.query('#CmpContactProfileFacebook')[0].getValue();
            //     managerUSers.companycontact_relationsheep_details.twitte=   Ext.ComponentQuery.query('#CmpContactProfileTwitter')[0].getValue();

            // // delete managerUSers.tu_relationsheep_details ;
        }




        function fillListAndStore(index,managerUSers){

            if(haveToAdd)
            {
                vendorREPsDetails.add(managerUSers);
                vendorREPsDetails.sync();
            }
            else
            {
                //         console.log("UPDATE" , index , "  managerUSers " ,managerUSers);
                vendorREPsDetails.getAt(index).set(managerUSers);
                vendorREPsDetails.sync();
            }

            var managerUSersList =  RMdatalink.app.getController('inhouse.DetailScreenController').getArrayDataFromStore(vendorREPsDetails);
            var RepsMainListWithHeader = Ext.ComponentQuery.query('#CmpContactMainListWithHeader')[0];
            var RepsMainList = RepsMainListWithHeader.down('#mainList');
            RMdatalink.util.globalMethods.fillListDataByListObject(RepsMainList,managerUSersList);
            RepsMainList.refresh();

        }


        function getSpecificDataFromStore(storeName) {

            var data = new Array();
            data = Ext.getStore(storeName).getData().all;
            var dataToSet = new Array();
            for(var i=0;i<data.length;i++) {
                dataToSet.push(data[i].data);
            }
            return dataToSet;
        }

        function getDate(month,day,year) {
            return (Ext.ComponentQuery.query('#'+month)[0].getValue()+'/'+
                    Ext.ComponentQuery.query('#'+day)[0].getValue()?Ext.ComponentQuery.query('#'+day)[0].getValue():""+'/'+
                    Ext.ComponentQuery.query('#'+year)[0].getValue()?Ext.ComponentQuery.query('#'+year)[0].getValue():"");
        }


        function saveTipsSideCont(managerUSers){

            managerUSers.companycontact_dos_and_donts = getSpecificDataFromStore('notifications.managerTipsdodonts');
            managerUSers.companycontact_follow_ups = getSpecificDataFromStore('notifications.managerTipsfollowsup');

            managerUSers.companycontact_blue_notes = Ext.ComponentQuery.query('#RDManagerBlueStickyTextArea')[0].getValue();

        }





    },

    RDUserProfileEditBtnTap11: function(button, e, eOpts) {
               Ext.ComponentQuery.query('#CmpContactProfileEditBtn')[0].setText("EDIT");

                Ext.ComponentQuery.query('#CmpContactTab')[0].setActiveItem(0);
                var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                var sideContainer = container.parent.down('#RDSideContainer');
                var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                sideContainer.setHidden(true);
                storeSideContainer.setHidden(true);
                managerSideContainer.setHidden(true);
                crmNotesSideContainer.setHidden(true);
                userProfileSideContainer.setHidden(true);

         RMdatalink.app.getController('RetailerDeatilsDataSet').removeErrorClsForContactCompany();
    },

    onRDUsersTabActiveItemChange1: function(container, value, oldValue, eOpts) {

        var sideContainer = Ext.ComponentQuery.query('#RDSideContainer')[0];
        var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
        var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
        var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
        var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
        var blueBookSideContainer = sideContainer.down('#RDBlueBookContainer');


        // if(value.getItemId() === "RDUsersProfilePanel") {
        //     sideContainer.setHidden(false);
        //     storeSideContainer.setHidden(true);
        //     managerSideContainer.setHidden(false);
        //     crmNotesSideContainer.setHidden(true);
        //     userProfileSideContainer.setHidden(true);
        //     blueBookSideContainer.setHidden(true);
        // }
        // else if(value.getItemId() === "RepsMainListPanel") {
        //     sideContainer.setHidden(true);
        //     storeSideContainer.setHidden(true);
        //     managerSideContainer.setHidden(true);
        //     crmNotesSideContainer.setHidden(true);
        //     userProfileSideContainer.setHidden(true);
        //      blueBookSideContainer.setHidden(true);
        // }



    },

    onRDManagerStoreEditBtnTap2: function(button, e, eOpts) {
        var mangerForm = Ext.ComponentQuery.query('#RDManagerFormPanel')[0];
        mangerForm.setDisabled(false) ;
        Ext.ComponentQuery.query('#ActRDManagerRelationDetailsForm')[0].setDisabled(false);



        Ext.ComponentQuery.query('#RDManagerAddPhoto')[0].setDisabled(false);

    },

    onRDManagerStoreEditBtnTap: function(button, e, eOpts) {
            var mangerForm = Ext.ComponentQuery.query('#RDManagerFormPanel')[0];
            mangerForm.setDisabled(false) ;
            Ext.ComponentQuery.query('#RDManagerRelationDetailsForm')[0].setDisabled(false);
    },

    onREPSDelBtnTap: function(button, e, eOpts) {
        var list = Ext.ComponentQuery.query('#RepsMainListWithHeader')[0].down("#mainList");

        var store = list.getStore();
        var selectedRecords = list.getSelection();

        if(Ext.isEmpty(selectedRecords)) {
            Ext.Msg.alert('Warning', 'Please select a record to delete', Ext.emptyFn);
            return;
        }
        else
        {
            store.remove(selectedRecords);
            store.sync();
            list.refresh();
        }

        console.log(selectedRecords);
    },

    onREPSAddBtnTap: function(button, e, eOpts) {
        var list = Ext.ComponentQuery.query('#RepsMainListWithHeader')[0].down("#mainList");

        var index = Ext.getStore('vendor.REPsDetails').getCount();

        console.log(index , " index ");

        RMdatalink.app.getController('RetailerDeatilsDataSet').actionVisitProfile(index);

        //Ext.ComponentQuery.query('#RDUsersTab')[0].setActiveItem(1);
    },

    RDUserProfileEditBtnTap: function(button, e, eOpts) {
        var haveToAdd = 0 ;

        var vendorREPsDetails = Ext.getStore('vendor.REPsDetails');

        switch(button.getText()){

            case "EDIT":

                Ext.ComponentQuery.query('#RDUSerProfileFileFieldForImage1')[0].setDisabled(false);
                var mangerForm = Ext.ComponentQuery.query('#RDUserProfileForm')[0];
                mangerForm.setDisabled(false) ;
                Ext.ComponentQuery.query('#RDUserProfileRelationDetailsForm')[0].setDisabled(false);
                button.setText("DONE");

                break;

            case "DONE":
                if(!validateRepsProfile()){

                     Ext.Msg.alert('Error', 'Marked Fields Are Mandatory/Invalid.', Ext.emptyFn);
                      return ;
                }
                else if(!RMdatalink.app.getController('RetailerDeatilsDataSet').validationForRepsInputFields())
                {
                     Ext.Msg.alert('Error', 'Invalid Inputs For Marked Fields.', Ext.emptyFn);
                     return;
                }
                button.setText("EDIT");
                saveUserProfile();
                RMdatalink.app.getController('RetailerDeatilsDataSet').hideSideContainerForREPs();

                break;
        }

        function validateRepsProfile(){
            var validationResult = true ;

            RMdatalink.app.getController('RetailerDeatilsDataSet').removeErrorClsForReps();


            var rfName = Ext.ComponentQuery.query('#RDUserProfileFirstName')[0];
            var rlName = Ext.ComponentQuery.query('#RDUserProfileLastName')[0];
            var remail = Ext.ComponentQuery.query('#RDUserProfileEmail')[0];

            if( remail.length !== 0 && !Ext.data.Validations.email(remail, remail.getValue()))
            {
                 remail.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                 validationResult = false ;

            }

            if( rfName.getValue().length == 0 )
            {
                 rfName.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                 validationResult = false ;

            }

            if( rlName.getValue().length == 0 )
            {
                 rlName.replaceCls( 'x-rm-rdformpanel' , 'x-rm-rdformErrorPanel');
                 validationResult = false ;
            }


            return validationResult ;
        }


        function saveUserProfile(){

            var activeIndex = RMdatalink.app.getController('RetailerDeatilsDataSet').config.activeIndex ;

            var managerUSers ;

            if(vendorREPsDetails.getCount() === activeIndex)
            {
                haveToAdd = 1 ;
                managerUSers = {
                    tu_relationsheep_details :{

                    }
                };
            }
            else
            {
                haveToAdd = 0;
               console.log(vendorREPsDetails.getAt(activeIndex));
                managerUSers = vendorREPsDetails.getAt(activeIndex).data ;
            }

            fillUserRelationData(managerUSers);
            fillUserProfile(managerUSers);
            fillTipsDataUsers(managerUSers);
            console.log("managerUSers  ",managerUSers);
            fillListAndStore(activeIndex , managerUSers );
        }

        function fillUserProfile(managerUSers){

            var profilePicView = Ext.ComponentQuery.query('#RDUserProfileImage')[0];
            managerUSers.tu_image_url =  profilePicView.getSrc();
            managerUSers.tu_territory = Ext.ComponentQuery.query('#RDUserProfileTerritory')[0].getValue();
            managerUSers.tu_firstname =  Ext.ComponentQuery.query('#RDUserProfileFirstName')[0].getValue();
            managerUSers.tu_lastname =  Ext.ComponentQuery.query('#RDUserProfileLastName')[0].getValue();
            managerUSers.tu_email =  Ext.ComponentQuery.query('#RDUserProfileEmail')[0].getValue();
            managerUSers.tu_phone =   Ext.ComponentQuery.query('#RDUserProfilePhone')[0].getValue();
            managerUSers.tu_phone_ext =   Ext.ComponentQuery.query('#RDUserProfilePhoneExt')[0].getValue();
            managerUSers.tu_cellphone =   Ext.ComponentQuery.query('#RDUserProfileCellPhone')[0].getValue();
            managerUSers.tu_cellphone_ext =   Ext.ComponentQuery.query('#RDUserProfileCellPhoneExt')[0].getValue();
            managerUSers.tu_address = Ext.ComponentQuery.query('#RDTUserProfileAddress')[0].getValue();
            managerUSers.tu_address_suite = Ext.ComponentQuery.query('#RDTUserProfileSuite')[0].getValue();
            managerUSers.tu_zip = Ext.ComponentQuery.query('#RDUserProfileZip')[0].getValue();
            managerUSers.tu_facebook = Ext.ComponentQuery.query('#RDUserProfileFacebook')[0].getValue();
            managerUSers.tu_linkedIn = Ext.ComponentQuery.query('#RDUserProfileLinkedIn')[0].getValue();
            managerUSers.tu_facebook = Ext.ComponentQuery.query('#RDUserProfileFacebook')[0].getValue();
            managerUSers.tu_twitter = Ext.ComponentQuery.query('#RDUserProfileTwitter')[0].getValue();
            managerUSers.tu_city = Ext.ComponentQuery.query('#RDUserProfileCity')[0].getValue();
            managerUSers.tu_state = Ext.ComponentQuery.query('#RDUserProfileState')[0].getValue();

        }


        function fillUserRelationData(managerUSers){
            managerUSers.tu_relationsheep_details.rd_years_at_store = Ext.ComponentQuery.query('#RDUserProfileDYrsAtStore')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_wife=    Ext.ComponentQuery.query('#RDUserProfileWife')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_relatives=    Ext.ComponentQuery.query('#RDUserProfileRelatives')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_hobbies  =  Ext.ComponentQuery.query('#RDUserProfileHobbies')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_car_of_choice=  Ext.ComponentQuery.query('#RDUserProfileCarOfChoice')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_alt_phone= Ext.ComponentQuery.query('#RDUserProfileAltPhone')[0].getValue();
            managerUSers.tu_relationsheep_details.d_alt_email=  Ext.ComponentQuery.query('#RDUserProfileAltEmail')[0].getValue();
            managerUSers.tu_relationsheep_details.rd_website = Ext.ComponentQuery.query('#RDUserProfileWebsite')[0].getValue();

            //***  CHILDS ****
            managerUSers.tu_relationsheep_details.rd_childs =  new Array();
            var rd_childs = {
                child_name : Ext.ComponentQuery.query('#RDUserProfileChild1Name')[0].getValue(),
                child_age : Ext.ComponentQuery.query('#RDUserProfileChild1Age')[0].getValue()
            };

            managerUSers.tu_relationsheep_details.rd_childs.push(rd_childs);

            rd_childs = {
                child_name : Ext.ComponentQuery.query('#RDUserProfileChild2Name')[0].getValue(),
                child_age : Ext.ComponentQuery.query('#RDUserProfileChild2Age')[0].getValue()
            };

            managerUSers.tu_relationsheep_details.rd_childs.push(rd_childs);

            //***  PARENTS ****
            managerUSers.tu_relationsheep_details.rd_partner = new Array();
            var rd_partner= {
                partner_name : Ext.ComponentQuery.query('#RDUserProfilePartner1')[0].getValue()
            };

            managerUSers.tu_relationsheep_details.rd_partner.push(rd_partner);

            rd_partner= {
                partner_name : Ext.ComponentQuery.query('#RDUserProfilePartner2')[0].getValue()
            };

            managerUSers.tu_relationsheep_details.rd_partner.push(rd_partner);

            managerUSers.tu_relationsheep_details.linkedin =   Ext.ComponentQuery.query('#RDUserProfileLinkedIn')[0].getValue();
            managerUSers.tu_relationsheep_details.facebook =   Ext.ComponentQuery.query('#RDUserProfileFacebook')[0].getValue();
            managerUSers.tu_relationsheep_details.twitte=   Ext.ComponentQuery.query('#RDUserProfileTwitter')[0].getValue();


           managerUSers.tu_relationsheep_details.aniversary =  Ext.ComponentQuery.query('#RDMRDUserAniversaryMonth')[0].getValue();
           managerUSers.tu_relationsheep_details.dob =  Ext.ComponentQuery.query('#RDUserProfileDOBMonth')[0].getValue();

        // delete managerUSers.tu_relationsheep_details ;
        }



        function fillTipsDataUsers(managerUSers){

            managerUSers.tu_dos_and_donts = getSpecificDataFromStore('notifications.repsTipsdodonts');
            managerUSers.tu_follow_ups = getSpecificDataFromStore('notifications.repsTipsfollowsup');
            managerUSers.tu_blue_notes = Ext.ComponentQuery.query('#RDUserProfileBlueStickyTextArea')[0].getValue();

        //    delete managerUSers.tu_dos_and_donts;
        //     delete managerUSers.tu_follow_ups;
        //     delete managerUSers.tu_blue_notes;

            console.log(" ** ",Ext.ComponentQuery.query('#RDUserProfileBlueStickyTextArea')[0].getValue());
        }


        function fillListAndStore(index,managerUSers){

            if(haveToAdd)
            {
                vendorREPsDetails.add(managerUSers);
                vendorREPsDetails.sync();
            }
            else
            {
        //         console.log("UPDATE" , index , "  managerUSers " ,managerUSers);
                vendorREPsDetails.getAt(index).set(managerUSers);
                vendorREPsDetails.sync();
            }

            var managerUSersList =  RMdatalink.app.getController('inhouse.DetailScreenController').getArrayDataFromStore(vendorREPsDetails);
            var RepsMainListWithHeader = Ext.ComponentQuery.query('#RepsMainListWithHeader')[0];
            var RepsMainList = RepsMainListWithHeader.down('#mainList');
            RMdatalink.util.globalMethods.fillListDataByListObject(RepsMainList,managerUSersList);
            RepsMainList.refresh();

        }


        function getSpecificDataFromStore(storeName) {

            var data = new Array();
            data = Ext.getStore(storeName).getData().all;
            var dataToSet = new Array();
            for(var i=0;i<data.length;i++) {
                dataToSet.push(data[i].data);
            }
            return dataToSet;
        }
    },

    RDUserProfileEditBtnTap1: function(button, e, eOpts) {
        Ext.ComponentQuery.query('#RDUserProfileEditBtn')[0].setText("EDIT");

        RMdatalink.app.getController('RetailerDeatilsDataSet').hideSideContainerForREPs();

        // ********  REMOVE ERROR CLS *******

        RMdatalink.app.getController('RetailerDeatilsDataSet').removeErrorClsForReps();
    },

    onBlueBookDelBtnTap: function(button, e, eOpts) {

    },

    onBlueBookAddBtnTap: function(button, e, eOpts) {
        //  WRITE  HERE CODE  FOR SAVE NEW RECORD IN STORE AND RESET *** TOP *** FOR PANEL
    },

    onMybutton24Tap1: function(button, e, eOpts) {

        switch(button.getText()){

            case "EDIT":
                    var mangerForm = Ext.ComponentQuery.query('#RDUserProfileForm')[0];
                    mangerForm.setDisabled(false) ;
                    Ext.ComponentQuery.query('#RDUserProfileRelationDetailsForm')[0].setDisabled(false);
                    button.setText("DONE");
                break;

            case "DONE":

                    button.setText("EDIT");
                  saveUserProfile();
                    Ext.ComponentQuery.query('#RDUsersTab')[0].setActiveItem(0);
                    var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                    var sideContainer = container.parent.down('#RDSideContainer');
                    var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                    var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                    var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                    var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                    sideContainer.setHidden(true);
                    storeSideContainer.setHidden(true);
                    managerSideContainer.setHidden(true);
                    crmNotesSideContainer.setHidden(true);
                    userProfileSideContainer.setHidden(true);

                break;
        }


        function saveUserProfile(){


        function fillUserProfile(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;

            var managerUSers =userData.manager_teamusers[index] ;


            //var mangerForm = Ext.ComponentQuery.query('#RDUserProfileForm')[0];
         //   mangerForm.setDisabled(true) ;
          // Ext.ComponentQuery.query('#RDUserProfileRelationDetailsForm')[0].setDisabled(true);

           var profilePicView = Ext.ComponentQuery.query('#RDUserProfileImage')[0];

           managerUSers.tu_image_url =  profilePicView.getSrc();

          //  Ext.ComponentQuery.query('#RDUSerProfileFileFieldForImage')[0].setHidden(false);
           // Ext.ComponentQuery.query('#RDUserProfileStoreName')[0].setValue('');
           managerUSers.tu_firstname =  Ext.ComponentQuery.query('#RDUserProfileFirstName')[0].getValue();
           managerUSers.tu_lastname =  Ext.ComponentQuery.query('#RDUserProfileLastName')[0].getValue();
           managerUSers.tu_email =  Ext.ComponentQuery.query('#RDUserProfileEmail')[0].getValue();
          managerUSers.tu_phone =   Ext.ComponentQuery.query('#RDUserProfilePhone')[0].getValue();



         //   RMdatalink.util.globalMethods.fillListData('#RDUserProfileActivityList',managerUSers.tu_recent_activity);





        }



        function fillUserRelationData(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;
              var managerUSers =userData.manager_teamusers[index] ;

            managerUSers.tu_relationsheep_details.rd_years_at_store = Ext.ComponentQuery.query('#RDUserProfileDYrsAtStore')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_wife=    Ext.ComponentQuery.query('#RDUserProfileWife')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_relatives=    Ext.ComponentQuery.query('#RDUserProfileRelatives')[0].getValue();
          managerUSers.tu_relationsheep_details.rd_hobbies  =  Ext.ComponentQuery.query('#RDUserProfileHobbies')[0].getValue();
          managerUSers.tu_relationsheep_details.rd_car_of_choice=  Ext.ComponentQuery.query('#RDUserProfileCarOfChoice')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_alt_phone= Ext.ComponentQuery.query('#RDUserProfileAltPhone')[0].getValue();
          managerUSers.tu_relationsheep_details.d_alt_email=  Ext.ComponentQuery.query('#RDUserProfileAltEmail')[0].getValue();

          managerUSers.tu_relationsheep_details.rd_website = Ext.ComponentQuery.query('#RDUserProfileWebsite')[0].setValue();


            managerUSers.tu_relationsheep_details.rd_childs[0].child_name=Ext.ComponentQuery.query('#RDUserProfileChild1Name')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_childs[1].child_name= Ext.ComponentQuery.query('#RDUserProfileChild2Name')[0].getValue();
            //  Ext.ComponentQuery.query('#RDMRDChild3Name')[0].setValue();
           managerUSers.tu_relationsheep_details.rd_childs[0].child_age= Ext.ComponentQuery.query('#RDUserProfileChild1Age')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_childs[1].child_age= Ext.ComponentQuery.query('#RDUserProfileChild2Age')[0].getValue();
            // Ext.ComponentQuery.query('#RDMRDChild3Age')[0].setValue();

           managerUSers.tu_relationsheep_details.rd_partner[0].partner_name= Ext.ComponentQuery.query('#RDUserProfilePartner1')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_partner[1].partner_name =     Ext.ComponentQuery.query('#RDUserProfilePartner2')[0].getValue();

          managerUSers.tu_relationsheep_details.linkedin =   Ext.ComponentQuery.query('#RDUserProfileLinkedIn')[0].getValue();
          managerUSers.tu_relationsheep_details.facebook =   Ext.ComponentQuery.query('#RDUserProfileFacebook')[0].getValue();
          managerUSers.tu_relationsheep_details.twitte=   Ext.ComponentQuery.query('#RDUserProfileTwitter')[0].getValue();
        }




        var selectedUserRecord = RMdatalink.util.globalConfig.getDataToShowInSettingWindow() ;
            var activeIndex = RMdatalink.app.getController('RetailerDeatilsDataSet').config.activeIndex ;

            fillUserRelationData(selectedUserRecord,activeIndex);

            fillUserProfile(selectedUserRecord,activeIndex);

            fillManagerUsers(selectedUserRecord , activeIndex );

            RMdatalink.app.getController('RetailerDeatilsDataSet').config.TeamUsersProfile = selectedUserRecord.record.data.manager_teamusers ;

            function fillManagerUsers(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;


            var managerUSers =userData.manager_teamusers ;

             var i = index ;

                if(i < managerUSers.length) {

                    Ext.ComponentQuery.query('#RDUsersAddPhotoImage')[i].setSrc(managerUSers[i].tu_image_url).setHidden(false) ;
                    Ext.ComponentQuery.query('#RDUsersAddPhoto')[i].setHidden(true);
                    Ext.ComponentQuery.query('#RDUsersName')[i].setValue(managerUSers[i].tu_username );
                    Ext.ComponentQuery.query('#RDUsersFirstName')[i].setValue(managerUSers[i].tu_firstname);

                    Ext.ComponentQuery.query('#RDUsersLastName')[i].setValue(managerUSers[i].tu_lastname);
                    Ext.ComponentQuery.query('#RDUsersEmail')[i].setValue(managerUSers[i].tu_email);
                    Ext.ComponentQuery.query('#RDUsersPhone')[i].setValue(managerUSers[i].tu_phone);
                    Ext.ComponentQuery.query('#RDUsersComment')[i].setValue(managerUSers[i].tu_comments);
                }

                var list = Ext.ComponentQuery.query('#RDUsersRightsList')[i] ;
                var listStore = list.getStore();
                if(listStore){
                    listStore.removeAll();
                    listStore.sync();
                }
                if(i < managerUSers.length) {
                    list.setData(managerUSers[i].tu_access_rights);
                }
                else {
                    list.setData([
                        {
                            "right_name": "Access Data and Images",
                            "right_status": false
                        },
                        {
                            "right_name": "Rebranding",
                            "right_status": false
                        },
                        {
                            "right_name": "Repricing",
                            "right_status": false
                        },
                        {
                            "right_name": "Export",
                            "right_status": false
                        }
                    ]);
                }
                list.refresh();


        }
        }


    },

    onRDManagerStoreEditBtnTap11: function(button, e, eOpts) {

        switch(button.getText()){

            case "EDIT":
                    var mangerForm = Ext.ComponentQuery.query('#RDUserProfileForm')[0];
                    mangerForm.setDisabled(false) ;
                    Ext.ComponentQuery.query('#RDUserProfileRelationDetailsForm')[0].setDisabled(false);
                    button.setText("DONE");
                break;

            case "DONE":

                    button.setText("EDIT");
                  saveUserProfile();
                    Ext.ComponentQuery.query('#RDUsersTab')[0].setActiveItem(0);
                    var container = Ext.ComponentQuery.query('#retailerDetailsMainTabPanel')[0] ;
                    var sideContainer = container.parent.down('#RDSideContainer');
                    var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
                    var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
                    var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
                    var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
                    sideContainer.setHidden(true);
                    storeSideContainer.setHidden(true);
                    managerSideContainer.setHidden(true);
                    crmNotesSideContainer.setHidden(true);
                    userProfileSideContainer.setHidden(true);

                break;
        }


        function saveUserProfile(){


        function fillUserProfile(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;

            var managerUSers =userData.manager_teamusers[index] ;


            //var mangerForm = Ext.ComponentQuery.query('#RDUserProfileForm')[0];
         //   mangerForm.setDisabled(true) ;
          // Ext.ComponentQuery.query('#RDUserProfileRelationDetailsForm')[0].setDisabled(true);

           var profilePicView = Ext.ComponentQuery.query('#RDUserProfileImage')[0];

           managerUSers.tu_image_url =  profilePicView.getSrc();

          //  Ext.ComponentQuery.query('#RDUSerProfileFileFieldForImage')[0].setHidden(false);
           // Ext.ComponentQuery.query('#RDUserProfileStoreName')[0].setValue('');
           managerUSers.tu_firstname =  Ext.ComponentQuery.query('#RDUserProfileFirstName')[0].getValue();
           managerUSers.tu_lastname =  Ext.ComponentQuery.query('#RDUserProfileLastName')[0].getValue();
           managerUSers.tu_email =  Ext.ComponentQuery.query('#RDUserProfileEmail')[0].getValue();
          managerUSers.tu_phone =   Ext.ComponentQuery.query('#RDUserProfilePhone')[0].getValue();



         //   RMdatalink.util.globalMethods.fillListData('#RDUserProfileActivityList',managerUSers.tu_recent_activity);





        }



        function fillUserRelationData(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;
              var managerUSers =userData.manager_teamusers[index] ;

            managerUSers.tu_relationsheep_details.rd_years_at_store = Ext.ComponentQuery.query('#RDUserProfileDYrsAtStore')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_wife=    Ext.ComponentQuery.query('#RDUserProfileWife')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_relatives=    Ext.ComponentQuery.query('#RDUserProfileRelatives')[0].getValue();
          managerUSers.tu_relationsheep_details.rd_hobbies  =  Ext.ComponentQuery.query('#RDUserProfileHobbies')[0].getValue();
          managerUSers.tu_relationsheep_details.rd_car_of_choice=  Ext.ComponentQuery.query('#RDUserProfileCarOfChoice')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_alt_phone= Ext.ComponentQuery.query('#RDUserProfileAltPhone')[0].getValue();
          managerUSers.tu_relationsheep_details.d_alt_email=  Ext.ComponentQuery.query('#RDUserProfileAltEmail')[0].getValue();

          managerUSers.tu_relationsheep_details.rd_website = Ext.ComponentQuery.query('#RDUserProfileWebsite')[0].setValue();


            managerUSers.tu_relationsheep_details.rd_childs[0].child_name=Ext.ComponentQuery.query('#RDUserProfileChild1Name')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_childs[1].child_name= Ext.ComponentQuery.query('#RDUserProfileChild2Name')[0].getValue();
            //  Ext.ComponentQuery.query('#RDMRDChild3Name')[0].setValue();
           managerUSers.tu_relationsheep_details.rd_childs[0].child_age= Ext.ComponentQuery.query('#RDUserProfileChild1Age')[0].getValue();
           managerUSers.tu_relationsheep_details.rd_childs[1].child_age= Ext.ComponentQuery.query('#RDUserProfileChild2Age')[0].getValue();
            // Ext.ComponentQuery.query('#RDMRDChild3Age')[0].setValue();

           managerUSers.tu_relationsheep_details.rd_partner[0].partner_name= Ext.ComponentQuery.query('#RDUserProfilePartner1')[0].getValue();
        managerUSers.tu_relationsheep_details.rd_partner[1].partner_name =     Ext.ComponentQuery.query('#RDUserProfilePartner2')[0].getValue();

          managerUSers.tu_relationsheep_details.linkedin =   Ext.ComponentQuery.query('#RDUserProfileLinkedIn')[0].getValue();
          managerUSers.tu_relationsheep_details.facebook =   Ext.ComponentQuery.query('#RDUserProfileFacebook')[0].getValue();
          managerUSers.tu_relationsheep_details.twitte=   Ext.ComponentQuery.query('#RDUserProfileTwitter')[0].getValue();
        }




        var selectedUserRecord = RMdatalink.util.globalConfig.getDataToShowInSettingWindow() ;
            var activeIndex = RMdatalink.app.getController('RetailerDeatilsDataSet').config.activeIndex ;

            fillUserRelationData(selectedUserRecord,activeIndex);

            fillUserProfile(selectedUserRecord,activeIndex);

            fillManagerUsers(selectedUserRecord , activeIndex );

            RMdatalink.app.getController('RetailerDeatilsDataSet').config.TeamUsersProfile = selectedUserRecord.record.data.manager_teamusers ;

            function fillManagerUsers(selectedUserRecord,index){
            var userData = selectedUserRecord.record.data ;


            var managerUSers =userData.manager_teamusers ;

             var i = index ;

                if(i < managerUSers.length) {

                    Ext.ComponentQuery.query('#RDUsersAddPhotoImage')[i].setSrc(managerUSers[i].tu_image_url).setHidden(false) ;
                    Ext.ComponentQuery.query('#RDUsersAddPhoto')[i].setHidden(true);
                    Ext.ComponentQuery.query('#RDUsersName')[i].setValue(managerUSers[i].tu_username );
                    Ext.ComponentQuery.query('#RDUsersFirstName')[i].setValue(managerUSers[i].tu_firstname);

                    Ext.ComponentQuery.query('#RDUsersLastName')[i].setValue(managerUSers[i].tu_lastname);
                    Ext.ComponentQuery.query('#RDUsersEmail')[i].setValue(managerUSers[i].tu_email);
                    Ext.ComponentQuery.query('#RDUsersPhone')[i].setValue(managerUSers[i].tu_phone);
                    Ext.ComponentQuery.query('#RDUsersComment')[i].setValue(managerUSers[i].tu_comments);
                }

                var list = Ext.ComponentQuery.query('#RDUsersRightsList')[i] ;
                var listStore = list.getStore();
                if(listStore){
                    listStore.removeAll();
                    listStore.sync();
                }
                if(i < managerUSers.length) {
                    list.setData(managerUSers[i].tu_access_rights);
                }
                else {
                    list.setData([
                        {
                            "right_name": "Access Data and Images",
                            "right_status": false
                        },
                        {
                            "right_name": "Rebranding",
                            "right_status": false
                        },
                        {
                            "right_name": "Repricing",
                            "right_status": false
                        },
                        {
                            "right_name": "Export",
                            "right_status": false
                        }
                    ]);
                }
                list.refresh();


        }
        }


    },

    onRDNotesDelBtnTap1: function(button, e, eOpts) {

    },

    onRDNotepadAdminBtnTap1: function(button, e, eOpts) {
        if(button.selected) {
            button.selected = false;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-unselected'); // \'store_name\'
            button.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
        }
        else {
            button.selected = true;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-selected');
            button.setText('<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot1.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>');
        }

        var notePadMain = button.up('#RDNotesTab');
        var notesList = notePadMain.down("#mainList");
        var selectedNote = notesList.getSelection();

        if(!Ext.isEmpty(selectedNote)) {
            selectedNote[0].set('adminonly',button.selected);
        }
    },

    onRDNotepadAdminBtnTap11: function(button, e, eOpts) {
        if(button.selected) {
            button.selected = false;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-unselected'); // \'store_name\'
            button.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
        }
        else {
            button.selected = true;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-selected');
            button.setText('<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot1.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>');
        }

        var notePadMain = button.up('#RDNotesTab');
        var notesList = notePadMain.down("#mainList");
        var selectedNote = notesList.getSelection();

        if(!Ext.isEmpty(selectedNote)) {
            selectedNote[0].set('adminonly',button.selected);
        }
    },

    onNotesListDeselect: function(dataview, record, supressed, eOpts) {
        var notesTab = dataview.up("#RDNotesTab");
        var note = notesTab.down("#RDNotepadNote");
        var adminBtn = notesTab.down("#RDNotepadAdminBtn");
        var byLabel = notesTab.down("#RDNotesNameLabel");

        note.setValue('');
        byLabel.setHtml("by Me on "+Ext.Date.format(new Date(), 'Y/m/d'));
        adminBtn.selected = false;
        adminBtn.setCls('');
        adminBtn.addCls('x-rm-rdnotesadminbtn-unselected');
        adminBtn.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
    },

    onNotesListSelect: function(dataview, record, eOpts) {
        var notesTab = dataview.up("#RDNotesTab");
        var note = notesTab.down("#RDNotepadNote");
        var adminBtn = notesTab.down("#RDNotepadAdminBtn");
        var byLabel = notesTab.down("#RDNotesNameLabel");

        note.setValue(record.data.subject);
        byLabel.setHtml("by "+record.data.crmuser+" on "+record.data.date);
        if(record.data.adminonly) {
            adminBtn.selected = true;
            adminBtn.setCls('');
            adminBtn.addCls('x-rm-rdnotesadminbtn-selected');
            adminBtn.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot1.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
        }
        else {
            adminBtn.selected = false;
            adminBtn.setCls('');
            adminBtn.addCls('x-rm-rdnotesadminbtn-unselected');
            adminBtn.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
        }
    },

    onRDNotesDelBtnTap: function(button, e, eOpts) {
        var noteContainer  =  Ext.ComponentQuery.query('#listwithheader1')[0];
        var noteList  = noteContainer.down('#mainList');
        var selectedNoteList = noteList.getSelection();

        if(Ext.isEmpty(selectedNoteList)) {
            Ext.Msg.alert('Warning', 'Please select a note to Delete', Ext.emptyFn);
            return;
        }
        else
        {

            if(Ext.getCmp("alertPopUp"))
                Ext.getCmp("alertPopUp").destroy();

            var popup = Ext.widget('alertPopUp');
            popup.setItemId("alertForNotes");
            popup.down('#alertPopUpMsg').setHtml('Would you like to delete this note?');
            popup.showBy(button);
        }
    },

    onRDNotesAddBtnTap: function(button, e, eOpts) {
        var notePadMain = button.parent.parent;
        var notesList = notePadMain.down("#mainList");
        var notesStore = notesList.getStore();
        var selection = notesList.getSelection();
        var sticky = notePadMain.down("#RDNotepad");
        var textfield = sticky.down("#RDNotepadNote");
        var crmUser = RMdatalink.app.getController('LoginHandler').config.userDetails.userName ;

        if(sticky.down("#RDNotepadNote").getValue())
        {
            var noteText = {
                subject:sticky.down("#RDNotepadNote").getValue(),
                crmuser: crmUser ,
                date:new Date(),
                adminonly:sticky.down("#RDNotepadAdminBtn").selected
            };
            if(Ext.isEmpty(selection))
            {
                notesStore.add(noteText);
            }
            else
            {

                selection[0].set('subject',textfield.getValue());
                textfield.setValue('');
                notesList.deselectAll();

            }

            notesList.refresh();
            RMdatalink.app.getController('RetailerDeatilsDataSet').updateRTVDNotes() ;
           // Ext.Msg.alert('Alert', 'Notes List Updated', Ext.emptyFn);

            Ext.ComponentQuery.query('#RDNotepadNote')[0].setValue('');
        }
        else
            Ext.Msg.alert('Alert', 'Please enter valid Note.', Ext.emptyFn);
    },

    onRDNotepadAdminBtnTap: function(button, e, eOpts) {
        if(button.selected) {
            button.selected = false;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-unselected'); // \'store_name\'
            button.setText('<div  style=" line-height: 8px;background-size: 8px 8px; background-image: url(\'resources/images/retailerDetail/dot2.png\');background-repeat: no-repeat;/">&nbsp &nbsp <span> Admin Only </span></div>');
        }
        else {
            button.selected = true;
            button.setCls('');
            button.addCls('x-rm-rdnotesadminbtn-selected');
            button.setText('<div  style=" line-height: 8px; background-size: 8px 8px;background-image: url(\'resources/images/retailerDetail/dot1.png\');background-repeat: no-repeat;">&nbsp &nbsp <span>Admin Only</span> </div>');
        }

        var notePadMain = button.up('#RDNotesTab');
        var notesList = notePadMain.down("#mainList");
        var selectedNote = notesList.getSelection();

        if(!Ext.isEmpty(selectedNote)) {
            selectedNote[0].set('adminonly',button.selected);
        }
    },

    onEEmailIdChange: function(textfield, newValue, oldValue, eOpts) {
        console.log(arguments);
        //debugger;
    },

    onVipVendorListInECommItemTap: function(dataview, index, target, record, e, eOpts) {
        console.log("ITEM CLICKED");
        var vendor_id = record.data.vendor_name;

        var recordInMaster = findVendorBy_name(vendor_id);

        console.log(recordInMaster);
        var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorSelectFieldInEcomm")[0];

        vipVendorSelectFieldInEcomm.setValue(recordInMaster.data._id);
    },

    onVipVendorListInECommItemTap1: function(dataview, index, target, record, e, eOpts) {
        console.log("ITEM CLICKED");
        var module_name = record.data.module_name;

        var recordInMaster = findProgramBy_name(module_name);

        console.log(recordInMaster);

        if(recordInMaster  && recordInMaster.data && recordInMaster.data._id){

        var vipVendorSelectFieldInEcomm = Ext.ComponentQuery.query("#vipVendorFeatureSelectField")[0];

        vipVendorSelectFieldInEcomm.setValue(recordInMaster.data._id);
        }

    },

    onBackGround_Logo_ImageTap: function(image, e, eOpts) {
        var eLogo = Ext.ComponentQuery.query("#eLogo")[0];

    },

    onRDTabPanelActiveItemChange: function(container, value, oldValue, eOpts) {
        var sideContainer = container.parent.down('#RDSideContainer');
        var storeSideContainer = sideContainer.down('#RDStoreSideContainer');
        var managerSideContainer = sideContainer.down('#RDManagerSideContainer');
        var crmNotesSideContainer = sideContainer.down('#RDCRMNotesSideContainer');
        var userProfileSideContainer = sideContainer.down('#RDUserProfileSideContainer');
        var blueBookSideContainer = sideContainer.down('#RDBlueBookContainer');
        var mgrProfileSideContr = sideContainer.down('#ManagerProfileSideContainer') ;

        var selectedUserRecord = RMdatalink.util.globalConfig.getDataToShowInSettingWindow() ;


        if(value.title === "RETAILER") {
            sideContainer.setHidden(false);
            storeSideContainer.setHidden(false);
            managerSideContainer.setHidden(true);
            crmNotesSideContainer.setHidden(true);
            userProfileSideContainer.setHidden(true);
            blueBookSideContainer.setHidden(true);
            mgrProfileSideContr.setHidden(true);
        }
        else if(value.title === "COMPANY CONTACT") {



                    sideContainer.setHidden(true);
                storeSideContainer.setHidden(true);
                managerSideContainer.setHidden(true);
                crmNotesSideContainer.setHidden(true);
                userProfileSideContainer.setHidden(true);
                mgrProfileSideContr.setHidden(true);

           /* sideContainer.setHidden(false);
            storeSideContainer.setHidden(true);
            managerSideContainer.setHidden(false);
            crmNotesSideContainer.setHidden(true);
            userProfileSideContainer.setHidden(true);
            blueBookSideContainer.setHidden(true);

          */

        //     RMdatalink.app.getController('RetailerDeatilsDataSet').unfillTipsData();

        //     if( ( Object.keys(selectedUserRecord).length  )   ){
        //          RMdatalink.app.getController('RetailerDeatilsDataSet').fillTipsData(selectedUserRecord.record.data);

        //         managerSideContainer.down('#RDManagerFollowUpsLists').refresh();
        //          managerSideContainer.down('#RDManagerDosDontList').refresh();
        //         // managerSideContainer.down('#RDCRMNotesDosDontList').refresh();

        //     }

        }
        else if(value.title === "BLUEBOOK") {


            var RDBlueBookTab = Ext.ComponentQuery.query('#RDBlueBookTab')[0].getActiveItem();
            if(RDBlueBookTab.getItemId() == "blueBookPanel")
            {
            sideContainer.setHidden(false);
            blueBookSideContainer.setHidden(false);
            storeSideContainer.setHidden(true);
            managerSideContainer.setHidden(true);
            crmNotesSideContainer.setHidden(true);
            userProfileSideContainer.setHidden(true);
            }
            else{
                    sideContainer.setHidden(false);
                    storeSideContainer.setHidden(true);
                    managerSideContainer.setHidden(false);
                    crmNotesSideContainer.setHidden(true);
                    userProfileSideContainer.setHidden(true);
                    blueBookSideContainer.setHidden(true);

            }

            mgrProfileSideContr.setHidden(true);
        }
        else if(value.title === "REPS") {

            mgrProfileSideContr.setHidden(true);
             var RDUsersTab = Ext.ComponentQuery.query('#RDUsersTab')[0].getActiveItem();
            if(RDUsersTab.getItemId() == "RepsMainListPanel")
            {

            sideContainer.setHidden(true);
            storeSideContainer.setHidden(true);
            managerSideContainer.setHidden(true);
            crmNotesSideContainer.setHidden(true);
            userProfileSideContainer.setHidden(true);
            blueBookSideContainer.setHidden(true);
            }
            else{
                    sideContainer.setHidden(false);
                    storeSideContainer.setHidden(true);
                    managerSideContainer.setHidden(true);
                    crmNotesSideContainer.setHidden(true);
                    userProfileSideContainer.setHidden(false);
                    blueBookSideContainer.setHidden(true);

            }

        }
            else if(value.title === "TECH SUPPORT LOG" || value.title === "NOTES" ) {

            sideContainer.setHidden(false);
            storeSideContainer.setHidden(true);
            managerSideContainer.setHidden(true);
            crmNotesSideContainer.setHidden(false);
            userProfileSideContainer.setHidden(true);
            blueBookSideContainer.setHidden(true);
             mgrProfileSideContr.setHidden(true);


        //     RMdatalink.app.getController('RetailerDeatilsDataSet').unfillTipsData();
        //     if( ( Object.keys(selectedUserRecord).length  )   ){
        //          RMdatalink.app.getController('RetailerDeatilsDataSet').fillTipsData(selectedUserRecord.record.data);

        //         crmNotesSideContainer.down('#RDCRMNotesDosDontList').refresh();
        //          crmNotesSideContainer.down('#RDCRMNotesFollowUpsLists').refresh();
        //     }
        }
        else if( value.title == "ACT MGR") {

                sideContainer.setHidden(false);
            storeSideContainer.setHidden(true);
            managerSideContainer.setHidden(true);
            crmNotesSideContainer.setHidden(true);
            userProfileSideContainer.setHidden(true);
            blueBookSideContainer.setHidden(true);
             mgrProfileSideContr.setHidden(false);

        }


    },

    onRDInStoreVendorListItemTap: function(dataview, index, target, record, e, eOpts) {
        return;
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        //alert("INSTORE REMOVED");
        console.log(dataview.config.isUserEditionPermitted );
        try{
            // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
            //and resets WHEN USER TAPS ON CANCEL BUTTON
            if(dataview.config.isUserEditionPermitted || true){

            }else{
                return;
            }
        }catch(e)
        {

        }
        if(e.target.nodeName == "INPUT"){

            console.log("CLICK ON BUCKET TO REMOVE");
            return false;
        }
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {

                record.set('type',"ACTIVE");

            }

            else
            {

                record.set('type',"PROSPECT");

                RMdatalink.app.getController('VendorRetailerRelations').onRetailerUnSelect(record) ;
            }
            clearTimeout(timeout);
        },100);


        // }else{

        //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
        // }

    },

    onRDOnlineStoreVendorListItemTap: function(dataview, index, target, record, e, eOpts) {
        return;
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        //alert("INSTORE ADDED");
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        // if(e.target.className == "fireListSelect")
        // {

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {
                RMdatalink.app.getController('VendorRetailerRelations').onRetailerSelect(record,target) ;

             //   record.set('status',true);
            }
            else
            {

                // dataview.select(record) ;
               // record.set('status',false);
            }
            clearTimeout(timeout);
        },100);


        // }else{

        // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

        // }
    },

    onRDInStoreVendorListItemTapEcomm: function(dataview, index, target, record, e, eOpts) {
        return;
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        console.log(dataview.config.isUserEditionPermitted );
        //alert("ECOMMERCED REMOVED");
        //return;
        try{
            // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
            //and resets WHEN USER TAPS ON CANCEL BUTTON
            if(dataview.config.isUserEditionPermitted || true){

            }else{
                return;
            }
        }catch(e)
        {

        }
        if(e.target.nodeName == "INPUT"){

            console.log("CLICK ON BUCKET TO REMOVE");
            return false;
        }
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {

                record.set('type',"ACTIVE");

            }

            else
            {

                record.set('type',"PROSPECT");
        //onRetailerEcommerceSelect
                RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceUnSelect(record) ;
            }
            clearTimeout(timeout);
        },100);


        // }else{

        //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
        // }

    },

    onRDOnlineStoreVendorListItemTapEcomm: function(dataview, index, target, record, e, eOpts) {
        return;
        //LISTNER HAVE BEEN ADDDED TO CUSTOM FUNCTION CREATED VIZ ADD EVEVNTLISTNER
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        //alert("ECOMMERCED ADD");
        //return;
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        // if(e.target.className == "fireListSelect")
        // {

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {//onRetailerEcommerceSelect
                RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceSelect(record,target) ;

             //   record.set('status',true);
            }
            else
            {

                // dataview.select(record) ;
               // record.set('status',false);
            }
            clearTimeout(timeout);
        },100);


        // }else{

        // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

        // }
    },

    onRDInStoreVendorListItemTapEcomm: function(dataview, index, target, record, e, eOpts) {
        return;
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        console.log(dataview.config.isUserEditionPermitted );
        //alert("ECOMMERCED REMOVED");
        //return;
        try{
            // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
            //and resets WHEN USER TAPS ON CANCEL BUTTON
            if(dataview.config.isUserEditionPermitted || true){

            }else{
                return;
            }
        }catch(e)
        {

        }
        if(e.target.nodeName == "INPUT"){

            console.log("CLICK ON BUCKET TO REMOVE");
            return false;
        }
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {

                record.set('type',"ACTIVE");

            }

            else
            {

                record.set('type',"PROSPECT");
        //onRetailerEcommerceSelect
                RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceUnSelect(record) ;
            }
            clearTimeout(timeout);
        },100);


        // }else{

        //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
        // }

    },

    onRDOnlineStoreVendorListItemTapEcomm: function(dataview, index, target, record, e, eOpts) {
        return;
        //LISTNER HAVE BEEN ADDDED TO CUSTOM FUNCTION CREATED VIZ ADD EVEVNTLISTNER
        DOMTokenList.prototype.indexOf = DOMTokenList.prototype.indexOf || function(value){

            var valueToReturn = -1;
            for(var i=0;i<this.length;i++){
                if(this[i] == value){
                    return i;
                }
            }
            return valueToReturn ;

        };
        //alert("ECOMMERCED ADD");
        //return;
        if(e.target.classList.indexOf('fireListSelect')  >=0){

            console.log("BUCKET CLICKED");
        }else{

            console.log("CLICK ON BUCKET TO REMOVE");
            return;
        }

        // if(e.target.className == "fireListSelect")
        // {

        var timeout = setTimeout(function(){

            if(dataview.isSelected(record))
            {//onRetailerEcommerceSelect
                RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceSelect(record,target) ;

             //   record.set('status',true);
            }
            else
            {

                // dataview.select(record) ;
               // record.set('status',false);
            }
            clearTimeout(timeout);
        },100);


        // }else{

        // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

        // }
    },

    onRDNotesAddBtnTap11: function(button, e, eOpts) {
        var containerPanel = Ext.ComponentQuery.query('#locationAddNewContainerItemID')[0];
        //console.log(containerPanel.getInnerItems().length);
        var newChildpanel = Ext.ComponentQuery.query('#newLacationPanelItemID')[0];

        var newChildpanel = new Ext.Panel( {
                        height: '270px',
                        margin: '0 0 10px 0',
        //                 width: '90%',
                        items: [
                            {
                                xtype: 'label',
                                html: 'ENTER NAME OF SPECIFIC LACATION',
                                cls: 'labelCssForNewLocationTab',
                                margin: '0 0 10px 28px'
                            },
                            {
                                xtype: 'formpanel',
                                action: 'setScrollBarVisible',
                                cls: 'x-rm-rdformpanel',
                                height: 200,
                                itemId: 'locationFormPanel',
                                width: '100%',
                                layout: {
                                    align: 'center',
                                    type: 'vbox'
                                },
                                scrollable: true,
                                items: [
                                    {
                                        xtype: 'textfield',
                                        itemId: 'locationAddress',
                                        label: 'Address',
                                        labelWidth: '110px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        action: 'clearIconTap',
                                        itemId: 'locationSuite',
                                        label: 'Suite #',
                                        labelWidth: '110px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        itemId: 'locationCity',
                                        label: 'City',
                                        labelWidth: '110px'
                                    },
                                    {
                                        xtype: 'fieldset',
                                        layout: {
                                            align: 'center',
                                            type: 'hbox'
                                        },
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                itemId: 'locationState',
                                                width: '60%',
                                                label: 'State',
                                                labelWidth: '110px',
                                                maxLength: 5
                                            },
                                            {
                                                xtype: 'textfield',
                                                action: 'clearIconTap',
                                                actionChange: 'textChange',
                                                itemId: 'locationZip',
                                                width: '40%',
                                                label: 'Zip',
                                                labelWidth: '50px',
                                                maxLength: 5
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'textfield',
                                        action: 'clearIconTap',
                                        actionChange: 'textChange',
                                        itemId: 'locationStorePhone',
                                        label: 'Store Phone',
                                        labelWidth: '110px',
                                        maxLength: 16
                                    }
                                ]
                            },
                            {
                                xtype: 'label',
                                html: 'Delete Location',
                                margin: '0 45%',
                                width: '90%',
                                cls: 'labelCssForNewLocationTab pointerCursor'
                            },
                            {
                                xtype: 'image',
                                height: 25,
                                margin: '5 50%',
                                width: 31,
                                src:'resources/images/retailerDetail/location_separator.png'
                            }
                        ]
                    });


        containerPanel.add(newChildpanel);


    },

    onRDStoreSideTabPanelActiveItemChange1: function(container, value, oldValue, eOpts) {
        // var vendorList = value.down('#mainList');
        // var vendorStore = vendorList.getStore();


        // vendorList.deselectAll();

        // for(var i=0;i<vendorList.getViewItems().length;i++) {
        //     if(vendorStore.getAt(i).data.status) {
        //         vendorList.select(i,true,true);
        //     }
        // }

    },

    onRDManagerBlueStickyTextAreaBlur: function(textfield, e, eOpts) {
        Ext.ComponentQuery.query('#RDManagerBlueStickyTextArea')[0].setValue(textfield.getValue());
    },

    onRDCRMNotesBlueStickyTextAreaBlur: function(textfield, e, eOpts) {
        Ext.ComponentQuery.query('#RDCRMNotesBlueStickyTextArea')[0].setValue(textfield.getValue());
    },

    onRDCRMNotesPhotosViewItemTap: function(dataview, index, target, record, e, eOpts) {
        if(record.data.image) {

        }

        var popup = Ext.create('Ext.Sheet',{
                cls: 'x-rm-fbstylephotos',
                height: '100%',
                hideAnimation: false,
                id: 'fbstylephotos',
                showAnimation: 'pop',
                width: '100%',
                scrollable: false,
                items: [
                    {
                        xtype: 'container',
                        width: '100%',
                        height: '100%',
                        layout: {
                            type: 'fit'
                        },
                        items: [
                            {
                                xtype: 'image',
                                height: "100%",
                                width: "100%",
                                src: record.data.image
                            }
                        ]
                    }
                ]
            }
        );
        popup.element.on({
              tap: function(){
                  this.destroy();
              },
              scope:popup
        });
        Ext.Viewport.add(popup);
        popup.show();
    },

    onRDCRMNotesPhotosDeleteBtnTap: function(button, e, eOpts) {
        var photoList  =  Ext.ComponentQuery.query('#RDCRMNotesPhotosView')[0];
        var selectedPhotos = photoList.getSelection();

        if(Ext.isEmpty(selectedPhotos)) {
            Ext.Msg.alert('Warning', 'Please select a photo to Delete', Ext.emptyFn);
            return;
        }
        else
        {
            if(Ext.getCmp("alertPopUp"))
                Ext.getCmp("alertPopUp").destroy();

            var popup = Ext.widget('alertPopUp');
            popup.down('#alertPopUpMsg').setHtml('Would you like to delete this photo?');
            popup.showBy(button);
        }
    },

    onRDCRMNotesPhotosAddBtnTap: function(button, e, eOpts) {
        var fileSelect = document.createElement("input");
        fileSelect.type = "file";
        fileSelect.accept = "image/*";
        fileSelect.onchange = function() {

            var file = this.files[0];
            var imageType = /image.*/;
            if (!file.type.match(imageType)) {
              return;
            }
            var photoList = button.parent.parent.down('#RDCRMNotesPhotosView');
            var photoStore = photoList.getStore();

            var reader = new FileReader();
            reader.onload = function(event) {
                var dataUri = event.target.result;
                photoStore.add({
                    imagename:file.name,
                    image:dataUri
                });
            };
            reader.onerror = function(event) {
                console.error("File could not be read! Code " + event.target.error.code);
            };
            reader.readAsDataURL(file);

            photoList.refresh();
            this.remove();
            fileSelect = null;
        };
        fileSelect.click();


    },

    onRDCRMNotesAttDeleteBtnTap: function(button, e, eOpts) {
        var attList  =  Ext.ComponentQuery.query('#RDCRMNotesAttList')[0];
        var selectedAttList = attList.getSelection();

        if(Ext.isEmpty(selectedAttList)) {
            Ext.Msg.alert('Warning', 'Please select a attachment to Delete', Ext.emptyFn);
            return;
        }
        else
        {
            if(Ext.getCmp("alertPopUp"))
                Ext.getCmp("alertPopUp").destroy();

            var popup = Ext.widget('alertPopUp');
            popup.down('#alertPopUpMsg').setHtml('Would you like to delete this file?');
            popup.showBy(button);
        }







    },

    onRDCRMNotesAttAddBtnTap: function(button, e, eOpts) {
        var fileSelect = document.createElement("input");
        fileSelect.type = "file";
        fileSelect.onchange = function() {

            var file = this.files[0];
            var attList = button.parent.parent.down('#RDCRMNotesAttList');
            var attStore = attList.getStore();
            var objectURL = window.URL.createObjectURL(file);
            attStore.add({
               filename: file.name,
               file:objectURL,
               date:"3/07/2014"
            });
            var timeout = setTimeout(function(){
                window.URL.revokeObjectURL(objectURL);
                clearTimeout(timeout);
            },2000);
            attList.refresh();
            fileSelect = null;
        };
        fileSelect.click();



    },

    onRDManagerBlueStickyTextAreaBlur1: function(textfield, e, eOpts) {
        Ext.ComponentQuery.query('#RDUserProfileBlueStickyTextArea')[0].setValue(textfield.getValue());
    },

    onRDManagerBlueStickyTextAreaBlur2: function(textfield, e, eOpts) {
        Ext.ComponentQuery.query('#ActRDManagerBlueStickyTextArea')[0].setValue(textfield.getValue());
    },

    onContainerInitialize: function(component, eOpts) {
        component.down('#detailsSaveBtn').element.on("tap",function(){


             RMdatalink.app.getController('RetailerDeatilsDataSet').saveRetailersDetailedView();
             RMdatalink.app.getController('VendorRetailerRelations').saveAccountNoOfRetailerData();
            return;
        });

        component.down('#detailsSaveBtn').setHidden(true);
        component.down('#detailsCancelBtn').setHidden(true);
        component.down('#detailsEditCancelBtn').setHidden(false);


        var rtEditCancelBtn = component.down('#detailsEditCancelBtn') ;
        rtEditCancelBtn.element.on("tap",function(){

            RMdatalink.app.getController('RetailerDeatilsDataSet').onCancelEditBtnTap(rtEditCancelBtn,component);


        });

        rtEditCancelBtn.setText("Edit");


        this.createEventListner();

    },

    onRDretailers_vendorsDetailViewContainerPainted: function(element, eOpts) {
         Ext.Viewport.setMasked(false);

        Ext.ComponentQuery.query('#RDStoreTabEditBtnItemID')[0].setHidden(true);
    },

    createEventListner: function() {

        var prospectListDatalink  = Ext.ComponentQuery.query('#RDStoreSideTabPanel #RDOnlineVendorsTab')[0].down("#mainList");
        var activeListDatalink =  Ext.ComponentQuery.query('#RDStoreSideTabPanel #RDInStoreVendorList')[0].down("#mainList");


        var prospectListEcommerce  = Ext.ComponentQuery.query('#RDForECommerce #RDOnlineVendorsTab')[0].down("#mainList");
        var activeListEcommerce =  Ext.ComponentQuery.query('#RDForECommerce #RDInStoreVendorList')[0].down("#mainList");


        var prospectListVIP  = Ext.ComponentQuery.query('#RDForVIP #RDOnlineVendorsTab')[0].down("#mainList");
        var activeListVIP =  Ext.ComponentQuery.query('#RDForVIP #RDInStoreVendorList')[0].down("#mainList");




        prospectListDatalink.addListener('itemtap' , onRDOnlineStoreVendorListItemTap,this);
        activeListDatalink.addListener('itemtap' ,   onRDInStoreVendorListItemTap,this);

        prospectListEcommerce.addListener('itemtap' ,onRDOnlineStoreVendorListItemTapEcomm,this);
        activeListEcommerce.addListener('itemtap' ,  onRDInStoreVendorListItemTapEcomm,this);

        prospectListVIP.addListener('itemtap' ,onRDOnlineStoreVendorListItemTapVIP,this);
        activeListVIP.addListener('itemtap' ,  onRDInStoreVendorListItemTapVIP,this);




        function onRDInStoreVendorListItemTapVIP(dataview,index,target,record,e,eOpts){
        //     alert("INSTORE REMOVED");

            console.log(dataview.config.isUserEditionPermitted );
            try{
                // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
                //and resets WHEN USER TAPS ON CANCEL BUTTON
                if(dataview.config.isUserEditionPermitted || true){

                }else{
                    return;
                }
            }catch(e)
            {

            }
            if(e.target.nodeName == "INPUT"){

                console.log("CLICK ON BUCKET TO REMOVE");
                return false;
            }
            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {

                    record.set('type',"ACTIVE");

                }

                else
                {

                    record.set('type',"PROSPECT");

                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerVipUnselect(record) ;
                }
                clearTimeout(timeout);
            },100);


            // }else{

            //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
            // }

        }


        function onRDOnlineStoreVendorListItemTapVIP(dataview,index,target,record,e,eOpts){


            console.log("VIP ONLINE STORE CLCEKD");
            //return;
            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            // if(e.target.className == "fireListSelect")
            // {

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {
                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerVipSelect(record,target) ;

                    //   record.set('status',true);
                }
                else
                {

                    // dataview.select(record) ;
                    // record.set('status',false);
                }
                clearTimeout(timeout);
            },100);


            // }else{

            // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

            // }
        }










































        function onRDInStoreVendorListItemTap(dataview,index,target,record,e,eOpts){
        //     alert("INSTORE REMOVED");
        //     return;
            console.log(dataview.config.isUserEditionPermitted );
            try{
                // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
                //and resets WHEN USER TAPS ON CANCEL BUTTON
                if(dataview.config.isUserEditionPermitted || true){

                }else{
                    return;
                }
            }catch(e)
            {

            }
            if(e.target.nodeName == "INPUT"){

                console.log("CLICK ON BUCKET TO REMOVE");
                return false;
            }
            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {

                    record.set('type',"ACTIVE");

                }

                else
                {

                    record.set('type',"PROSPECT");

                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerUnSelect(record) ;
                }
                clearTimeout(timeout);
            },100);


            // }else{

            //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
            // }

        }


        function onRDOnlineStoreVendorListItemTap(dataview,index,target,record,e,eOpts){
            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            // if(e.target.className == "fireListSelect")
            // {

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {
                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerSelect(record,target) ;

                    //   record.set('status',true);
                }
                else
                {

                    // dataview.select(record) ;
                    // record.set('status',false);
                }
                clearTimeout(timeout);
            },100);


            // }else{

            // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

            // }
        }


        function onRDInStoreVendorListItemTapEcomm(dataview,index,target,record,e,eOpts){

            try{
                // dataview.config.isUserEditionPermitted  THIS PROERTY IS SET WHEN USER TAPS ON EDIT BUTTON ,
                //and resets WHEN USER TAPS ON CANCEL BUTTON
                if(dataview.config.isUserEditionPermitted || true){

                }else{
                    return;
                }
            }catch(e)
            {

            }
            if(e.target.nodeName == "INPUT"){

                console.log("CLICK ON BUCKET TO REMOVE");
                return false;
            }
            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {

                    record.set('type',"ACTIVE");

                }

                else
                {

                    record.set('type',"PROSPECT");
                    //onRetailerEcommerceSelect
                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceUnSelect(record) ;
                }
                clearTimeout(timeout);
            },100);


            // }else{

            //     RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);
            // }


        }

        function onRDOnlineStoreVendorListItemTapEcomm(dataview,index,target,record,e,eOpts){

            if(e.target.classList.indexOf('fireListSelect')  >=0){

                console.log("BUCKET CLICKED");
            }else{

                console.log("CLICK ON BUCKET TO REMOVE");
                return;
            }

            // if(e.target.className == "fireListSelect")
            // {

            var timeout = setTimeout(function(){

                if(dataview.isSelected(record))
                {//onRetailerEcommerceSelect
                    RMdatalink.app.getController('VendorRetailerRelations').onRetailerEcommerceSelect(record,target) ;

                    //   record.set('status',true);
                }
                else
                {

                    // dataview.select(record) ;
                    // record.set('status',false);
                }
                clearTimeout(timeout);
            },100);


            // }else{

            // RMdatalink.app.getController('VendorRetailerRelations').goToVendor_RetailerDetail(record,index);

            // }

        }
    }

});