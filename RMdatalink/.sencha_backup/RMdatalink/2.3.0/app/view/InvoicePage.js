/*
 * File: app/view/InvoicePage.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('RMdatalink.view.InvoicePage', {
    extend: 'Ext.Sheet',
    alias: 'widget.InvoicePage',

    requires: [
        'RMdatalink.view.listWithHeader',
        'RMdatalink.view.listWithHeaderForRtProductBullig',
        'Ext.form.FieldSet',
        'Ext.Button',
        'Ext.form.Panel',
        'Ext.Label',
        'Ext.Img',
        'Ext.field.TextArea'
    ],

    config: {
        action: 'setScrollBarVisible',
        cls: 'x-rm-filterdd',
        height: '92%',
        itemId: 'InvoicePage',
        width: 720,
        scrollable: true,
        layout: {
            type: 'vbox',
            align: 'center'
        },
        items: [
            {
                xtype: 'fieldset',
                docked: 'top',
                margin: '0 0 0 0',
                width: '100%',
                items: [
                    {
                        xtype: 'button',
                        handler: function(button, e) {
                            var _this =this ;

                            var invoice = window.open("invoice.html", "invoice", "width = 595, height= 842 ");
                            invoice.focus();

                            Ext.Function.defer(addInvoiceToHtmlPage, 1000, _this);

                            Ext.ComponentQuery.query('#InvoicePage')[0].hide();




                            function addInvoiceToHtmlPage(){

                                invoice.window.document.body.appendChild( Ext.DomQuery.selectNode('#invoiceToPrint'));

                                var divs = invoice.window.document.getElementsByClassName("x-scroll-container x-size-monitored x-paint-monitored") ;
                                for(var i=0; i < divs.length ; i++){
                                    divs[i].style.overflow = "hidden";
                                }
                                Ext.Function.defer(printInvoicePdf, 100, _this);

                            }





                            function printInvoicePdf(){

                                invoice.print();
                            }

                            //Ext.ComponentQuery.query('#InvoicePage')[0].destroy() ;

                        },
                        cls: 'x-rm-blueBtn',
                        docked: 'right',
                        margin: '0 0 0 10',
                        width: '100px',
                        text: 'Print'
                    },
                    {
                        xtype: 'button',
                        handler: function(button, e) {



                            Ext.ComponentQuery.query('#InvoicePage')[0].hide();

                            Ext.ComponentQuery.query('#InvoicePage')[0].destroy() ;
                        },
                        cls: [
                            ' x-rm-detailsSaveBtn',
                            'x-rm-detailsInnerBtns'
                        ],
                        docked: 'right',
                        height: '20px',
                        width: '100px',
                        text: 'Cancel'
                    }
                ]
            },
            {
                xtype: 'formpanel',
                cls: 'x-rm-rdformpanel borderedDiv',
                height: 840,
                id: 'invoiceToPrint',
                itemId: 'invoiceToPrint',
                margin: '0 20 0 20',
                padding: '5 10 5 10',
                width: 670,
                layout: 'vbox',
                scrollable: false,
                items: [
                    {
                        xtype: 'fieldset',
                        cls: 'x-rm-no_borderflds',
                        width: '100%',
                        layout: {
                            type: 'hbox',
                            align: 'start'
                        },
                        items: [
                            {
                                xtype: 'fieldset',
                                flex: 1,
                                baseCls: 'x-form-fieldset normalTitle',
                                margin: '1 0 1 0',
                                width: '100%',
                                items: [
                                    {
                                        xtype: 'label',
                                        cls: 'txtColorBlue',
                                        html: 'Innovations International',
                                        style: 'font-weight: bold;font-size:1.2em;'
                                    },
                                    {
                                        xtype: 'label',
                                        cls: 'txtColorBlue',
                                        html: '11300 Decimal Drive, Suite C',
                                        style: 'font-size:1.0em;'
                                    },
                                    {
                                        xtype: 'label',
                                        cls: 'txtColorBlue',
                                        html: 'Louisville, KY 40299',
                                        style: 'font-size:1.0em;'
                                    },
                                    {
                                        xtype: 'label',
                                        cls: 'txtColorBlue',
                                        html: 'Phone:	(502) 267-7255 Fax:	(502) 267-8767',
                                        style: 'font-size:1.0em;'
                                    }
                                ]
                            },
                            {
                                xtype: 'image',
                                height: '56px',
                                margin: '10 6 10 0',
                                style: 'background-size: contain;background-position-x: right;',
                                width: 301,
                                src: 'resources/images/invoice/innovation.png'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        width: '100%',
                        layout: 'hbox',
                        items: [
                            {
                                xtype: 'image',
                                height: '76px',
                                hidden: true,
                                margin: ' 5 5 0 5',
                                width: 36,
                                src: 'resources/images/invoice/address.png'
                            },
                            {
                                xtype: 'fieldset',
                                flex: 1,
                                baseCls: 'x-form-fieldset normalTitle',
                                margin: '1 0 1 0',
                                width: '100%',
                                title: '<div style="font-size:1.2em; color: red;">Bill To</div>',
                                items: [
                                    {
                                        xtype: 'label',
                                        cls: 'txtColorBlue',
                                        itemId: 'printInvoiceToNameLbl',
                                        style: 'font-weight: bold;font-size:1.2em;'
                                    },
                                    {
                                        xtype: 'label',
                                        itemId: 'printInvoiceToAddr1Lbl',
                                        style: 'font-size:1.0em;'
                                    },
                                    {
                                        xtype: 'label',
                                        itemId: 'printInvoiceToCityStZipLbl',
                                        style: 'font-size:1.0em;'
                                    },
                                    {
                                        xtype: 'label',
                                        hidden: true,
                                        itemId: 'printInvoiceToPhoneLbl',
                                        style: 'font-size:1.2em;'
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                layout: {
                                    type: 'vbox',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'image',
                                        centered: false,
                                        height: '70px',
                                        itemId: 'printInvoicePaidStampImg',
                                        width: '110px',
                                        src: 'resources/images/invoice/paid.png'
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                baseCls: 'x-form-fieldset normalTitle',
                                cls: 'x-rm-no_borderflds',
                                margin: '1 0 1 0',
                                padding: '0 0 0 32',
                                width: '192px',
                                title: '<div style="margin-left: 16%; font-size:1.8em;color:rgb(48, 84, 150);font-weight: bold;">INVOICE</div>',
                                items: [
                                    {
                                        xtype: 'label',
                                        html: 'Invoice #:',
                                        itemId: 'printInvoiceNoLbl',
                                        style: 'font-size:1.0em;font-weight:bold;'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Date:',
                                        itemId: 'printITopDateNoLbl',
                                        style: 'font-size:1.0em;font-weight:bold;'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Due Date:',
                                        itemId: 'printIDueDateNoLbl',
                                        style: 'font-size:1.0em;font-weight:bold;'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        itemId: 'printinvoiceIdTxtfld',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                        label: '<b>Invoice</b>',
                                        labelWidth: '74px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        itemId: 'printinvoiceNofld',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                        label: '<b>Invoice#:</b>',
                                        labelWidth: '80px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        disabledCls: 'disabledClsFldAsLbl',
                                        hidden: true,
                                        itemId: 'printinvoiceTopDateFld',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                        label: '<b>Date:</b>',
                                        labelWidth: '80px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        itemId: 'printinvoiceDueDateFld',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                        label: '<b>Due Date:</b>',
                                        labelWidth: '80px'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        cls: 'x-rm-no_borderflds',
                        hidden: true,
                        width: '100%',
                        layout: 'hbox',
                        items: [
                            {
                                xtype: 'image',
                                height: '32px',
                                width: 36,
                                src: 'resources/images/invoice/calender.png'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        cls: 'x-rm-no_borderflds',
                        margin: '1 0 1 0',
                        padding: '0 10 0 5',
                        width: '100%',
                        layout: 'hbox',
                        title: '<div style=" color: #2EC1DA;"></div>',
                        items: [
                            {
                                xtype: 'label',
                                hidden: true,
                                html: '<center style="margin-top: 18px;color:white;font-size:bold;">$$</center>',
                                margin: '0 8 0 0',
                                style: 'background-color:rgb(27, 180, 222);',
                                width: '30px'
                            },
                            {
                                xtype: 'fieldset',
                                margin: '5 0 0 0',
                                layout: 'hbox',
                                items: [
                                    {
                                        xtype: 'label',
                                        hidden: true,
                                        html: 'RM-PRO',
                                        itemId: 'printInvoiceProductLbl'
                                    },
                                    {
                                        xtype: 'label',
                                        hidden: true,
                                        html: 'Member package + 3 Add ons',
                                        itemId: 'printInvoiceProductModulesLbl'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Subscription License for &nbsp;',
                                        itemId: 'printInvoiceProductDurationLbl1',
                                        style: 'font-weight: bold;font-size:0.74em;'
                                    },
                                    {
                                        xtype: 'label',
                                        html: '1 Month(s)',
                                        itemId: 'printInvoiceProductDurationLbl',
                                        style: 'font-weight: bold;font-size:0.74em;'
                                    }
                                ]
                            },
                            {
                                xtype: 'textfield',
                                disabled: true,
                                itemId: 'printInvoiceFromLbl',
                                style: 'font-weight: bold;',
                                width: '132px',
                                inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                label: '<div style="font-weight: bold;margin-top: 1px;">From:</div>',
                                labelWidth: '44px'
                            },
                            {
                                xtype: 'textfield',
                                disabled: true,
                                itemId: 'printInvoiceToLbl',
                                style: 'font-weight: bold;',
                                width: '132px',
                                inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                label: '<div style="font-weight: bold;margin-top: 1px;">To:</div>',
                                labelWidth: '32px'
                            },
                            {
                                xtype: 'fieldset',
                                hidden: true,
                                html: '<center>509$</center>',
                                itemId: 'printInvoiceTotalPaybleLbl',
                                margin: '5 0 0 0',
                                width: '204px',
                                layout: 'vbox'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        cls: 'borderedDiv',
                        itemId: 'printInvoiceSubscriptionListPanel',
                        width: '100%',
                        layout: 'fit',
                        listeners: [
                            {
                                fn: function(component, eOpts) {

                                    var headers = component.down("#headerList");
                                    headers.setData([{}]);
                                    headers.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 1.0em;padding-top: 2px;height: 22px;font-weight: bold;  background-color: gainsboro;" class="x-invoice-listtpl-main onlyBottomBorderDiv">',
                                    '    <div style="width: 4%;margin-right: 0px;">',
                                    '        <div style="width: 20px;" data-name="all"></div>',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 50%;margin-right: 0px;" data-name="module_name">',
                                    '        Product/ Add Ons&nbsp;',
                                    '    </div>',
                                    '    <div class="" style="width: 0%;margin-right: 0px;text-align: center;" data-name="remark_val">',
                                    '       &nbsp;',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 12%;text-align: center; " data-name="quantity">',
                                    '        Qty&nbsp;',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 15%;text-align: center;" data-name="module_standard_price">',
                                    '        Rate&nbsp;',
                                    '    </div>',
                                    '    <div style="width: 18%;text-align: center;" data-name="per_month">',
                                    '        Per Month&nbsp;',
                                    '    </div>',
                                    '</div>'
                                    )
                                    );
                                    headers.refresh();

                                    var list = component.down('#mainList');
                                    list.setStore(Ext.getStore('printInvoice.subscribedModulesStore'));
                                    list.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="height:20px;" class="x-invoice-listtpl-main pointerCursor">',
                                    '    <div style="width: 4%;">',

                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 50%;font-weight: bold;">{[this.getProductName(values)]}</div>',
                                    '    <div class="" style="width: 0%;"></div>',

                                    '    <div class="rightBorderDiv" style="width: 12%;text-align: center;">{quantity}</div>',
                                    '    <div class="rightBorderDiv" style="width: 15%;text-align: right;padding-right: 1%;">$ {[formatNum(values.module_standard_price)]}</div>',
                                    '    <div  style="width: 18%;text-align: right;padding-right: 1%;">$ {[formatNum(values.per_month)]}</div>',
                                    '</div>',{

                                        getProductName:function(values){
                                            //remark_val

                                            if(values.remark_val && values.remark_val !="" ){

                                                var rVal = parseInt(values.remark_val) ;
                                                var msg= "" ;

                                                if(rVal > 2){

                                                    switch(rVal){

                                                        case 3:
                                                        msg = "1M Free Trial" ;
                                                        break ;
                                                        case 4:
                                                        msg = "2M Free Trial" ;
                                                        break ;
                                                        case 5:
                                                        msg = "3M Free Trial" ;
                                                        break ;
                                                        case 6:
                                                        msg = "6M Free Trial" ;
                                                        break ;
                                                        case 7:
                                                        msg = "9M Free Trial" ;
                                                        break ;
                                                        case 8:
                                                        msg = "1Yr Free Trial" ;
                                                        break ;
                                                    }

                                                    msg = '<span style="color: green;">' + msg + '</span>'  ;
                                                    return values.module_name + " - "+ msg ;
                                                }
                                            }

                                            return values.module_name  ;

                                        }
                                    }
                                    )
                                    );


                                    list.setItemHeight(20);


                                    list.addCls('x-rm-rdvendorslist');

                                    //list.refresh() ;
                                    /////////////////////////////////////////////////////////////////////////////
                                },
                                event: 'initialize'
                            }
                        ],
                        items: [
                            {
                                xtype: 'listwithheader',
                                margin: '0 0 0 0',
                                maxHeight: '420px',
                                minHeight: '400px'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        baseCls: 'x-form-fieldset normalTitle',
                        cls: 'noBottomBorderDiv',
                        hidden: true,
                        itemId: 'printInvoicePackageListPanel',
                        width: '100%',
                        listeners: [
                            {
                                fn: function(component, eOpts) {

                                    var headers = component.down("#headerList");
                                    headers.setData([{}]);
                                    headers.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 10px; color: #2EC1DA; height: 96%;" class="x-rm-listtpl-main onlyBottomBorderDiv">',
                                    '    <div style="width: 6%;">',
                                    '        <div style="width: 20px;" data-name="all"></div>',
                                    '    </div>',

                                    '    <div style="width: 30%;" data-name="module_name">',
                                    '        Product Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 10%;" data-name="quantity">',
                                    '        Qty&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 15%;" data-name="module_standard_price">',
                                    '        Unit Price&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 20%;" data-name="module_promotional_price">',
                                    '        Promotional Price&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 15%;" data-name="per_month">',
                                    '        Amount&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '</div>'
                                    )
                                    );
                                    headers.refresh();
                                    var list = component.down('#mainList');
                                    list.setStore(Ext.getStore('printInvoice.packModulesStore'));
                                    list.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 10px;" class="x-rm-listtpl-main pointerCursor">',
                                    '    <div style="width: 6%;">',
                                    '    </div>',
                                    '    <div style="width: 30%;">{module_name}</div>',
                                    '    <div style="width: 10%;">{quantity}</div>',
                                    '    <div style="width: 15%;padding-right: 1%;">{module_promotional_price}</div>',
                                    '    <div style="width: 20%;padding-right: 1%;">{module_promotional_price}</div>',
                                    '    <div style="width: 15%;padding-right: 1%;"></div>',
                                    '</div>'
                                    )
                                    );



                                    list.setItemHeight(22);


                                    list.addCls('x-rm-rdvendorslist');

                                    //list.refresh() ;
                                    //////////////////////////////////////////////////////////////////////////

                                },
                                event: 'initialize'
                            }
                        ],
                        items: [
                            {
                                xtype: 'listwithheaderforrtproductbullig',
                                hidden: true,
                                itemId: 'printInvoicePackgsList'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        baseCls: 'x-form-fieldset normalTitle',
                        cls: 'noTopBorderDiv',
                        hidden: true,
                        itemId: 'printInvoiceAddOnsListPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'listwithheader',
                                itemId: 'printInvoiceAddonsList'
                            }
                        ],
                        listeners: [
                            {
                                fn: function(component, eOpts) {
                                    var headers = component.down("#headerList");

                                    headers.setHeight(0);
                                    headers.setHidden(true);
                                    /*
                                    headers.setData([{}]);
                                    headers.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 10px;" class="x-rm-listtpl-main">',
                                    '    <div style="width: 6%;">',
                                    '        <div style="width: 20px;" data-name="all"></div>',
                                    '    </div>',

                                    '    <div style="width: 15%;" data-name="module_name">',
                                    '        Product Name&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 10%;" data-name="quantity">',
                                    '        Qty&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 15%;" data-name="module_standard_price">',
                                    '        Unit Price&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 15%;" data-name="module_promotional_price">',
                                    '        Promotional Price&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '    <div style="width: 15%;" data-name="per_month">',
                                    '        Amount&nbsp;<img src="resources/images/button_icons/downArrow.png"/>',
                                    '    </div>',
                                    '</div>'
                                    )
                                    );
                                    headers.refresh();*/
                                    var list = component.down('#mainList');
                                    list.setStore(Ext.getStore('printInvoice.addOnsModulesStore'));
                                    list.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 10px;" class="x-rm-listtpl-main pointerCursor">',
                                    '    <div style="width: 6%;">',

                                    '    </div>',

                                    '    <div style="width: 30%;">{module_name}</div>',
                                    '    <div style="width: 10%;">{quantity}</div>',
                                    '    <div style="width: 15%;padding-right: 1%;">{module_standard_price}</div>',
                                    '    <div style="width: 20%;padding-right: 1%;">{module_promotional_price}</div>',
                                    '    <div style="width: 15%;padding-right: 1%;">{per_month}</div>',
                                    '</div>'
                                    )
                                    );


                                    list.setItemHeight(22);


                                    list.addCls('x-rm-rdvendorslist');

                                    //list.refresh() ;
                                    /////////////////////////////////////////////////////////////////////////////
                                },
                                event: 'initialize'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        margin: '1 0 0 0',
                        padding: '0 0 0 0',
                        width: '100%',
                        layout: {
                            type: 'hbox',
                            pack: 'end'
                        },
                        items: [
                            {
                                xtype: 'fieldset',
                                flex: 1,
                                cls: ' x-rm-no_borderflds',
                                padding: '2 2 2 2',
                                items: [
                                    {
                                        xtype: 'textareafield',
                                        disabled: true,
                                        height: '56px',
                                        itemId: 'printInvoiceNoteFld',
                                        inputCls: 'inputdisabledClsFldAsLbl ',
                                        label: 'Note: ',
                                        labelWidth: '52px'
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                baseCls: 'x-form-fieldset normalTitle',
                                cls: ' x-rm-no_borderflds borderedDiv',
                                margin: '0 0 0 0',
                                padding: '2 2 2 10',
                                width: '210px',
                                layout: {
                                    type: 'vbox',
                                    align: 'start',
                                    pack: 'end'
                                },
                                items: [
                                    {
                                        xtype: 'label',
                                        html: 'Total:',
                                        itemId: 'printInvoiceSubTotalAmtFldLbl',
                                        style: 'font-size:1.0em;font-weight:bold;',
                                        width: '180px'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Discount:',
                                        itemId: 'invoicePrintSavingFldLbl',
                                        style: 'font-size:1.0em;font-weight:bold;',
                                        width: '180px'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Amount Due:',
                                        itemId: 'printInvoiceTotalAmtFldLbl',
                                        style: 'font-size:1.0em;font-weight:bold;',
                                        width: '180px'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Balance Due:',
                                        itemId: 'printInvoiceBalanceDueFldLbl',
                                        style: 'font-size:1.0em;font-weight:bold;',
                                        width: '180px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        html: '<div style= "margin:-18px 0 0 -12px;font-size:12px;">$</div>',
                                        itemId: 'printInvoiceSubTotalAmtFld',
                                        margin: '0 10 0 0',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl inputTextRightAlign ',
                                        label: '<b>Total:</b>',
                                        labelWidth: '105px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        html: '<div style= "margin:-18px 0 0 -12px;font-size:12px;">$</div>',
                                        itemId: 'invoicePrintSavingFld',
                                        margin: '0 10 0 0',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl inputTextRightAlign ',
                                        label: '<b>Discount:</b>',
                                        labelWidth: '105px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        html: '<div style= "margin:-18px 0 0 -12px;font-size:12px;">$</div>',
                                        itemId: 'printInvoiceTotalAmtFld',
                                        margin: '0 10 0 0',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl inputTextRightAlign ',
                                        label: '<b>Amount Due:</b>',
                                        labelWidth: '105px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        html: '<div style= "margin:-18px 0 0 -12px;font-size:12px;">$</div>',
                                        itemId: 'printInvoiceBalanceDueFld',
                                        margin: '0 10 0 0',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl inputTextRightAlign ',
                                        label: '<b>Balance Due:</b>',
                                        labelWidth: '105px'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        cls: 'x-rm-no_borderflds',
                        hidden: true,
                        width: '100%',
                        layout: 'hbox',
                        items: [
                            {
                                xtype: 'fieldset',
                                flex: 2,
                                baseCls: 'x-form-fieldset normalTitle',
                                itemId: 'printInoicePaymentDtlsPanel',
                                width: '100%',
                                items: [
                                    {
                                        xtype: 'label',
                                        html: 'Payment Method',
                                        itemId: 'printInvoicePaymentMethodLbl'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'Am Ex',
                                        itemId: 'printInvoiceAmExLbl'
                                    },
                                    {
                                        xtype: 'label',
                                        html: 'CC Approval #: ',
                                        itemId: 'printInvoiceCCApprovalLbl'
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                docked: 'right',
                                margin: '0 10 0 0',
                                width: '200px',
                                items: [
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        html: '<div style= "margin:-20px 0 0 -12px;font-size:0.9em;">$</div>',
                                        itemId: 'printInvoiceAmtPaidFld',
                                        margin: '0 10 0 0',
                                        width: '200px',
                                        inputCls: 'boldInputFld inputdisabledClsFldAsLbl',
                                        label: '<b>Amount Paid</b>',
                                        labelWidth: '105px'
                                    },
                                    {
                                        xtype: 'textfield',
                                        disabled: true,
                                        hidden: true,
                                        itemId: 'printinvoiceBottomDateFld',
                                        width: '200px',
                                        inputCls: 'inputdisabledClsFldAsLbl',
                                        label: '<b>Date</b>',
                                        labelWidth: '105px'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        itemId: 'printInvoicePaymentsPanel',
                        width: '100%',
                        layout: 'vbox',
                        title: '<div class="x-form-fieldset normalTitle"><b>Payment(s):</b></div>',
                        items: [
                            {
                                xtype: 'listwithheader',
                                cls: 'borderedDiv',
                                height: '100px'
                            }
                        ],
                        listeners: [
                            {
                                fn: function(component, eOpts) {
                                    /*

                                    proccessed_by: ""
                                    pay_date: "06/17/2014"
                                    payment_method_detail: ""
                                    paid_by: "cash"

                                    ammount_paying: "400"
                                    cc_approval: ""
                                    date: "06/17/2014"

                                    */
                                    var headers = component.down("#headerList");
                                    headers.setData([{}]);
                                    headers.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 1.0em;font-weight: bold;  background-color: gainsboro;" class="x-rm-listtpl-main onlyBottomBorderDiv">',

                                    '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="pay_date">',
                                    '        Date&nbsp;',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 15%;text-align: center;" data-name="paid_by">',
                                    '        Method&nbsp;',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="payment_method_detail">',
                                    '        Number&nbsp;',
                                    '    </div>',
                                    '    <div class="rightBorderDiv" style="width: 20%;text-align: center;" data-name="cc_approval">',
                                    '       Approval&nbsp;',
                                    '    </div>',
                                    '    <div style="width: 20%;text-align: center;" data-name="ammount_paying">',
                                    '        Amount&nbsp;',
                                    '    </div>',

                                    '</div>'
                                    )
                                    );
                                    headers.refresh();
                                    var list = component.down('#mainList');
                                    list.setStore(Ext.getStore('InvoicePaymentsStore'));
                                    list.setItemTpl(
                                    Ext.create('Ext.XTemplate',
                                    '<div style="font-size: 1.0em;" class="x-rm-listtpl-main pointerCursor">',
                                    '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{pay_date}</div>',
                                    '<div class="rightBorderDiv" style="width: 15%;text-align: center;">{paid_by}</div>',
                                    '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{payment_method_detail}</div>',
                                    '<div class="rightBorderDiv" style="width: 20%;text-align: center;">{cc_approval}</div>',
                                    '<div style="width: 20%;text-align:right;padding-right:2%;">$ {[formatNum(values.ammount_paying)]}</div>',
                                    '</div>'
                                    )
                                    );

                                    ///////////////////
                                    // list.setMode("SINGLE");
                                    //     list.on("select",function(rmProlist, record, eOpts){
                                    //         RMdatalink.app.getController('RMProController').onProductRMProListSelect(rmProlist, record, eOpts);
                                    // });

                                    list.setItemHeight(20);


                                    list.addCls('x-rm-rdvendorslist');


                                },
                                event: 'initialize'
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        cls: 'onlyTopBorderDiv',
                        docked: 'bottom',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                centered: true,
                                html: '<div style="font-size: 0.8em;">Thank you for your business. To learn more about all our products please visit : www.RMinno.com</div>',
                                style: 'font-size: 0.8em;'
                            }
                        ]
                    }
                ]
            }
        ]
    }

});