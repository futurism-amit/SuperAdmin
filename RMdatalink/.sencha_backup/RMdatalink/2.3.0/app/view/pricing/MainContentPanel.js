/*
 * File: app/view/pricing/MainContentPanel.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('RMdatalink.view.pricing.MainContentPanel', {
    extend: 'Ext.Container',
    alias: 'widget.pricingmaincontentpanel',

    requires: [
        'RMdatalink.view.detailsHeader',
        'RMdatalink.view.pricing.ListContainer',
        'RMdatalink.view.listWithHeader',
        'Ext.tab.Panel',
        'Ext.tab.Bar',
        'Ext.field.Select',
        'Ext.Button',
        'Ext.form.Panel',
        'Ext.form.FieldSet',
        'Ext.Label'
    ],

    config: {
        height: '100%',
        hidden: false,
        itemId: 'pricingMainContentsPanel',
        width: '100%',
        layout: 'vbox',
        items: [
            {
                xtype: 'detailsHeader',
                hidden: true,
                itemId: 'pricingDetailsHeader',
                margin: '0 0 10 0',
                flex: 1
            },
            {
                xtype: 'container',
                flex: 15,
                hidden: false,
                layout: 'hbox',
                items: [
                    {
                        xtype: 'tabpanel',
                        action: 'onActiveItemChanged',
                        flex: 2,
                        cls: 'x-rm-tabpanel',
                        hidden: false,
                        itemId: 'pricingDetailsMainTabPanel',
                        margin: '0 0 0 0',
                        ui: 'light',
                        tabBar: {
                            docked: 'top',
                            hidden: true,
                            maxHeight: '0px'
                        },
                        items: [
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'DATALINK',
                                itemId: 'dataLinkTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'pricinglistcontainer',
                                        itemId: 'dataLinkListItemID'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(element, eOpts) {
                                            window.location.hash = 'pricingCard'+0;



                                            //RMdatalink.app.getController('DatalinkController').enableDisableDlFlds(true);

                                            var timeout = setTimeout(function(){

                                                var vndStr = Ext.getStore('vendors.Master') ;
                                                vndStr.clearFilter();

                                                RMdatalink.app.getController('BillingDetailsController').loadVendorTotalCountData() ;

                                                var dlList = Ext.ComponentQuery.query('#dataLinkListItemID')[0].down('#pricingList') ;
                                                dlList.refresh();
                                                clearTimeout(timeout);
                                            },100);
                                        },
                                        event: 'painted'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'ECATALOG',
                                itemId: 'ecataLogTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'pricinglistcontainer',
                                        itemId: 'eCatalogListItemID'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(element, eOpts) {
                                            window.location.hash = 'pricingCard'+1;
                                        },
                                        event: 'painted'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'E-COMMERCE',
                                itemId: 'smartCartTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'pricinglistcontainer',
                                        itemId: 'smartCartListItemID'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(element, eOpts) {
                                            window.location.hash = 'pricingCard'+2;

                                        },
                                        event: 'painted'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'RM PRO',
                                hidden: true,
                                itemId: 'rmPLCTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'selectfield',
                                        docked: 'right',
                                        height: '30px',
                                        itemId: 'rm_proPricingPolicySelectFld1',
                                        style: 'font-size:80%;',
                                        width: '200px',
                                        placeHolder: 'Select Pricing Policy'
                                    },
                                    {
                                        xtype: 'pricinglistcontainer',
                                        itemId: 'rmPLCListItemID',
                                        margin: '0 -180px 0 0'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(element, eOpts) {
                                            window.location.hash = 'pricingCard'+3;

                                        },
                                        event: 'painted'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'IRUGZ',
                                itemId: 'iRugsTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'pricinglistcontainer',
                                        itemId: 'iRugzListItemID'
                                    }
                                ],
                                listeners: [
                                    {
                                        fn: function(element, eOpts) {
                                            window.location.hash = 'pricingCard'+4;

                                        },
                                        event: 'painted'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'button',
                        handler: function(button, e) {
                            var form = Ext.ComponentQuery.query('#pricingSideContainerItemID')[0];

                            form.setHidden(! form.getHidden() ) ;

                            if(form.getHidden()){

                                button.setIconCls("arrow_left");
                            }else{

                                button.setIconCls("arrow_right");
                                //arrow_down
                            }
                        },
                        border: '0 0 0 0',
                        cls: 'borderedDiv',
                        height: 100,
                        margin: '18% 0 0 0',
                        padding: '1px 1px 1px 1px',
                        style: 'background:transparent;border-radius: 20px;border-width: 1px !important;',
                        width: 24,
                        iconAlign: 'center',
                        iconCls: 'arrow_right'
                    },
                    {
                        xtype: 'tabpanel',
                        action: 'onActiveItemChanged',
                        cls: [
                            'x-rm-tabpanel',
                            'x-rm-tabpanelWidth33'
                        ],
                        itemId: 'pricingSideContainerItemID',
                        margin: '0 4 0 0',
                        ui: 'light',
                        width: '360px',
                        layout: {
                            type: 'card',
                            animation: false
                        },
                        tabBar: {
                            docked: 'top',
                            hidden: true
                        },
                        items: [
                            {
                                xtype: 'formpanel',
                                actionInit: 'containerInit',
                                title: 'PRICING POLICY',
                                cls: [
                                    'x-rm-rdformpanel',
                                    'borderedDiv'
                                ],
                                itemId: 'pricingPolicyTab',
                                margin: '0 0 2 2',
                                padding: '0 0 2 0',
                                ui: '',
                                layout: 'vbox',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            var DlVendorPricingSetUp = null ;

                                            if(Ext.ComponentQuery.query("#DlVendorPricingSetUp")[0])
                                            {

                                                DlVendorPricingSetUp = Ext.ComponentQuery.query("#DlVendorPricingSetUp")[0];

                                            }else{

                                                DlVendorPricingSetUp = Ext.widget('DlVendorPricingSetUp');
                                            }


                                            DlVendorPricingSetUp.showBy(button);
                                        },
                                        cls: 'newGrayBtn',
                                        height: '24px',
                                        maxHeight: '24px',
                                        minHeight: '24px',
                                        text: 'Policy Setup'
                                    },
                                    {
                                        xtype: 'fieldset',
                                        itemId: 'datalinkVendorBundleSetupPanel',
                                        padding: '0 0 4 0',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Bundle Setup (Vendors)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel5',
                                                margin: '1 0 10 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                                            },
                                            {
                                                xtype: 'selectfield',
                                                itemId: 'dlVendorBundleSelectFld',
                                                margin: 'margin: 0px 0px -3px 0px;',
                                                width: '98%',
                                                label: 'Bundle:',
                                                labelWidth: '80px',
                                                placeHolder: 'Select Pricing Policy',
                                                autoSelect: false,
                                                store: 'DatalinkVendors'
                                            },
                                            {
                                                xtype: 'textfield',
                                                itemId: 'dlVendorBundleTxtFld',
                                                margin: '0px 0px -1px 0',
                                                width: '98%',
                                                label: 'Name:',
                                                labelWidth: '80px'
                                            },
                                            {
                                                xtype: 'textfield',
                                                isCurrency: true,
                                                html: '<div style= "margin:-16px 0 0 -12px;font-size:12px;">$</div>',
                                                itemId: 'dlVendorPriceFld',
                                                margin: '0 0 0 0',
                                                width: '60%',
                                                label: 'Price:',
                                                labelWidth: '80px'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                margin: '10 2px 0 80',
                                                padding: '0 2 0 0',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'start'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {
                                                            RMdatalink.app.getController('DlPricingController').updateVendorBundle();
                                                        },
                                                        action: 'addNew',
                                                        cls: 'x-rm-blueBtn',
                                                        height: '20px',
                                                        itemId: 'addUpdate',
                                                        width: '80px',
                                                        text: 'Add'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {
                                                            RMdatalink.app.getController('DlPricingController').deleteVendorBundle();
                                                        },
                                                        cls: 'newGrayBtn',
                                                        height: '20px',
                                                        itemId: 'delete',
                                                        margin: '0 5 0 5',
                                                        minHeight: '24px',
                                                        width: '80px',
                                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                                        text: 'Delete'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {
                                                            RMdatalink.app.getController('DlPricingController').clearVendorBundle();
                                                        },
                                                        cls: [
                                                            'x-rm-blueBtn',
                                                            'x-rm-rdopenbtns',
                                                            'x-rm-smalliconbtns'
                                                        ],
                                                        height: '20px',
                                                        itemId: 'clear',
                                                        margin: '0 4 0 0',
                                                        width: '80px',
                                                        badgeText: '',
                                                        iconAlign: 'center',
                                                        text: 'Clear'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        itemId: 'DlVdrPricingbyVendorsPanel',
                                        width: '100%',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Pricing Setup (Vendors)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel6',
                                                margin: '0 0 0 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                                            },
                                            {
                                                xtype: 'fieldset',
                                                margin: '0 0 0 0',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'start'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'fieldset',
                                                        height: '48px',
                                                        margin: '0 0 0 0',
                                                        width: '100%',
                                                        layout: 'vbox',
                                                        items: [
                                                            {
                                                                xtype: 'selectfield',
                                                                itemId: 'dlpolicySelectVendors',
                                                                label: 'Pricing Policy:',
                                                                autoSelect: false,
                                                                store: 'DlPricingVendors'
                                                            },
                                                            {
                                                                xtype: 'textfield',
                                                                flex: 1,
                                                                itemId: 'policyText',
                                                                label: 'Name:'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'fieldset',
                                                        margin: '0 0 0 20',
                                                        padding: '0 4 0 0',
                                                        layout: 'vbox'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'fieldset',
                                                margin: '1 0 0 0',
                                                padding: '0 2 0 0',
                                                width: '98%',
                                                layout: {
                                                    type: 'hbox',
                                                    align: 'start',
                                                    pack: 'center'
                                                },
                                                items: [
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {
                                                            RMdatalink.app.getController('DlPricingController').updateVendorPricing();
                                                        },
                                                        action: 'addNew',
                                                        cls: 'x-rm-blueBtn',
                                                        height: '20px',
                                                        itemId: 'addUpdate',
                                                        margin: '0 0 0 20',
                                                        width: '80px',
                                                        text: 'Add'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {
                                                            //RMdatalink.app.getController('ecomPricingController').deleteSkuImgs();
                                                        },
                                                        cls: 'newGrayBtn',
                                                        height: '20px',
                                                        itemId: 'delete',
                                                        margin: '0 0 0 20',
                                                        minHeight: '24px',
                                                        width: '80px',
                                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                                        text: 'Delete'
                                                    },
                                                    {
                                                        xtype: 'button',
                                                        handler: function(button, e) {

                                                            var form = Ext.ComponentQuery.query('#DlVdrPricingbyVendorsPanel')[0] ;
                                                            form.down('#policyText').setValue("");


                                                            form.down('#addUpdate').setText("Add");

                                                            form.down('#dlpolicySelectVendors').reset();
                                                        },
                                                        cls: [
                                                            'x-rm-blueBtn',
                                                            'x-rm-rdopenbtns',
                                                            'x-rm-smalliconbtns'
                                                        ],
                                                        height: '20px',
                                                        itemId: 'clear',
                                                        margin: '0 0 0 20',
                                                        width: '80px',
                                                        badgeText: '',
                                                        iconAlign: 'center',
                                                        text: 'Clear'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        width: '100%',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown1',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Pricing Setup (SKU + Images)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel6',
                                                margin: '0 0 1 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;',
                                                width: '100%',
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            component.element.on('tap',function(){
                                                                var cmp = component.getParent().getParent()  ;
                                                                if(cmp.down('#cmp1').getHidden() || component.getParent().getHeight() == 26){
                                                                    cmp.down('#cmp1').setHidden(false);
                                                                    cmp.down('#pricingPolicy1stList').setHidden(false);
                                                                    // component.getParent().setHeight("auto"); //
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                }else{

                                                                    cmp.down('#cmp1').setHidden(true);
                                                                    cmp.down('#pricingPolicy1stList').setHidden(true);
                                                                    //  component.getParent().setHeight(26);
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                }

                                                            }) ;
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'formpanel',
                                        cls: 'x-rm-rdformpanel',
                                        height: '30px',
                                        itemId: 'cmp1',
                                        scrollable: false,
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                centered: true,
                                                itemId: 'pricingPolicySkuIncrementSelectFld',
                                                label: 'Pricing Policy',
                                                placeHolder: 'Select Pricing Policy',
                                                autoSelect: false,
                                                store: 'DlVdPricingSkuImgs'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'pricingPolicy1stList',
                                        flex: 1
                                    },
                                    {
                                        xtype: 'fieldset',
                                        width: '100%',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown1',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Pricing Setup (SKU + Images + Addl Images)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel6',
                                                margin: '0 0 1 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;',
                                                width: '100%',
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            component.element.on('tap',function(){
                                                                var cmp = component.getParent().getParent()  ;
                                                                if(cmp.down('#cmp3').getHidden() || component.getParent().getHeight() == 26){
                                                                    cmp.down('#cmp3').setHidden(false);
                                                                    cmp.down('#pricingPolicySkuImgsAddImgsListPnl').setHidden(false);
                                                                    // component.getParent().setHeight("auto"); //
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                }else{

                                                                    cmp.down('#cmp3').setHidden(true);
                                                                    cmp.down('#pricingPolicySkuImgsAddImgsListPnl').setHidden(true);
                                                                    //  component.getParent().setHeight(26);
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                }

                                                            }) ;
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'formpanel',
                                        cls: 'x-rm-rdformpanel',
                                        height: '30px',
                                        itemId: 'cmp3',
                                        scrollable: false,
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                centered: true,
                                                itemId: 'pricingPolicySkuAddlImgsIncrementSelectFld',
                                                label: 'Pricing Policy',
                                                placeHolder: 'Select Pricing Policy',
                                                autoSelect: false,
                                                store: 'DlVdPricingSkuImgsAddlImages'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'pricingPolicySkuImgsAddImgsListPnl',
                                        flex: 1
                                    },
                                    {
                                        xtype: 'fieldset',
                                        width: '100%',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown1',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Discount Setup (Vendors)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel7',
                                                margin: '0 0 1 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;',
                                                width: '100%',
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            component.element.on('tap',function(){

                                                                var cmp = component.getParent().getParent()  ;

                                                                if(cmp.down('#cmp2').getHidden() || component.getParent().getHeight() == 26){
                                                                    cmp.down('#cmp2').setHidden(false);
                                                                    cmp.down('#pricingPolicy2ndList').setHidden(false);
                                                                    // component.getParent().setHeight("auto"); //
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                }else{

                                                                    cmp.down('#cmp2').setHidden(true);
                                                                    cmp.down('#pricingPolicy2ndList').setHidden(true);
                                                                    //  component.getParent().setHeight(26);
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                }

                                                            }) ;
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'formpanel',
                                        cls: 'x-rm-rdformpanel',
                                        height: '30px',
                                        itemId: 'cmp2',
                                        scrollable: false,
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                centered: true,
                                                itemId: 'DiscountPolicyVendorsIncrementSelectFld',
                                                label: 'Discount Policy',
                                                placeHolder: 'Select Discount Policy',
                                                autoSelect: false,
                                                store: 'DlVdPricingVdrDiscount'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'pricingPolicy2ndList',
                                        flex: 1
                                    },
                                    {
                                        xtype: 'fieldset',
                                        width: '100%',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'label',
                                                labelAction: 'dropDown1',
                                                cls: [
                                                    'fieldLbl',
                                                    'pointerCursor'
                                                ],
                                                html: 'Discount Setup (SKU)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                                itemId: 'mylabel7',
                                                margin: '0 0 1 0',
                                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;',
                                                width: '100%',
                                                listeners: [
                                                    {
                                                        fn: function(component, eOpts) {
                                                            component.element.on('tap',function(){

                                                                var cmp = component.getParent().getParent()  ;

                                                                if(cmp.down('#cmp4').getHidden() || component.getParent().getHeight() == 26){
                                                                    cmp.down('#cmp4').setHidden(false);
                                                                    cmp.down('#pricingPolicySKUDiscountList').setHidden(false);
                                                                    // component.getParent().setHeight("auto"); //
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/downArrow.png";
                                                                }else{

                                                                    cmp.down('#cmp4').setHidden(true);
                                                                    cmp.down('#pricingPolicySKUDiscountList').setHidden(true);
                                                                    //  component.getParent().setHeight(26);
                                                                    component.getParent().getEl().query('img')[0].src = "resources/images/labelHeader/rightArrow.png";
                                                                }

                                                            }) ;
                                                        },
                                                        event: 'initialize'
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'formpanel',
                                        cls: 'x-rm-rdformpanel',
                                        height: '30px',
                                        itemId: 'cmp4',
                                        scrollable: false,
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                centered: true,
                                                itemId: 'DiscountPolicySKUIncrementSelectFld',
                                                label: 'Discount Policy',
                                                placeHolder: 'Select Discount Policy',
                                                autoSelect: false,
                                                store: 'DlVdPricingSKUDiscount'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'pricingPolicySKUDiscountList',
                                        flex: 1
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'FUNCTIONALITY',
                                itemId: 'functionalityTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'fuctionalityList'
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                actionInit: 'containerInit',
                                title: 'PERMISSION',
                                itemId: 'permissionTab',
                                layout: 'fit',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'listwithheader',
                                        itemId: 'permissionList'
                                    }
                                ]
                            }
                        ],
                        listeners: [
                            {
                                fn: function(element, eOpts) {

                                    var form = Ext.ComponentQuery.query('#productDatalinkMainPanel')[0] ;


                                    if(form.down('#datalinkSetupEditBtn').getHidden()){

                                        RMdatalink.app.getController('DatalinkController').enableDisableDlFlds(false);

                                    }else{

                                        RMdatalink.app.getController('DatalinkController').enableDisableDlFlds(true);

                                    }

                                    var pricingData = RMdatalink.app.getController('BillingDetailsController').config.pricingData ;


                                    if(!pricingData[0].state_values){
                                        return ;
                                    }
                                    var selectfield ;

                                    if(pricingData[0].state_values.datalink_vendor_bundle )
                                    {
                                        selectfield = Ext.ComponentQuery.query('#dlVendorBundleSelectFld')[0] ;
                                        selectfield.setValue( pricingData[0].state_values.datalink_vendor_bundle ) ;
                                    }


                                    if(pricingData[0].state_values.vendor_pricing_sku_images )
                                    {
                                        selectfield = Ext.ComponentQuery.query('#pricingPolicySkuIncrementSelectFld')[0] ;
                                        selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_images ) ;
                                    }


                                    if(pricingData[0].state_values.vendor_pricing_sku_images_addl_images )
                                    {
                                        selectfield = Ext.ComponentQuery.query('#pricingPolicySkuAddlImgsIncrementSelectFld')[0] ;
                                        selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_images_addl_images ) ;
                                    }

                                    if(pricingData[0].state_values.vendor_pricing_vdr_discount )
                                    {
                                        selectfield = Ext.ComponentQuery.query('#DiscountPolicyVendorsIncrementSelectFld')[0] ;
                                        selectfield.setValue( pricingData[0].state_values.vendor_pricing_vdr_discount ) ;
                                    }

                                    if(pricingData[0].state_values.vendor_pricing_sku_discount )
                                    {
                                        selectfield = Ext.ComponentQuery.query('#DiscountPolicySKUIncrementSelectFld')[0] ;
                                        selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_discount ) ;
                                    }
                                },
                                event: 'painted'
                            }
                        ]
                    }
                ]
            }
        ],
        listeners: [
            {
                fn: 'onListItemTap',
                event: 'itemtap',
                delegate: '#dataLinkListItemID #pricingList'
            },
            {
                fn: 'onDataviewItemTap',
                event: 'itemtap',
                delegate: '#dataLinkListItemID #pricingListHeader'
            },
            {
                fn: 'onContainerInitialize',
                event: 'initialize'
            }
        ]
    },

    onListItemTap: function(dataview, index, target, record, e, eOpts) {

        var attrToSearch = RMdatalink.util.globalConfig.getListAttrForDelHandling();
        var targetEl = e.target;


        // delegateAttr="onCartTap"

        if( RMdatalink.util.globalConfig.isAttributePresentInTarget( attrToSearch,targetEl )  ){

                 var attrVak = targetEl.getAttribute(attrToSearch);

                 if(attrVak == "onCartTap")
                 {

                           var timeout = setTimeout(function(){

                                RMdatalink.app.getController('BillingDetailsController').loadVendorTotalCountData();

                                clearTimeout(timeout);
                            },100);


                 }

        }else{

            if(dataview.isSelected(record))
            {

                dataview.deselect(record,true) ;
            }else{

                dataview.select(record,true) ;
            }

        //    RMdatalink.app.getController('DatalinkController').onProductRMProListSelect(dataview, record, eOpts);
        }
    },

    onDataviewItemTap: function(dataview, index, target, record, e, eOpts) {

        var attrToSearch = RMdatalink.util.globalConfig.getListAttrForDelHandling();
        var targetEl = e.target;


        // delegateAttr="onCartTap"

        if( RMdatalink.util.globalConfig.isAttributePresentInTarget( attrToSearch,targetEl )  ){

                 var attrVak = targetEl.getAttribute(attrToSearch);

                 if(attrVak == "onCartTap")
                 {


                         var dlList = Ext.ComponentQuery.query('#dataLinkListItemID')[0].down('#pricingList') ;

                         if(dataview.isSelected(record))
                         {
                              dlList.deselectAll();
                              record.set('is_selected',false);

                         }else{
                              record.set('is_selected',true);
                             dlList.selectAll(true);

                         }

                         RMdatalink.app.getController('BillingDetailsController').loadVendorTotalCountData();



                 }

        }else{

            if(dataview.isSelected(record))
            {

                dataview.deselect(record,true) ;
            }else{

                dataview.select(record,true) ;
            }

        //    RMdatalink.app.getController('DatalinkController').onProductRMProListSelect(dataview, record, eOpts);
        }
    },

    onContainerInitialize: function(component, eOpts) {

          component.down('#detailsSaveBtn').element.on("tap",function(){

             RMdatalink.app.getController('BillingDetailsController').pricingSavedButtonFunctionality();

        });


    }

});