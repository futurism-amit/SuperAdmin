/*
 * File: app/view/DlVendorPricingSetUp.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.3.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.3.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('RMdatalink.view.DlVendorPricingSetUp', {
    extend: 'Ext.Sheet',
    alias: 'widget.DlVendorPricingSetUp',

    requires: [
        'Ext.form.Panel',
        'Ext.form.FieldSet',
        'Ext.Label',
        'Ext.field.Select',
        'Ext.Button'
    ],

    config: {
        cls: 'x-rm-filterdd',
        height: 520,
        hideAnimation: false,
        itemId: 'DlVendorPricingSetUp',
        padding: '4 0 0 0',
        showAnimation: false,
        style: 'padding-top:0px;',
        width: 520,
        hideOnMaskTap: true,
        layout: 'vbox',
        items: [
            {
                xtype: 'formpanel',
                action: 'setScrollBarVisible',
                flex: 1,
                cls: 'x-rm-rdformpanel',
                layout: 'vbox',
                scrollable: true,
                items: [
                    {
                        xtype: 'fieldset',
                        itemId: 'dlVdrPricingSku_imgsSetUpPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                labelAction: 'dropDown',
                                cls: [
                                    'fieldLbl',
                                    'pointerCursor'
                                ],
                                html: 'Pricing Setup (SKU + Images)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                itemId: 'mylabel6',
                                margin: '1 0 10 0',
                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                            },
                            {
                                xtype: 'fieldset',
                                layout: {
                                    type: 'hbox',
                                    align: 'start'
                                },
                                items: [
                                    {
                                        xtype: 'fieldset',
                                        flex: 1.28,
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'selectfield',
                                                        itemId: 'policySelectSI',
                                                        width: '60%',
                                                        autoSelect: false,
                                                        store: 'DlVdPricingSkuImgs'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'policyText'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'stdStart',
                                                label: 'Std. Price Start:',
                                                labelWidth: '60%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'promoStart',
                                                label: 'Promo. Price Start :',
                                                labelWidth: '60%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        flex: 1,
                                        margin: '0 0 0 20',
                                        padding: '0 4 0 0',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                action: 'valueGtZero',
                                                itemId: 'range',
                                                label: 'SKU Range:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'stdIncrement',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'promoIncrement',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                margin: '4 0 4 0',
                                padding: '0 2 0 0',
                                width: '86%',
                                layout: {
                                    type: 'hbox',
                                    align: 'start',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').getSkuImgsPolicy();
                                        },
                                        action: 'addNew',
                                        cls: 'x-rm-blueBtn',
                                        height: '20px',
                                        itemId: 'addUpdate',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        text: 'Add'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').deleteSkuImgs();
                                        },
                                        cls: 'newGrayBtn',
                                        height: '20px',
                                        itemId: 'delete',
                                        margin: '0 0 0 20',
                                        minHeight: '24px',
                                        width: '80px',
                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                        text: 'Delete'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').clearSkuImgsFlds();
                                        },
                                        cls: [
                                            'x-rm-blueBtn',
                                            'x-rm-rdopenbtns',
                                            'x-rm-smalliconbtns'
                                        ],
                                        height: '20px',
                                        itemId: 'clear',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        badgeText: '',
                                        iconAlign: 'center',
                                        text: 'Clear'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        itemId: 'dlVdrPricingSku_imgs_addlImgsSetUpPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                labelAction: 'dropDown',
                                cls: [
                                    'fieldLbl',
                                    'pointerCursor'
                                ],
                                html: 'Pricing Setup (SKU + Images + Addl Images)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                itemId: 'mylabel6',
                                margin: '1 0 10 0',
                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                            },
                            {
                                xtype: 'fieldset',
                                layout: {
                                    type: 'hbox',
                                    align: 'start'
                                },
                                items: [
                                    {
                                        xtype: 'fieldset',
                                        flex: 1.28,
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'selectfield',
                                                        itemId: 'policySelectAI',
                                                        width: '60%',
                                                        autoSelect: false,
                                                        store: 'DlVdPricingSkuImgsAddlImages'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'policyText'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'stdStart',
                                                label: 'Std. Price Start:',
                                                labelWidth: '60%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'promoStart',
                                                label: 'Promo. Price Start :',
                                                labelWidth: '60%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        flex: 1,
                                        margin: '0 0 0 20',
                                        padding: '0 4 0 0',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                action: 'valueGtZero',
                                                itemId: 'range',
                                                label: 'SKU Range:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'stdIncrement',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">$</div>',
                                                itemId: 'promoIncrement',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                margin: '4 0 4 0',
                                padding: '0 2 0 0',
                                width: '86%',
                                layout: {
                                    type: 'hbox',
                                    align: 'start',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').updateSkuImgsAddlImgs();
                                        },
                                        action: 'addNew',
                                        cls: 'x-rm-blueBtn',
                                        height: '20px',
                                        itemId: 'addUpdate',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        text: 'Add'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').deleteImgsAddlImgs();
                                        },
                                        cls: 'newGrayBtn',
                                        height: '20px',
                                        itemId: 'delete',
                                        margin: '0 0 0 20',
                                        minHeight: '24px',
                                        width: '80px',
                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                        text: 'Delete'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').clearImgsAddlImgs();
                                        },
                                        cls: [
                                            'x-rm-blueBtn',
                                            'x-rm-rdopenbtns',
                                            'x-rm-smalliconbtns'
                                        ],
                                        height: '20px',
                                        itemId: 'clear',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        badgeText: '',
                                        iconAlign: 'center',
                                        text: 'Clear'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        itemId: 'dlVdrPricingVdrDiscountSetUpPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                labelAction: 'dropDown',
                                cls: [
                                    'fieldLbl',
                                    'pointerCursor'
                                ],
                                html: 'Discount Policy Setup (Vendors)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                itemId: 'mylabel6',
                                margin: '1 0 10 0',
                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                            },
                            {
                                xtype: 'fieldset',
                                layout: {
                                    type: 'hbox',
                                    align: 'start'
                                },
                                items: [
                                    {
                                        xtype: 'fieldset',
                                        flex: 1.28,
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'selectfield',
                                                        itemId: 'discountPolicySlct',
                                                        width: '60%',
                                                        autoSelect: false,
                                                        store: 'DlVdPricingVdrDiscount'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'discountPolicySlctTxt'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">%</div>',
                                                itemId: 'start',
                                                label: 'Percentage Start:',
                                                labelWidth: '60%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        flex: 1,
                                        margin: '0 0 0 20',
                                        padding: '0 4 0 0',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                action: 'valueGtZero',
                                                itemId: 'range',
                                                label: 'Vendor Range:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">%</div>',
                                                itemId: 'increment',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                margin: '4 0 4 0',
                                padding: '0 2 0 0',
                                width: '86%',
                                layout: {
                                    type: 'hbox',
                                    align: 'start',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').updateVdrDiscount();
                                        },
                                        action: 'addNew',
                                        cls: 'x-rm-blueBtn',
                                        height: '20px',
                                        itemId: 'addUpdate',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        text: 'Add'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').deleteVdrDisc();
                                        },
                                        cls: 'newGrayBtn',
                                        height: '20px',
                                        itemId: 'delete',
                                        margin: '0 0 0 20',
                                        minHeight: '24px',
                                        width: '80px',
                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                        text: 'Delete'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').clearVdrDisc();
                                        },
                                        cls: [
                                            'x-rm-blueBtn',
                                            'x-rm-rdopenbtns',
                                            'x-rm-smalliconbtns'
                                        ],
                                        height: '20px',
                                        itemId: 'clear',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        badgeText: '',
                                        iconAlign: 'center',
                                        text: 'Clear'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        itemId: 'dlVdrPricingSKUDiscountSetUpPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                labelAction: 'dropDown',
                                cls: [
                                    'fieldLbl',
                                    'pointerCursor'
                                ],
                                html: 'Discount Policy Setup (SKU)<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                itemId: 'mylabel6',
                                margin: '1 0 10 0',
                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                            },
                            {
                                xtype: 'fieldset',
                                layout: {
                                    type: 'hbox',
                                    align: 'start'
                                },
                                items: [
                                    {
                                        xtype: 'fieldset',
                                        flex: 1.28,
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'fieldset',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'selectfield',
                                                        itemId: 'SKUdiscountPolicySlct',
                                                        width: '60%',
                                                        autoSelect: false,
                                                        store: 'DlVdPricingSKUDiscount'
                                                    },
                                                    {
                                                        xtype: 'textfield',
                                                        flex: 1,
                                                        itemId: 'discountPolicySlctTxt'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">%</div>',
                                                itemId: 'start',
                                                label: 'Percentage Start:',
                                                labelWidth: '60%'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'fieldset',
                                        flex: 1,
                                        margin: '0 0 0 20',
                                        padding: '0 4 0 0',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                action: 'valueGtZero',
                                                itemId: 'range',
                                                label: 'SKU Range:',
                                                labelWidth: '52%'
                                            },
                                            {
                                                xtype: 'textfield',
                                                html: '<div style= "margin:-18px 0 0 -12px;font-size:0.75em;">%</div>',
                                                itemId: 'increment',
                                                label: 'Increment:',
                                                labelWidth: '52%'
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'fieldset',
                                margin: '4 0 4 0',
                                padding: '0 2 0 0',
                                width: '86%',
                                layout: {
                                    type: 'hbox',
                                    align: 'start',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').updateSKUDisc();
                                        },
                                        action: 'addNew',
                                        cls: 'x-rm-blueBtn',
                                        height: '20px',
                                        itemId: 'addUpdate',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        text: 'Add'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').deleteSkuDisc();
                                        },
                                        cls: 'newGrayBtn',
                                        height: '20px',
                                        itemId: 'delete',
                                        margin: '0 0 0 20',
                                        minHeight: '24px',
                                        width: '80px',
                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                        text: 'Delete'
                                    },
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').clearSKUDisc();
                                        },
                                        cls: [
                                            'x-rm-blueBtn',
                                            'x-rm-rdopenbtns',
                                            'x-rm-smalliconbtns'
                                        ],
                                        height: '20px',
                                        itemId: 'clear',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        badgeText: '',
                                        iconAlign: 'center',
                                        text: 'Clear'
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'fieldset',
                        itemId: 'dlVdrPricingTimeTknToUploadPanel',
                        width: '100%',
                        items: [
                            {
                                xtype: 'label',
                                labelAction: 'dropDown',
                                cls: [
                                    'fieldLbl',
                                    'pointerCursor'
                                ],
                                html: 'Value Calculator Setup<img src="resources/images/labelHeader/downArrow.png" style="float: right;"/>',
                                itemId: 'mylabel6',
                                margin: '1 0 10 0',
                                style: 'background-color: gainsboro;font-weight:bold;font-size:0.8em;'
                            },
                            {
                                xtype: 'textfield',
                                itemId: 'vdrTimeTknSkuImagsFld',
                                label: 'Time Taken per SKU + Image:',
                                labelWidth: '52%'
                            },
                            {
                                xtype: 'textfield',
                                itemId: 'vdrTimeTknSkuImagsAddlImgsFld',
                                label: 'Time Taken per SKU + Image + Addl Image:',
                                labelWidth: '52%'
                            },
                            {
                                xtype: 'fieldset',
                                margin: '4 0 4 0',
                                padding: '0 2 0 0',
                                width: '86%',
                                layout: {
                                    type: 'hbox',
                                    align: 'start',
                                    pack: 'center'
                                },
                                items: [
                                    {
                                        xtype: 'button',
                                        handler: function(button, e) {
                                            RMdatalink.app.getController('DlPricingController').updateTimeTakenFlds();
                                        },
                                        action: 'addNew',
                                        cls: 'x-rm-blueBtn',
                                        height: '20px',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        text: 'Update'
                                    },
                                    {
                                        xtype: 'button',
                                        cls: 'newGrayBtn',
                                        height: '20px',
                                        hidden: true,
                                        margin: '0 0 0 20',
                                        minHeight: '24px',
                                        width: '80px',
                                        pressedCls: 'x-rm-card-actionbtn-pressing',
                                        text: 'Delete'
                                    },
                                    {
                                        xtype: 'button',
                                        cls: [
                                            'x-rm-blueBtn',
                                            'x-rm-rdopenbtns',
                                            'x-rm-smalliconbtns'
                                        ],
                                        height: '20px',
                                        margin: '0 0 0 20',
                                        width: '80px',
                                        badgeText: '',
                                        iconAlign: 'center',
                                        text: 'Clear'
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        listeners: [
            {
                fn: 'onDlVendorPricingSetUpPainted',
                event: 'painted'
            }
        ]
    },

    onDlVendorPricingSetUpPainted: function(element, eOpts) {
            var pricingData = RMdatalink.app.getController('BillingDetailsController').config.pricingData ;

            if(!pricingData[0]){

                return ;
            }



            var form = Ext.ComponentQuery.query('#dlVdrPricingTimeTknToUploadPanel')[0] ;


            form.down('#vdrTimeTknSkuImagsFld').setValue(pricingData[0].time_taken_images) ;
            form.down('#vdrTimeTknSkuImagsAddlImgsFld').setValue(pricingData[0].time_taken_images_addl_images) ;





        form = Ext.ComponentQuery.query('#DlVendorPricingSetUp')[0] ;
        var pricingData = RMdatalink.app.getController('BillingDetailsController').config.pricingData ;


        if(!pricingData[0].state_values){
            return ;
        }
        var selectfield ;



        if(pricingData[0].state_values.vendor_pricing_sku_images )
        {
            selectfield = form.down('#policySelectSI') ;
            selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_images ) ;
        }


        if(pricingData[0].state_values.vendor_pricing_sku_images_addl_images )
        {
           selectfield = form.down('#policySelectAI') ;
            selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_images_addl_images ) ;
        }

        if(pricingData[0].state_values.vendor_pricing_vdr_discount )
        {
             selectfield = form.down('#discountPolicySlct') ;
            selectfield.setValue( pricingData[0].state_values.vendor_pricing_vdr_discount ) ;
        }


        if(pricingData[0].state_values.vendor_pricing_sku_discount )
        {
             selectfield = form.down('#SKUdiscountPolicySlct') ;
            selectfield.setValue( pricingData[0].state_values.vendor_pricing_sku_discount ) ;
        }
    }

});